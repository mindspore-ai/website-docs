

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mindspore.mindrecord &mdash; MindSpore 0.2.0-alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="mindinsight.lineagemgr" href="../mindinsight/mindinsight.lineagemgr.html" />
    <link rel="prev" title="mindspore.dataset.transforms.vision.py_transforms" href="mindspore.dataset.transforms.vision.py_transforms.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dtype.html">mindspore.dtype</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.dynamic_lr.html">mindspore.nn.dynamic_lr</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.composite.html">mindspore.ops.composite</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.operations.html">mindspore.ops.operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.parallel.html">mindspore.parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.train.html">mindspore.train</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.c_transforms.html">mindspore.dataset.transforms.c_transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.vision.c_transforms.html">mindspore.dataset.transforms.vision.c_transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.py_transforms.html">mindspore.dataset.transforms.py_transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.vision.py_transforms.html">mindspore.dataset.transforms.vision.py_transforms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindinsight/mindinsight.lineagemgr.html">mindinsight.lineagemgr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.html">mindarmour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.utils.html">mindarmour.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.evaluations.html">mindarmour.evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.detectors.html">mindarmour.detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.attacks.html">mindarmour.attacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.defenses.html">mindarmour.defenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.fuzzing.html">mindarmour.fuzzing</a></li>
</ul>
<p class="caption"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/apicc/zh-CN/0.2.0-alpha/predict/namespacemembers.html">predict</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>mindspore.mindrecord</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/api/python/mindspore/mindspore.mindrecord.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mindspore.mindrecord">
<span id="mindspore-mindrecord"></span><h1>mindspore.mindrecord<a class="headerlink" href="#module-mindspore.mindrecord" title="Permalink to this headline">¶</a></h1>
<p>Introduction to mindrecord:</p>
<p>Mindrecord is a module to implement reading, writing, search and
converting for MindSpore format dataset. Users could load(modify)
mindrecord data through FileReader(FileWriter). Users could also
convert other format dataset to mindrecord data through
corresponding sub-module.</p>
<dl class="class">
<dt id="mindspore.mindrecord.FileWriter">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">FileWriter</code><span class="sig-paren">(</span><em class="sig-param">file_name</em>, <em class="sig-param">shard_num=1</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to write user defined raw data into MindRecord File series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File name of MindRecord File.</p></li>
<li><p><strong>shard_num</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of MindRecord File (default=1).
It should be between [1, 1000].</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ParamValueError</strong> – If file_name or shard_num is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.add_index">
<code class="sig-name descname">add_index</code><span class="sig-paren">(</span><em class="sig-param">index_fields</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.add_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.add_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Select index fields from schema to accelerate reading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index_fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Fields would be set as index which should be primitive type.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamTypeError</strong> – If index field is invalid.</p></li>
<li><p><strong>MRMDefineIndexError</strong> – If index field is not primitive type.</p></li>
<li><p><strong>MRMAddIndexError</strong> – If failed to add index field.</p></li>
<li><p><strong>MRMGetMetaError</strong> – If the schema is not set or get meta failed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.add_schema">
<code class="sig-name descname">add_schema</code><span class="sig-paren">(</span><em class="sig-param">content</em>, <em class="sig-param">desc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.add_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.add_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a schema id if added schema successfully, or raise exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dict of user defined schema.</p></li>
<li><p><strong>desc</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – String of schema description (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int, schema id.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MRMInvalidSchemaError</strong> – If schema is invalid.</p></li>
<li><p><strong>MRMBuildSchemaError</strong> – If failed to build schema.</p></li>
<li><p><strong>MRMAddSchemaError</strong> – If failed to add schema.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.commit">
<code class="sig-name descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush data to disk and generate the correspond db files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord File.</p></li>
<li><p><strong>MRMSetHeaderError</strong> – If failed to set header.</p></li>
<li><p><strong>MRMIndexGeneratorError</strong> – If failed to create index generator.</p></li>
<li><p><strong>MRMGenerateIndexError</strong> – If failed to write to database.</p></li>
<li><p><strong>MRMCommitError</strong> – If failed to flush data to disk.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.open_and_set_header">
<code class="sig-name descname">open_and_set_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.open_and_set_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.open_and_set_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Open writer and set header</p>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.open_for_append">
<em class="property">classmethod </em><code class="sig-name descname">open_for_append</code><span class="sig-paren">(</span><em class="sig-param">file_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.open_for_append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.open_for_append" title="Permalink to this definition">¶</a></dt>
<dd><p>Open MindRecord file and get ready to append data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of MindRecord file name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of FileWriter.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If file_name is invalid.</p></li>
<li><p><strong>FileNameError</strong> – If path contains invalid character.</p></li>
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord File.</p></li>
<li><p><strong>MRMOpenForAppendError</strong> – If failed to open file for appending data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.set_header_size">
<code class="sig-name descname">set_header_size</code><span class="sig-paren">(</span><em class="sig-param">header_size</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.set_header_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.set_header_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the size of header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>header_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Size of header, between 16KB and 128MB.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>MRMInvalidHeaderSizeError</strong> – If failed to set header size.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.set_page_size">
<code class="sig-name descname">set_page_size</code><span class="sig-paren">(</span><em class="sig-param">page_size</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.set_page_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.set_page_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the size of Page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>page_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Size of page, between 32KB and 256MB.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>MRMInvalidPageSizeError</strong> – If failed to set page size.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileWriter.write_raw_data">
<code class="sig-name descname">write_raw_data</code><span class="sig-paren">(</span><em class="sig-param">raw_data</em>, <em class="sig-param">parallel_writer=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filewriter.html#FileWriter.write_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.write_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Write raw data and generate sequential pair of MindRecord File and         validate data based on predefined schema by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>]</em>) – List of raw data.</p></li>
<li><p><strong>parallel_writer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Load data parallel if it equals to True (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ParamTypeError</strong> – If index field is invalid.</p></li>
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord File.</p></li>
<li><p><strong>MRMValidateDataError</strong> – If data does not match blob fields.</p></li>
<li><p><strong>MRMSetHeaderError</strong> – If failed to set header.</p></li>
<li><p><strong>MRMWriteDatasetError</strong> – If failed to write dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.FileReader">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">FileReader</code><span class="sig-paren">(</span><em class="sig-param">file_name</em>, <em class="sig-param">num_consumer=4</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">operator=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filereader.html#FileReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to read MindRecord File series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File name of MindRecord File.</p></li>
<li><p><strong>num_consumer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of consumer threads which load data to memory (default=4).
It should not be smaller than 1 or larger than the number of CPU.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of fields which correspond data would be read (default=None).</p></li>
<li><p><strong>operator</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Reserved parameter for operators (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ParamValueError</strong> – If file_name, num_consumer or columns is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.FileReader.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filereader.html#FileReader.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop reader worker and close File.</p>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileReader.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filereader.html#FileReader.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop reader worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>MRMFinishError</strong> – If failed to finish worker threads.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.FileReader.get_next">
<code class="sig-name descname">get_next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/filereader.html#FileReader.get_next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader.get_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield a batch of data according to columns at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>dict</em> – keys is the same as columns.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>MRMUnsupportedSchemaError</strong> – If schema is invalid.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.MindPage">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">MindPage</code><span class="sig-paren">(</span><em class="sig-param">file_name</em>, <em class="sig-param">num_consumer=4</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to read MindRecord File series in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File name of MindRecord File.</p></li>
<li><p><strong>num_consumer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of consumer threads which load data to memory (default=4).
It should not be smaller than 1 or larger than the number of CPU.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If file_name, num_consumer or columns is invalid.</p></li>
<li><p><strong>MRMInitSegmentError</strong> – If failed to initialize ShardSegment.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.MindPage.candidate_fields">
<em class="property">property </em><code class="sig-name descname">candidate_fields</code><a class="headerlink" href="#mindspore.mindrecord.MindPage.candidate_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return candidate category fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], by which data could be grouped.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.category_field">
<em class="property">property </em><code class="sig-name descname">category_field</code><a class="headerlink" href="#mindspore.mindrecord.MindPage.category_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter function for category field</p>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.get_category_fields">
<code class="sig-name descname">get_category_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage.get_category_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.get_category_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return candidate category fields.</p>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.read_at_page_by_id">
<code class="sig-name descname">read_at_page_by_id</code><span class="sig-paren">(</span><em class="sig-param">category_id</em>, <em class="sig-param">page</em>, <em class="sig-param">num_row</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_at_page_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_at_page_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Query by category id in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Category id, referred to the return of read_category_info.</p></li>
<li><p><strong>page</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Index of page.</p></li>
<li><p><strong>num_row</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of rows in a page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List, list[dict].</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If any parameter is invalid.</p></li>
<li><p><strong>MRMFetchDataError</strong> – If failed to fetch data by category.</p></li>
<li><p><strong>MRMUnsupportedSchemaError</strong> – If schema is invalid.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.read_at_page_by_name">
<code class="sig-name descname">read_at_page_by_name</code><span class="sig-paren">(</span><em class="sig-param">category_name</em>, <em class="sig-param">page</em>, <em class="sig-param">num_row</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_at_page_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_at_page_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Query by category name in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of category field’s value,
referred to the return of read_category_info.</p></li>
<li><p><strong>page</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Index of page.</p></li>
<li><p><strong>num_row</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of row in a page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str, read at page.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.read_category_info">
<code class="sig-name descname">read_category_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_category_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_category_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return category information when data is grouped by indicated category field.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, description of group information.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>MRMReadCategoryInfoError</strong> – If failed to read category information.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mindspore.mindrecord.MindPage.set_category_field">
<code class="sig-name descname">set_category_field</code><span class="sig-paren">(</span><em class="sig-param">category_field</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/mindpage.html#MindPage.set_category_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.set_category_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Set category field for reading.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be a candidate category field.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>category_field</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of category field name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.Cifar10ToMR">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">Cifar10ToMR</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/cifar10_to_mr.html#Cifar10ToMR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar10ToMR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is for transformation from cifar10 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the cifar10 directory to be transformed.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If source or destination is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.Cifar10ToMR.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">fields=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/cifar10_to_mr.html#Cifar10ToMR.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar10ToMR.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes transformation from cifar10 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – list of index fields, ie. [“label”] (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SUCCESS/FAILED, whether successfully written into MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.Cifar100ToMR">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">Cifar100ToMR</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/cifar100_to_mr.html#Cifar100ToMR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar100ToMR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is for transformation from cifar100 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the cifar100 directory to be transformed.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If source or destination is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.Cifar100ToMR.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">fields=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/cifar100_to_mr.html#Cifar100ToMR.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar100ToMR.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes transformation from cifar100 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – list of index field, ie. [“fine_label”, “coarse_label”].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SUCCESS/FAILED, whether successfully written into MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.ImageNetToMR">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">ImageNetToMR</code><span class="sig-paren">(</span><em class="sig-param">map_file</em>, <em class="sig-param">image_dir</em>, <em class="sig-param">destination</em>, <em class="sig-param">partition_number=1</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/imagenet_to_mr.html#ImageNetToMR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.ImageNetToMR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is for transformation from imagenet to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>the map file which indicate label.
the map file content should like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n02119789</span> <span class="mi">1</span> <span class="n">pen</span>
<span class="n">n02100735</span> <span class="mi">2</span> <span class="n">notebook</span>
<span class="n">n02110185</span> <span class="mi">3</span> <span class="n">mouse</span>
<span class="n">n02096294</span> <span class="mi">4</span> <span class="n">orange</span>
</pre></div>
</div>
</p></li>
<li><p><strong>image_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – image directory contains n02119789, n02100735, n02110185, n02096294 dir.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
<li><p><strong>partition_number</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – partition size (default=1).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If map_file, image_dir or destination is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.ImageNetToMR.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/imagenet_to_mr.html#ImageNetToMR.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.ImageNetToMR.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes transformation from imagenet to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>SUCCESS/FAILED, whether successfully written into MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mindspore.mindrecord.MnistToMR">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.mindrecord.</code><code class="sig-name descname">MnistToMR</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">destination</em>, <em class="sig-param">partition_number=1</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/mnist_to_mr.html#MnistToMR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MnistToMR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class is for transformation from Mnist to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – directory which contain t10k-images-idx3-ubyte.gz,
train-images-idx3-ubyte.gz, t10k-labels-idx1-ubyte.gz,
train-labels-idx1-ubyte.gz.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file directory to transform into.</p></li>
<li><p><strong>partition_number</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – partition size (default=1).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If source/destination/partition_number is invalid.</p>
</dd>
</dl>
<dl class="method">
<dt id="mindspore.mindrecord.MnistToMR.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mindspore/mindrecord/tools/mnist_to_mr.html#MnistToMR.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.mindrecord.MnistToMR.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes transformation from Mnist to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>SUCCESS/FAILED, whether successfully written into MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../mindinsight/mindinsight.lineagemgr.html" class="btn btn-neutral float-right" title="mindinsight.lineagemgr" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mindspore.dataset.transforms.vision.py_transforms.html" class="btn btn-neutral float-left" title="mindspore.dataset.transforms.vision.py_transforms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, MindSpore

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>