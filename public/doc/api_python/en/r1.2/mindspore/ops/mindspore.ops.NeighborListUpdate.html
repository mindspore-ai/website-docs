

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mindspore.ops.NeighborListUpdate &mdash; MindSpore master documentation</title>
  

  
   
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="mindspore.ops.PMEEnergy" href="mindspore.ops.PMEEnergy.html" />
    <link rel="prev" title="mindspore.ops.MDIterationLeapFrog" href="mindspore.ops.MDIterationLeapFrog.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MindSpore Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.compression.html">mindspore.compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.config.html">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.explainer.html">mindspore.explainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.profiler.html">mindspore.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.train.html">mindspore.train</a></li>
</ul>
<p class="caption"><span class="caption-text">MindArmour Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.html">mindarmour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.adv_robustness.attacks.html">mindarmour.adv_robustness.attacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.adv_robustness.defenses.html">mindarmour.adv_robustness.defenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.adv_robustness.detectors.html">mindarmour.adv_robustness.detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.adv_robustness.evaluations.html">mindarmour.adv_robustness.evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.fuzz_testing.html">mindarmour.fuzz_testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.privacy.diff_privacy.html">mindarmour.privacy.diff_privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.privacy.evaluation.html">mindarmour.privacy.evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.privacy.sup_privacy.html">mindarmour.privacy.sup_privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mindarmour/mindarmour.utils.html">mindarmour.utils</a></li>
</ul>
<p class="caption"><span class="caption-text">MindSpore Hub Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mindspore_hub/mindspore_hub.html">mindspore_hub</a></li>
</ul>
<p class="caption"><span class="caption-text">MindSpore Serving Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mindspore_serving/mindspore_serving.html">mindspore_serving</a></li>
</ul>
<p class="caption"><span class="caption-text">MindQuantum Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mindquantum/mindquantum.html">mindquantum</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../mindspore.ops.html">mindspore.ops</a> &raquo;</li>
        
      <li>mindspore.ops.NeighborListUpdate</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/mindspore/ops/mindspore.ops.NeighborListUpdate.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mindspore-ops-neighborlistupdate">
<h1>mindspore.ops.NeighborListUpdate<a class="headerlink" href="#mindspore-ops-neighborlistupdate" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="mindspore.ops.NeighborListUpdate">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.ops.</code><code class="sig-name descname">NeighborListUpdate</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mindspore/ops/operations/sponge_ops.html#NeighborListUpdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.ops.NeighborListUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update (or construct if first time) the Verlet neighbor list for the
calculation of short-ranged force. Assume the number of atoms is n,
the number of grids divided is G, the maximum number of atoms in one
grid is m, the maximum number of atoms in single atom’s neighbor list
is L, and the number of total atom in excluded list is E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_numbers</strong> (<em>int32</em>) – the total number of grids divided.</p></li>
<li><p><strong>not_first_time</strong> (<em>int32</em>) – whether to construct the neighbor
list first time or not.</p></li>
<li><p><strong>nxy</strong> (<em>int32</em>) – the total number of grids divided in xy plane.</p></li>
<li><p><strong>excluded_atom_numbers</strong> (<em>int32</em>) – the total atom numbers in the excluded list.</p></li>
<li><p><strong>cutoff</strong> (<em>float32</em>) – the cutoff distance for short-range force calculation.</p></li>
<li><p><strong>skin</strong> (<em>float32</em>) – the overflow value of cutoff to maintain a neighbor list.</p></li>
<li><p><strong>cutoff_square</strong> (<em>float32</em>) – the suqare value of cutoff.</p></li>
<li><p><strong>half_skin_square</strong> (<em>float32</em>) – skin*skin/4, indicates the maximum
square value of the distance atom allowed to move between two updates.</p></li>
<li><p><strong>cutoff_with_skin</strong> (<em>float32</em>) – cutoff + skin, indicates the
radius of the neighbor list for each atom.</p></li>
<li><p><strong>half_cutoff_with_skin</strong> (<em>float32</em>) – cutoff_with_skin/2.</p></li>
<li><p><strong>cutoff_with_skin_square</strong> (<em>float32</em>) – the square value of cutoff_with_skin.</p></li>
<li><p><strong>refresh_interval</strong> (<em>int32</em>) – the number of iteration steps between two updates of neighbor list.</p></li>
<li><p><strong>max_atom_in_grid_numbers</strong> (<em>int32</em>) – the maximum number of atoms in one grid.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Inputs:</dt><dd><ul class="simple">
<li><p><strong>atom_numbers_in_grid_bucket</strong> (Tensor, int32) - [G,], the number of atoms in each grid bucket.</p></li>
<li><p><strong>bucket</strong> (Tensor, int32) - (Tensor,int32) - [G, m], the atom indices in each grid bucket.</p></li>
<li><p><strong>crd</strong> (Tensor, float32) - [n,], the coordinates of each atom.</p></li>
<li><p><strong>box_length</strong> (Tensor, float32) - [3,], the length of 3 dimensions of the simulation box.</p></li>
<li><p><strong>grid_n</strong> (Tensor, int32) - [3,], the number of grids divided of 3 dimensions of the simulation box.</p></li>
<li><p><strong>grid_length_inverse</strong> (float32) - the inverse value of grid length.</p></li>
<li><p><strong>atom_in_grid_serial</strong> (Tensor, int32) - [n,], the grid index for each atom.</p></li>
<li><p><strong>old_crd</strong> (Tensor, float32) - [n, 3], the coordinates before update of each atom.</p></li>
<li><p><strong>crd_to_uint_crd_cof</strong> (Tensor, float32) - [3,], the scale factor
between the unsigned int value and the real space coordinates.</p></li>
<li><p><strong>uint_crd</strong> (Tensor, uint32) - [n, 3], the unsigned int coordinates value fo each atom.</p></li>
<li><p><strong>gpointer</strong> (Tensor, int32) - [G, 125], the 125 nearest neighbor grids (including self) of each grid.
G is the number of nearest neighbor grids.</p></li>
<li><p><strong>nl_atom_numbers</strong> (Tensor, int32) - [n,], the number of atoms in neighbor list of each atom.</p></li>
<li><p><strong>nl_atom_serial</strong> (Tensor, int32) - [n, L], the indices of atoms in neighbor list of each atom.</p></li>
<li><p><strong>uint_dr_to_dr_cof</strong> (Tensor, float32) - [3,], the scale factor between
the real space coordinates and the unsigned int value.</p></li>
<li><p><strong>excluded_list_start</strong> (Tensor, int32) - [n,], the start excluded index in excluded list for each atom.</p></li>
<li><p><strong>excluded_numbers</strong> (Tensor, int32) - [n,], the number of atom excluded in excluded list for each atom.</p></li>
<li><p><strong>excluded_list</strong> (Tensor, int32) - [E,], the contiguous join of excluded list of each atom.</p></li>
<li><p><strong>need_refresh_flag</strong> (Tensor, int32) - [n,], whether the neighbor list of each atom need update or not.</p></li>
<li><p><strong>refresh_count</strong> (Tensor, int32) - [1,], count how many iteration steps have passed since last update.</p></li>
</ul>
</dd>
<dt>Outputs:</dt><dd><ul class="simple">
<li><p><strong>res</strong> (float32)</p></li>
</ul>
</dd>
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mindspore.ops.PMEEnergy.html" class="btn btn-neutral float-right" title="mindspore.ops.PMEEnergy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="mindspore.ops.MDIterationLeapFrog.html" class="btn btn-neutral float-left" title="mindspore.ops.MDIterationLeapFrog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, MindSpore.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   
	<script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>