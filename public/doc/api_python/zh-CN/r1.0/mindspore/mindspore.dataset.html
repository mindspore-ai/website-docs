<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mindspore.dataset &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mindspore.dataset.config" href="mindspore.dataset.config.html" />
    <link rel="prev" title="mindspore.context" href="mindspore.context.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">MindSpore Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.config.html">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.dynamic_lr.html">mindspore.nn.dynamic_lr</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.profiler.html">mindspore.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.train.html">mindspore.train</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MindArmour Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.html">mindarmour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.adv_robustness.attacks.html">mindarmour.adv_robustness.attacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.adv_robustness.defenses.html">mindarmour.adv_robustness.defenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.adv_robustness.detectors.html">mindarmour.adv_robustness.detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.adv_robustness.evaluations.html">mindarmour.adv_robustness.evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.fuzz_testing.html">mindarmour.fuzz_testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.privacy.diff_privacy.html">mindarmour.privacy.diff_privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.privacy.evaluation.html">mindarmour.privacy.evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindarmour/mindarmour.utils.html">mindarmour.utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MindSpore Hub Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindspore_hub/mindspore_hub.html">mindspore_hub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>mindspore.dataset</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/mindspore/mindspore.dataset.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mindspore.dataset">
<span id="mindspore-dataset"></span><h1>mindspore.dataset<a class="headerlink" href="#module-mindspore.dataset" title="Permalink to this headline"></a></h1>
<p>This module provides APIs to load and process various datasets: MNIST,
CIFAR-10, CIFAR-100, VOC, ImageNet, CelebA dataset, etc. It also supports
datasets in special format, including mindrecord, tfrecord, manifest. Users
can also create samplers with this module to sample data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">CLUEDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AFQMC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Shuffle.GLOBAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CLUEDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CLUEDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads and parses CLUE datasets.
CLUE, the Chinese Language Understanding Evaluation Benchmark, is a collection of datasets, baselines,
pre-trained models, corpus and leaderboard. Supported CLUE classification tasks: ‘AFQMC’, ‘TNEWS’, ‘IFLYTEK’,
‘CMNLI’, ‘WSC’ and ‘CSL’.</p>
<p>Citation of CLUE dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">CLUEbenchmark</span><span class="p">,</span>
<span class="n">title</span>   <span class="o">=</span> <span class="p">{</span><span class="n">CLUE</span><span class="p">:</span> <span class="n">A</span> <span class="n">Chinese</span> <span class="n">Language</span> <span class="n">Understanding</span> <span class="n">Evaluation</span> <span class="n">Benchmark</span><span class="p">},</span>
<span class="n">author</span>  <span class="o">=</span> <span class="p">{</span><span class="n">Liang</span> <span class="n">Xu</span><span class="p">,</span> <span class="n">Xuanwei</span> <span class="n">Zhang</span><span class="p">,</span> <span class="n">Lu</span> <span class="n">Li</span><span class="p">,</span> <span class="n">Hai</span> <span class="n">Hu</span><span class="p">,</span> <span class="n">Chenjie</span> <span class="n">Cao</span><span class="p">,</span> <span class="n">Weitang</span> <span class="n">Liu</span><span class="p">,</span> <span class="n">Junyi</span> <span class="n">Li</span><span class="p">,</span> <span class="n">Yudong</span> <span class="n">Li</span><span class="p">,</span>
           <span class="n">Kai</span> <span class="n">Sun</span><span class="p">,</span> <span class="n">Yechen</span> <span class="n">Xu</span><span class="p">,</span> <span class="n">Yiming</span> <span class="n">Cui</span><span class="p">,</span> <span class="n">Cong</span> <span class="n">Yu</span><span class="p">,</span> <span class="n">Qianqian</span> <span class="n">Dong</span><span class="p">,</span> <span class="n">Yin</span> <span class="n">Tian</span><span class="p">,</span> <span class="n">Dian</span> <span class="n">Yu</span><span class="p">,</span> <span class="n">Bo</span> <span class="n">Shi</span><span class="p">,</span> <span class="n">Jun</span> <span class="n">Zeng</span><span class="p">,</span>
           <span class="n">Rongzhao</span> <span class="n">Wang</span><span class="p">,</span> <span class="n">Weijian</span> <span class="n">Xie</span><span class="p">,</span> <span class="n">Yanting</span> <span class="n">Li</span><span class="p">,</span> <span class="n">Yina</span> <span class="n">Patterson</span><span class="p">,</span> <span class="n">Zuoyu</span> <span class="n">Tian</span><span class="p">,</span> <span class="n">Yiwen</span> <span class="n">Zhang</span><span class="p">,</span> <span class="n">He</span> <span class="n">Zhou</span><span class="p">,</span>
           <span class="n">Shaoweihua</span> <span class="n">Liu</span><span class="p">,</span> <span class="n">Qipeng</span> <span class="n">Zhao</span><span class="p">,</span> <span class="n">Cong</span> <span class="n">Yue</span><span class="p">,</span> <span class="n">Xinrui</span> <span class="n">Zhang</span><span class="p">,</span> <span class="n">Zhengliang</span> <span class="n">Yang</span><span class="p">,</span> <span class="n">Zhenzhong</span> <span class="n">Lan</span><span class="p">},</span>
<span class="n">journal</span> <span class="o">=</span> <span class="p">{</span><span class="n">arXiv</span> <span class="n">preprint</span> <span class="n">arXiv</span><span class="p">:</span><span class="mf">2004.05986</span><span class="p">},</span>
<span class="n">year</span>    <span class="o">=</span> <span class="p">{</span><span class="mi">2020</span><span class="p">},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CLUEbenchmark</span><span class="o">/</span><span class="n">CLUE</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">CLUE</span><span class="p">,</span> <span class="n">a</span> <span class="n">Chinese</span> <span class="n">Language</span> <span class="n">Understanding</span> <span class="n">Evaluation</span> <span class="n">benchmark</span><span class="o">.</span> <span class="n">It</span> <span class="n">contains</span> <span class="n">eight</span> <span class="n">different</span>
                <span class="n">tasks</span><span class="p">,</span> <span class="n">including</span> <span class="n">single</span><span class="o">-</span><span class="n">sentence</span> <span class="n">classification</span><span class="p">,</span> <span class="n">sentence</span> <span class="n">pair</span> <span class="n">classification</span><span class="p">,</span> <span class="ow">and</span> <span class="n">machine</span>
                <span class="n">reading</span> <span class="n">comprehension</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_files</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>]</em>) – String or list of files to be read or glob strings to search for
a pattern of files. The list will be sorted in a lexicographical order.</p></li>
<li><p><strong>task</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The kind of task, one of ‘AFQMC’, ‘TNEWS’, ‘IFLYTEK’, ‘CMNLI’, ‘WSC’ and ‘CSL’.
(default=AFQMC).</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Need train, test or eval data (default=”train”).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples (rows) to read (default=None, reads the full dataset).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>Shuffle level</em><em>]</em><em>, </em><em>optional</em>) – <p>Perform reshuffling of the data every epoch
(default=Shuffle.GLOBAL).
If shuffle is False, no shuffling will be performed;
If shuffle is True, the behavior is the same as setting shuffle to be Shuffle.GLOBAL
Otherwise, there are two levels of shuffling:</p>
<ul>
<li><p>Shuffle.GLOBAL: Shuffle both the files and samples.</p></li>
<li><p>Shuffle.FILES: Shuffle files only.</p></li>
</ul>
</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/path/to/1&quot;</span><span class="p">,</span> <span class="s2">&quot;/path/to/2&quot;</span><span class="p">]</span> <span class="c1"># contains 1 or multiple text files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CLUEDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;AFQMC&#39;</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CLUEDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CLUEDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<p>This is a general purpose split function which can be called from any operator in the pipeline.
There is another, optimized split function, which will be called automatically if ds.split is
called where ds is a MappableDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have at least 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dataset cannot be sharded if split is going to be called.</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="s2">&quot;/path/to/text_file/*&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TextFileDataset is not a mappable dataset, so this non-optimized split will be called.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CLUEDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CLUEDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">CSVDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Shuffle.GLOBAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CSVDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CSVDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads and parses comma-separated values (CSV) datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_files</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>]</em>) – String or list of files to be read or glob strings to search
for a pattern of files. The list will be sorted in a lexicographical order.</p></li>
<li><p><strong>field_delim</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – A string that indicates the char delimiter to separate fields (default=’,’).</p></li>
<li><p><strong>column_defaults</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>optional</em>) – List of default values for the CSV field (default=None). Each item
in the list is either a valid type (float, int, or string). If this is not provided, treats all
columns as string type.</p></li>
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of column names of the dataset (default=None). If this
is not provided, infers the column_names from the first row of CSV file.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples (rows) to read (default=None, reads the full dataset).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>Shuffle level</em><em>]</em><em>, </em><em>optional</em>) – <p>Perform reshuffling of the data every epoch
(default=Shuffle.GLOBAL).
If shuffle is False, no shuffling will be performed;
If shuffle is True, the behavior is the same as setting shuffle to be Shuffle.GLOBAL
Otherwise, there are two levels of shuffling:</p>
<ul>
<li><p>Shuffle.GLOBAL: Shuffle both the files and samples.</p></li>
<li><p>Shuffle.FILES: Shuffle files only.</p></li>
</ul>
</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/path/to/1&quot;</span><span class="p">,</span> <span class="s2">&quot;/path/to/2&quot;</span><span class="p">]</span> <span class="c1"># contains 1 or multiple text files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CSVDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">,</span> <span class="s1">&#39;col3&#39;</span><span class="p">,</span> <span class="s1">&#39;col4&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CSVDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CSVDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<p>This is a general purpose split function which can be called from any operator in the pipeline.
There is another, optimized split function, which will be called automatically if ds.split is
called where ds is a MappableDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have at least 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dataset cannot be sharded if split is going to be called.</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="s2">&quot;/path/to/text_file/*&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TextFileDataset is not a mappable dataset, so this non-optimized split will be called.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CSVDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CSVDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">CelebADataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CelebADataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CelebADataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset for reading and parsing CelebA dataset. Currently supported: list_attr_celeba.txt only.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generated dataset has two columns [‘image’, ‘attr’].
The type of the image tensor is uint8. The attribute tensor is uint32 and one hot type.</p>
</div>
<p>Citation of CelebA dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">DBLP</span><span class="p">:</span><span class="n">journals</span><span class="o">/</span><span class="n">corr</span><span class="o">/</span><span class="n">LiuLWT14</span><span class="p">,</span>
<span class="n">author</span>    <span class="o">=</span> <span class="p">{</span><span class="n">Ziwei</span> <span class="n">Liu</span> <span class="ow">and</span> <span class="n">Ping</span> <span class="n">Luo</span> <span class="ow">and</span> <span class="n">Xiaogang</span> <span class="n">Wang</span> <span class="ow">and</span> <span class="n">Xiaoou</span> <span class="n">Tang</span><span class="p">},</span>
<span class="n">title</span>     <span class="o">=</span> <span class="p">{</span><span class="n">Deep</span> <span class="n">Learning</span> <span class="n">Face</span> <span class="n">Attributes</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Wild</span><span class="p">},</span>
<span class="n">journal</span>   <span class="o">=</span> <span class="p">{</span><span class="n">CoRR</span><span class="p">},</span>
<span class="n">volume</span>    <span class="o">=</span> <span class="p">{</span><span class="nb">abs</span><span class="o">/</span><span class="mf">1411.7766</span><span class="p">},</span>
<span class="n">year</span>      <span class="o">=</span> <span class="p">{</span><span class="mi">2014</span><span class="p">},</span>
<span class="n">url</span>       <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">arxiv</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="mf">1411.7766</span><span class="p">},</span>
<span class="n">archivePrefix</span> <span class="o">=</span> <span class="p">{</span><span class="n">arXiv</span><span class="p">},</span>
<span class="n">eprint</span>    <span class="o">=</span> <span class="p">{</span><span class="mf">1411.7766</span><span class="p">},</span>
<span class="n">timestamp</span> <span class="o">=</span> <span class="p">{</span><span class="n">Tue</span><span class="p">,</span> <span class="mi">10</span> <span class="n">Dec</span> <span class="mi">2019</span> <span class="mi">15</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">26</span> <span class="o">+</span><span class="mi">0100</span><span class="p">},</span>
<span class="n">biburl</span>    <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dblp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">rec</span><span class="o">/</span><span class="n">journals</span><span class="o">/</span><span class="n">corr</span><span class="o">/</span><span class="n">LiuLWT14</span><span class="o">.</span><span class="n">bib</span><span class="p">},</span>
<span class="n">bibsource</span> <span class="o">=</span> <span class="p">{</span><span class="n">dblp</span> <span class="n">computer</span> <span class="n">science</span> <span class="n">bibliography</span><span class="p">,</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dblp</span><span class="o">.</span><span class="n">org</span><span class="p">},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">mmlab</span><span class="o">.</span><span class="n">ie</span><span class="o">.</span><span class="n">cuhk</span><span class="o">.</span><span class="n">edu</span><span class="o">.</span><span class="n">hk</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">CelebA</span><span class="o">.</span><span class="n">html</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">CelebFaces</span> <span class="n">Attributes</span> <span class="n">Dataset</span> <span class="p">(</span><span class="n">CelebA</span><span class="p">)</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">large</span><span class="o">-</span><span class="n">scale</span> <span class="n">face</span> <span class="n">attributes</span> <span class="n">dataset</span>
                <span class="k">with</span> <span class="n">more</span> <span class="n">than</span> <span class="mi">200</span><span class="n">K</span> <span class="n">celebrity</span> <span class="n">images</span><span class="p">,</span> <span class="n">each</span> <span class="k">with</span> <span class="mi">40</span> <span class="n">attribute</span> <span class="n">annotations</span><span class="o">.</span>
                <span class="n">The</span> <span class="n">images</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">dataset</span> <span class="n">cover</span> <span class="n">large</span> <span class="n">pose</span> <span class="n">variations</span> <span class="ow">and</span> <span class="n">background</span> <span class="n">clutter</span><span class="o">.</span>
                <span class="n">CelebA</span> <span class="n">has</span> <span class="n">large</span> <span class="n">diversities</span><span class="p">,</span> <span class="n">large</span> <span class="n">quantities</span><span class="p">,</span> <span class="ow">and</span> <span class="n">rich</span> <span class="n">annotations</span><span class="p">,</span> <span class="n">including</span>
                <span class="o">*</span> <span class="mi">10</span><span class="p">,</span><span class="mi">177</span> <span class="n">number</span> <span class="n">of</span> <span class="n">identities</span><span class="p">,</span>
                <span class="o">*</span> <span class="mi">202</span><span class="p">,</span><span class="mi">599</span> <span class="n">number</span> <span class="n">of</span> <span class="n">face</span> <span class="n">images</span><span class="p">,</span> <span class="ow">and</span>
                <span class="o">*</span> <span class="mi">5</span> <span class="n">landmark</span> <span class="n">locations</span><span class="p">,</span> <span class="mi">40</span> <span class="n">binary</span> <span class="n">attributes</span> <span class="n">annotations</span> <span class="n">per</span> <span class="n">image</span><span class="o">.</span>
                <span class="n">The</span> <span class="n">dataset</span> <span class="n">can</span> <span class="n">be</span> <span class="n">employed</span> <span class="k">as</span> <span class="n">the</span> <span class="n">training</span> <span class="ow">and</span> <span class="n">test</span> <span class="n">sets</span> <span class="k">for</span> <span class="n">the</span> <span class="n">following</span> <span class="n">computer</span>
                <span class="n">vision</span> <span class="n">tasks</span><span class="p">:</span> <span class="n">face</span> <span class="n">attribute</span> <span class="n">recognition</span><span class="p">,</span> <span class="n">face</span> <span class="n">detection</span><span class="p">,</span> <span class="n">landmark</span> <span class="p">(</span><span class="ow">or</span> <span class="n">facial</span> <span class="n">part</span><span class="p">)</span>
                <span class="n">localization</span><span class="p">,</span> <span class="ow">and</span> <span class="n">face</span> <span class="n">editing</span> <span class="o">&amp;</span> <span class="n">synthesis</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data (default=value set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None).</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – one of ‘all’, ‘train’, ‘valid’ or ‘test’.</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the dataset (default=None).</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – decode the images after reading (default=False).</p></li>
<li><p><strong>extensions</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of file extensions to be
included in the dataset (default=None).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset.
(default=None, all images).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/celeba_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CelebADataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CelebADataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CelebADataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CelebADataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CelebADataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">Cifar100Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Cifar100Dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads cifar100 data.</p>
<p>The generated dataset has three columns [‘image’, ‘coarse_label’, ‘fine_label’].
The type of the image tensor is uint8. The coarse and fine labels are each a scalar uint32 tensor.
This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<p>Citation of Cifar100 dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@techreport</span><span class="p">{</span><span class="n">Krizhevsky09</span><span class="p">,</span>
<span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">Alex</span> <span class="n">Krizhevsky</span><span class="p">},</span>
<span class="n">title</span>        <span class="o">=</span> <span class="p">{</span><span class="n">Learning</span> <span class="n">multiple</span> <span class="n">layers</span> <span class="n">of</span> <span class="n">features</span> <span class="kn">from</span> <span class="nn">tiny</span> <span class="n">images</span><span class="p">},</span>
<span class="n">institution</span>  <span class="o">=</span> <span class="p">{},</span>
<span class="n">year</span>         <span class="o">=</span> <span class="p">{</span><span class="mi">2009</span><span class="p">},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">cs</span><span class="o">.</span><span class="n">toronto</span><span class="o">.</span><span class="n">edu</span><span class="o">/~</span><span class="n">kriz</span><span class="o">/</span><span class="n">cifar</span><span class="o">.</span><span class="n">html</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">This</span> <span class="n">dataset</span> <span class="ow">is</span> <span class="n">just</span> <span class="n">like</span> <span class="n">the</span> <span class="n">CIFAR</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="k">except</span> <span class="n">it</span> <span class="n">has</span> <span class="mi">100</span> <span class="n">classes</span> <span class="n">containing</span> <span class="mi">600</span> <span class="n">images</span>
                <span class="n">each</span><span class="o">.</span> <span class="n">There</span> <span class="n">are</span> <span class="mi">500</span> <span class="n">training</span> <span class="n">images</span> <span class="ow">and</span> <span class="mi">100</span> <span class="n">testing</span> <span class="n">images</span> <span class="n">per</span> <span class="n">class</span><span class="o">.</span> <span class="n">The</span> <span class="mi">100</span> <span class="n">classes</span> <span class="ow">in</span>
                <span class="n">the</span> <span class="n">CIFAR</span><span class="o">-</span><span class="mi">100</span> <span class="n">are</span> <span class="n">grouped</span> <span class="n">into</span> <span class="mi">20</span> <span class="n">superclasses</span><span class="o">.</span> <span class="n">Each</span> <span class="n">image</span> <span class="n">comes</span> <span class="k">with</span> <span class="n">a</span> <span class="s2">&quot;fine&quot;</span> <span class="n">label</span> <span class="p">(</span><span class="n">the</span>
                <span class="k">class</span> <span class="nc">to</span> <span class="n">which</span> <span class="n">it</span> <span class="n">belongs</span><span class="p">)</span> <span class="ow">and</span> <span class="n">a</span> <span class="s2">&quot;coarse&quot;</span> <span class="n">label</span> <span class="p">(</span><span class="n">the</span> <span class="n">superclass</span> <span class="n">to</span> <span class="n">which</span> <span class="n">it</span> <span class="n">belongs</span><span class="p">)</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Usage of this dataset, can be “train”, “test” or “all” . “train” will read from 50,000
train samples, “test” will read from 10,000 test samples, “all” will read from all 60,000 samples.
(default=None, all samples)</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset.
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None, expected
order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/cifar100_dataset_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Get all samples from CIFAR100 dataset in sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cifar100_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Cifar100Dataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Randomly select 350 samples from CIFAR100 dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cifar100_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Cifar100Dataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">350</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In CIFAR100 dataset, each dictionary has 3 keys: &quot;image&quot;, &quot;fine_label&quot; and &quot;coarse_label&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Cifar100Dataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id5" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar100Dataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar100Dataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">Cifar10Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Cifar10Dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads cifar10 data.</p>
<p>The generated dataset has two columns [‘image’, ‘label’].
The type of the image tensor is uint8. The label is a scalar uint32 tensor.
This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id6">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id6" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<p>Citation of Cifar10 dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@techreport</span><span class="p">{</span><span class="n">Krizhevsky09</span><span class="p">,</span>
<span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">Alex</span> <span class="n">Krizhevsky</span><span class="p">},</span>
<span class="n">title</span>        <span class="o">=</span> <span class="p">{</span><span class="n">Learning</span> <span class="n">multiple</span> <span class="n">layers</span> <span class="n">of</span> <span class="n">features</span> <span class="kn">from</span> <span class="nn">tiny</span> <span class="n">images</span><span class="p">},</span>
<span class="n">institution</span>  <span class="o">=</span> <span class="p">{},</span>
<span class="n">year</span>         <span class="o">=</span> <span class="p">{</span><span class="mi">2009</span><span class="p">},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">cs</span><span class="o">.</span><span class="n">toronto</span><span class="o">.</span><span class="n">edu</span><span class="o">/~</span><span class="n">kriz</span><span class="o">/</span><span class="n">cifar</span><span class="o">.</span><span class="n">html</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">CIFAR</span><span class="o">-</span><span class="mi">10</span> <span class="n">dataset</span> <span class="n">consists</span> <span class="n">of</span> <span class="mi">60000</span> <span class="mi">32</span><span class="n">x32</span> <span class="n">colour</span> <span class="n">images</span> <span class="ow">in</span> <span class="mi">10</span> <span class="n">classes</span><span class="p">,</span>
                <span class="k">with</span> <span class="mi">6000</span> <span class="n">images</span> <span class="n">per</span> <span class="n">class</span><span class="o">.</span> <span class="n">There</span> <span class="n">are</span> <span class="mi">50000</span> <span class="n">training</span> <span class="n">images</span> <span class="ow">and</span> <span class="mi">10000</span> <span class="n">test</span> <span class="n">images</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Usage of this dataset, can be “train”, “test” or “all” . “train” will read from 50,000
train samples, “test” will read from 10,000 test samples, “all” will read from all 60,000 samples.
(default=None, all samples)</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset.
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None, expected
order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/cifar10_dataset_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Get all samples from CIFAR10 dataset in sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Cifar10Dataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Randomly select 350 samples from CIFAR10 dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Cifar10Dataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">350</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Get samples from CIFAR10 dataset for shard 0 in a 2-way distributed training</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Cifar10Dataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_shards</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">shard_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In CIFAR10 dataset, each dictionary has keys &quot;image&quot; and &quot;label&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Cifar10Dataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id7">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id7" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Cifar10Dataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.Cifar10Dataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">CocoDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Detection'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CocoDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CocoDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset for reading and parsing COCO dataset.</p>
<p>CocoDataset support four kinds of task: 2017 Train/Val/Test Detection, Keypoints, Stuff, Panoptic.</p>
<p>The generated dataset has multi-columns :</p>
<blockquote>
<div><ul class="simple">
<li><p>task=’Detection’, column: [[‘image’, dtype=uint8], [‘bbox’, dtype=float32], [‘category_id’, dtype=uint32],
[‘iscrowd’, dtype=uint32]].</p></li>
<li><p>task=’Stuff’, column: [[‘image’, dtype=uint8], [‘segmentation’,dtype=float32], [‘iscrowd’,dtype=uint32]].</p></li>
<li><p>task=’Keypoint’, column: [[‘image’, dtype=uint8], [‘keypoints’, dtype=float32],
[‘num_keypoints’, dtype=uint32]].</p></li>
<li><p>task=’Panoptic’, column: [[‘image’, dtype=uint8], [‘bbox’, dtype=float32], [‘category_id’, dtype=uint32],
[‘iscrowd’, dtype=uint32], [‘area’, dtype=uint32]].</p></li>
</ul>
</div></blockquote>
<p>This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. CocoDataset doesn’t support
PKSampler. The table below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id8">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id8" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<p>Citation of Coco dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">DBLP</span><span class="p">:</span><span class="n">journals</span><span class="o">/</span><span class="n">corr</span><span class="o">/</span><span class="n">LinMBHPRDZ14</span><span class="p">,</span>
<span class="n">author</span>        <span class="o">=</span> <span class="p">{</span><span class="n">Tsung</span><span class="p">{</span><span class="o">-</span><span class="p">}</span><span class="n">Yi</span> <span class="n">Lin</span> <span class="ow">and</span> <span class="n">Michael</span> <span class="n">Maire</span> <span class="ow">and</span> <span class="n">Serge</span> <span class="n">J</span><span class="o">.</span> <span class="n">Belongie</span> <span class="ow">and</span>
                 <span class="n">Lubomir</span> <span class="n">D</span><span class="o">.</span> <span class="n">Bourdev</span> <span class="ow">and</span>  <span class="n">Ross</span> <span class="n">B</span><span class="o">.</span> <span class="n">Girshick</span> <span class="ow">and</span> <span class="n">James</span> <span class="n">Hays</span> <span class="ow">and</span>
                 <span class="n">Pietro</span> <span class="n">Perona</span> <span class="ow">and</span> <span class="n">Deva</span> <span class="n">Ramanan</span> <span class="ow">and</span> <span class="n">Piotr</span> <span class="n">Doll</span><span class="p">{</span><span class="s1">&#39;</span><span class="si">{a}</span><span class="s1">}r and C. Lawrence Zitnick},</span>
<span class="n">title</span>         <span class="o">=</span> <span class="p">{</span><span class="n">Microsoft</span> <span class="p">{</span><span class="n">COCO</span><span class="p">:}</span> <span class="n">Common</span> <span class="n">Objects</span> <span class="ow">in</span> <span class="n">Context</span><span class="p">},</span>
<span class="n">journal</span>       <span class="o">=</span> <span class="p">{</span><span class="n">CoRR</span><span class="p">},</span>
<span class="n">volume</span>        <span class="o">=</span> <span class="p">{</span><span class="nb">abs</span><span class="o">/</span><span class="mf">1405.0312</span><span class="p">},</span>
<span class="n">year</span>          <span class="o">=</span> <span class="p">{</span><span class="mi">2014</span><span class="p">},</span>
<span class="n">url</span>           <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">arxiv</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="mf">1405.0312</span><span class="p">},</span>
<span class="n">archivePrefix</span> <span class="o">=</span> <span class="p">{</span><span class="n">arXiv</span><span class="p">},</span>
<span class="n">eprint</span>        <span class="o">=</span> <span class="p">{</span><span class="mf">1405.0312</span><span class="p">},</span>
<span class="n">timestamp</span>     <span class="o">=</span> <span class="p">{</span><span class="n">Mon</span><span class="p">,</span> <span class="mi">13</span> <span class="n">Aug</span> <span class="mi">2018</span> <span class="mi">16</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">13</span> <span class="o">+</span><span class="mi">0200</span><span class="p">},</span>
<span class="n">biburl</span>        <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dblp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">rec</span><span class="o">/</span><span class="n">journals</span><span class="o">/</span><span class="n">corr</span><span class="o">/</span><span class="n">LinMBHPRDZ14</span><span class="o">.</span><span class="n">bib</span><span class="p">},</span>
<span class="n">bibsource</span>     <span class="o">=</span> <span class="p">{</span><span class="n">dblp</span> <span class="n">computer</span> <span class="n">science</span> <span class="n">bibliography</span><span class="p">,</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dblp</span><span class="o">.</span><span class="n">org</span><span class="p">},</span>
<span class="n">description</span>   <span class="o">=</span> <span class="p">{</span><span class="n">COCO</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">large</span><span class="o">-</span><span class="n">scale</span> <span class="nb">object</span> <span class="n">detection</span><span class="p">,</span> <span class="n">segmentation</span><span class="p">,</span> <span class="ow">and</span> <span class="n">captioning</span> <span class="n">dataset</span><span class="o">.</span>
                 <span class="n">It</span> <span class="n">contains</span> <span class="mi">91</span> <span class="n">common</span> <span class="nb">object</span> <span class="n">categories</span> <span class="k">with</span> <span class="mi">82</span> <span class="n">of</span> <span class="n">them</span> <span class="n">having</span> <span class="n">more</span> <span class="n">than</span> <span class="mi">5</span><span class="p">,</span><span class="mi">000</span>
                 <span class="n">labeled</span> <span class="n">instances</span><span class="o">.</span> <span class="n">In</span> <span class="n">contrast</span> <span class="n">to</span> <span class="n">the</span> <span class="n">popular</span> <span class="n">ImageNet</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">COCO</span> <span class="n">has</span> <span class="n">fewer</span>
                 <span class="n">categories</span> <span class="n">but</span> <span class="n">more</span> <span class="n">instances</span> <span class="n">per</span> <span class="n">category</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>annotation_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the annotation JSON.</p></li>
<li><p><strong>task</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the task type for reading COCO data.  Supported task types:
‘Detection’, ‘Stuff’, ‘Panoptic’ and ‘Keypoint’ (default=’Detection’).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the configuration file).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None, expected
order behavior shown in the table).</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Decode the images after reading (default=False).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the dataset
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If parse JSON file failed.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If task is not in [‘Detection’, ‘Stuff’, ‘Panoptic’, ‘Keypoint’].</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If annotation_file is not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If dataset_dir is not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/coco_dataset_directory/image_folder&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annotation_file</span> <span class="o">=</span> <span class="s2">&quot;/path/to/coco_dataset_directory/annotation_folder/annotation.json&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Read COCO data for Detection task</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coco_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CocoDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">annotation_file</span><span class="o">=</span><span class="n">annotation_file</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;Detection&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Read COCO data for Stuff task</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coco_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CocoDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">annotation_file</span><span class="o">=</span><span class="n">annotation_file</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;Stuff&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Read COCO data for Panoptic task</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coco_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CocoDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">annotation_file</span><span class="o">=</span><span class="n">annotation_file</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;Panoptic&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4) Read COCO data for Keypoint task</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coco_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">CocoDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">annotation_file</span><span class="o">=</span><span class="n">annotation_file</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;Keypoint&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In COCO dataset, each dictionary has keys &quot;image&quot; and &quot;annotation&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.get_class_indexing">
<span class="sig-name descname"><span class="pre">get_class_indexing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CocoDataset.get_class_indexing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CocoDataset.get_class_indexing" title="Permalink to this definition"></a></dt>
<dd><p>Get the class index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict, A str-to-int mapping from label name to index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#CocoDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.CocoDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id9">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id9" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.CocoDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.CocoDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.DistributedSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">DistributedSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_shards</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#DistributedSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.DistributedSampler" title="Permalink to this definition"></a></dt>
<dd><p>A sampler that accesses a shard of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of shards to divide the dataset into.</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Shard ID of the current shard within num_shards.</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the indices are shuffled (default=True).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of samples to draw (default=None, all elements).</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The starting sample ID where access to elements in the dataset begins (default=-1).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a distributed sampler with 10 shards in total. This shard is shard 5.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_shards is not positive.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is smaller than 0 or equal to num_shards or larger than num_shards.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shuffle is not a boolean value.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.DistributedSampler.get_num_samples">
<span class="sig-name descname"><span class="pre">get_num_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.DistributedSampler.get_num_samples" title="Permalink to this definition"></a></dt>
<dd><p>All samplers can contain a numeric num_samples value (or it can be set to None).
A child sampler can exist or be None.
If a child sampler exists, then the child sampler count can be a numeric value or None.
These conditions impact the resultant sampler count that is used.
The following table shows the possible results from calling this function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>child sampler</p></th>
<th class="head"><p>num_samples</p></th>
<th class="head"><p>child_samples</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>y</p></td>
<td><p>min(x, y)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>None</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>x</p></td>
<td><p>n/a</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>n/a</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, The number of samples, or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">GeneratorDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#GeneratorDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GeneratorDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that generates data from Python by invoking Python data source each epoch.</p>
<p>This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id10">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id10" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Union</em><em>[</em><em>Callable</em><em>, </em><em>Iterable</em><em>, </em><em>Random Accessible</em><em>]</em>) – A generator callable object, an iterable Python object or a random accessible Python object.
Callable source is required to return a tuple of NumPy arrays as a row of the dataset on source().next().
Iterable source is required to return a tuple of NumPy arrays as a row of the dataset on
iter(source).next().
Random accessible source is required to return a tuple of NumPy arrays as a row of the dataset on
source[idx].</p></li>
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of column names of the dataset (default=None). Users are required to
provide either column_names or schema.</p></li>
<li><p><strong>column_types</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference internal" href="mindspore.html#mindspore.dtype" title="mindspore.dtype"><em>mindspore.dtype</em></a><em>]</em><em>, </em><em>optional</em>) – List of column data types of the dataset (default=None).
If provided, sanity check will be performed on generator output.</p></li>
<li><p><strong>schema</strong> (<em>Union</em><em>[</em><a class="reference internal" href="#mindspore.dataset.Schema" title="mindspore.dataset.Schema"><em>Schema</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – Path to the JSON schema file or schema object (default=None). Users are
required to provide either column_names or schema. If both are provided, schema will be used.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of samples to be included in the dataset
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of subprocesses used to fetch the dataset in parallel (default=1).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to perform shuffle on the dataset. Random accessible input is required.
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Union</em><em>[</em><em>Sampler</em><em>, </em><em>Iterable</em><em>]</em><em>, </em><em>optional</em>) – Object used to choose samples from the dataset. Random accessible
input is required (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).
When this argument is specified, ‘num_samples’ will not used. Random accessible input is required.</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This argument must be specified only
when num_shards is also specified. Random accessible input is required.</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker process. This
option could be beneficial if the Python operation is computational heavy (default=True).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Multidimensional generator function as callable input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">GeneratorMD</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">64</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">yield</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]]),)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create multi_dimension_generator_dataset with GeneratorMD and column name &quot;multi_dimensional_data&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_dimension_generator_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">(</span><span class="n">GeneratorMD</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;multi_dimensional_data&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Multi-column generator function as callable input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">GeneratorMC</span><span class="p">(</span><span class="n">maxid</span> <span class="o">=</span> <span class="mi">64</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">maxid</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">yield</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">i</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create multi_column_generator_dataset with GeneratorMC and column names &quot;col1&quot; and &quot;col2&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_column_generator_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">(</span><span class="n">GeneratorMC</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Iterable dataset as iterable input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyIterable</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="c1"># User implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create iterable_generator_dataset with MyIterable object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable_generator_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">(</span><span class="n">MyIterable</span><span class="p">(),</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4) Random accessible dataset as random accessible input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyRA</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="c1"># User implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create ra_generator_dataset with MyRA object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ra_generator_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">(</span><span class="n">MyRA</span><span class="p">(),</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># List/Dict/Tuple is also random accessible</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_generator</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">([(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="mi">0</span><span class="p">),),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">))],</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 5) Built-in Sampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_generator</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GeneratorDataset</span><span class="p">(</span><span class="n">my_ds</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;img&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">],</span> <span class="n">sampler</span><span class="o">=</span><span class="n">samplers</span><span class="o">.</span><span class="n">RandomSampler</span><span class="p">())</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#GeneratorDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id11">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id11" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GeneratorDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.GeneratorDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">GraphData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hostname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50051</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shutdown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData" title="Permalink to this definition"></a></dt>
<dd><p>Reads the graph dataset used for GNN training from the shared file and database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – One of file names in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel
(default=None).</p></li>
<li><p><strong>working_mode</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – <p>Set working mode, now supports ‘local’/’client’/’server’ (default=’local’).</p>
<ul>
<li><p>’local’, used in non-distributed training scenarios.</p></li>
<li><p>’client’, used in distributed training scenarios. The client does not load data,
but obtains data from the server.</p></li>
<li><p>’server’, used in distributed training scenarios. The server loads the data
and is available to the client.</p></li>
</ul>
</p></li>
<li><p><strong>hostname</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Hostname of the graph data server. This parameter is only valid when
working_mode is set to ‘client’ or ‘server’ (default=’127.0.0.1’).</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Port of the graph data server. The range is 1024-65535. This parameter is
only valid when working_mode is set to ‘client’ or ‘server’ (default=50051).</p></li>
<li><p><strong>num_client</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of clients expected to connect to the server. The server will
allocate resources according to this parameter. This parameter is only valid when working_mode
is set to ‘server’ (default=1).</p></li>
<li><p><strong>auto_shutdown</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Valid when working_mode is set to ‘server’,
when the number of connected clients reaches num_client and no client is being connected,
the server automatically exits (default=True).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">features</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_node_feature</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_all_edges">
<span class="sig-name descname"><span class="pre">get_all_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_all_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_all_edges" title="Permalink to this definition"></a></dt>
<dd><p>Get all edges in the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>edge_type</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Specify the type of edge.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of edges.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_edges</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>edge_type</cite> is not integer.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_all_neighbors">
<span class="sig-name descname"><span class="pre">get_all_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_all_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_all_neighbors" title="Permalink to this definition"></a></dt>
<dd><p>Get <cite>neighbor_type</cite> neighbors of the nodes in <cite>node_list</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of nodes.</p></li>
<li><p><strong>neighbor_type</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Specify the type of neighbor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neighbors</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_neighbors</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>node_list</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>neighbor_type</cite> is not integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_all_nodes">
<span class="sig-name descname"><span class="pre">get_all_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_all_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_all_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Get all nodes in the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_type</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Specify the type of node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>node_type</cite> is not integer.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_edge_feature">
<span class="sig-name descname"><span class="pre">get_edge_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_edge_feature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_edge_feature" title="Permalink to this definition"></a></dt>
<dd><p>Get <cite>feature_types</cite> feature of the edges in <cite>edge_list</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edge_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of edges.</p></li>
<li><p><strong>feature_types</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of feature types.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of features.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_edges</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">features</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_edge_feature</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>edge_list</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>feature_types</cite> is not list or ndarray.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_neg_sampled_neighbors">
<span class="sig-name descname"><span class="pre">get_neg_sampled_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neg_neighbor_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neg_neighbor_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_neg_sampled_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_neg_sampled_neighbors" title="Permalink to this definition"></a></dt>
<dd><p>Get <cite>neg_neighbor_type</cite> negative sampled neighbors of the nodes in <cite>node_list</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of nodes.</p></li>
<li><p><strong>neg_neighbor_num</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of neighbors sampled.</p></li>
<li><p><strong>neg_neighbor_type</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Specify the type of negative neighbor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neg_neighbors</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_neg_sampled_neighbors</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>node_list</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>neg_neighbor_num</cite> is not integer.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>neg_neighbor_type</cite> is not integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_node_feature">
<span class="sig-name descname"><span class="pre">get_node_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_node_feature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_node_feature" title="Permalink to this definition"></a></dt>
<dd><p>Get <cite>feature_types</cite> feature of the nodes in <cite>node_list</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of nodes.</p></li>
<li><p><strong>feature_types</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of feature types.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of features.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">features</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_node_feature</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>node_list</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>feature_types</cite> is not list or ndarray.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_nodes_from_edges">
<span class="sig-name descname"><span class="pre">get_nodes_from_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_nodes_from_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_nodes_from_edges" title="Permalink to this definition"></a></dt>
<dd><p>Get nodes from the edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>edge_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of edges.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>edge_list</cite> is not list or ndarray.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.get_sampled_neighbors">
<span class="sig-name descname"><span class="pre">get_sampled_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_nums</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.get_sampled_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.get_sampled_neighbors" title="Permalink to this definition"></a></dt>
<dd><p>Get sampled neighbor information.</p>
<p>The api supports multi-hop neighbor sampling. That is, the previous sampling result is used as the input of
next-hop sampling. A maximum of 6-hop are allowed.</p>
<p>The sampling result is tiled into a list in the format of [input node, 1-hop sampling result,
2-hop samling result …]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_list</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – The given list of nodes.</p></li>
<li><p><strong>neighbor_nums</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – Number of neighbors sampled per hop.</p></li>
<li><p><strong>neighbor_types</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em>]</em>) – Neighbor type sampled per hop.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neighbors</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">get_sampled_neighbors</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>node_list</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>neighbor_nums</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>neighbor_types</cite> is not list or ndarray.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.graph_info">
<span class="sig-name descname"><span class="pre">graph_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.graph_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.graph_info" title="Permalink to this definition"></a></dt>
<dd><p>Get the meta information of the graph, including the number of nodes, the type of nodes,
the feature information of nodes, the number of edges, the type of edges, and the feature information of edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Meta information of the graph. The key is node_type, edge_type, node_num, edge_num,
node_feature_type and edge_feature_type.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.GraphData.random_walk">
<span class="sig-name descname"><span class="pre">random_walk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_home_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_away_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/graphdata.html#GraphData.random_walk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.GraphData.random_walk" title="Permalink to this definition"></a></dt>
<dd><p>Random walk in nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_nodes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – Start node list in random walk</p></li>
<li><p><strong>meta_path</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – node type for each walk step</p></li>
<li><p><strong>step_home_param</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – return hyper parameter in node2vec algorithm (Default = 1.0).</p></li>
<li><p><strong>step_away_param</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – inout hyper parameter in node2vec algorithm (Default = 1.0).</p></li>
<li><p><strong>default_node</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – default node if no more neighbors found (Default = -1).
A default value of -1 indicates that no node is given.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of nodes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_graph</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GraphData</span><span class="p">(</span><span class="s1">&#39;dataset_file&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">data_graph</span><span class="o">.</span><span class="n">random_walk</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>target_nodes</cite> is not list or ndarray.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>meta_path</cite> is not list or ndarray.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">ImageFolderDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_indexing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ImageFolderDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads images from a tree of directories.</p>
<p>All images within one folder have the same label.
The generated dataset has two columns [‘image’, ‘label’].
The shape of the image column is [image_size] if decode flag is False, or [H,W,C]
otherwise.
The type of the image tensor is uint8. The label is a scalar int32 tensor.
This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id12">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id12" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to perform shuffle on the dataset
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>extensions</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of file extensions to be
included in the dataset (default=None).</p></li>
<li><p><strong>class_indexing</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – A str-to-int mapping from folder name to index
(default=None, the folder names will be sorted
alphabetically and each class will be given a
unique index starting from 0).</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Decode the images after reading (default=False).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If class_indexing is not a dictionary.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set path to the imagefolder directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This directory needs to contain sub-directories which contain the images</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Read all samples (image files) in dataset_dir with 8 threads</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imagefolder_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Read all samples (image files) from folder cat and folder dog with label 0 and 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imagefolder_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">class_indexing</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Read all samples (image files) in dataset_dir with extensions .JPEG and .png (case sensitive)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imagefolder_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.JPEG&quot;</span><span class="p">,</span> <span class="s2">&quot;.png&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ImageFolderDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ImageFolderDataset.num_classes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id13">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id13" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ImageFolderDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ImageFolderDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">ManifestDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_indexing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ManifestDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ManifestDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads images from a manifest file.</p>
<p>The generated dataset has two columns [‘image’, ‘label’].
The shape of the image column is [image_size] if decode flag is False, or [H,W,C]
otherwise.
The type of the image tensor is uint8. The label is a scalar uint64 tensor.
This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id14">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id14" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File to be read.</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – acceptable usages include train, eval and inference (default=”train”).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset.
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None, expected
order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>class_indexing</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – A str-to-int mapping from label name to index
(default=None, the folder names will be sorted alphabetically and each
class will be given a unique index starting from 0).</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – decode the images after reading (default=False).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If class_indexing is not a dictionary.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_file</span> <span class="o">=</span> <span class="s2">&quot;/path/to/manifest_file.manifest&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Read all samples specified in manifest_file dataset with 8 threads for training</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">manifest_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ManifestDataset</span><span class="p">(</span><span class="n">dataset_file</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Read samples (specified in manifest_file.manifest) for shard 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in a 2-way distributed training setup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">manifest_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ManifestDataset</span><span class="p">(</span><span class="n">dataset_file</span><span class="p">,</span> <span class="n">num_shards</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">shard_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.get_class_indexing">
<span class="sig-name descname"><span class="pre">get_class_indexing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ManifestDataset.get_class_indexing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ManifestDataset.get_class_indexing" title="Permalink to this definition"></a></dt>
<dd><p>Get the class index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict, A str-to-int mapping from label name to index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ManifestDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ManifestDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#ManifestDataset.num_classes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.ManifestDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id15">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id15" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.ManifestDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.ManifestDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">MindDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padded_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_padded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#MindDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.MindDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads MindRecord files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_file</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>]</em>) – One of file names or file list in dataset.</p></li>
<li><p><strong>columns_list</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be read (default=None).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of readers (default=None).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to perform shuffle on the dataset
(default=None, performs shuffle).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, sampler is exclusive
with shuffle and block_reader). Support list: SubsetRandomSampler,
PkSampler, RandomSampler, SequentialSampler, DistributedSampler.</p></li>
<li><p><strong>padded_sample</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Samples will be appended to dataset, which
keys are the same as column_list.</p></li>
<li><p><strong>num_padded</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of padding samples. Dataset size
plus num_padded should be divisible by num_shards.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of samples to be included in the dataset
(default=None, all samples).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#MindDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.MindDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id16">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id16" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MindDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MindDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">MnistDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#MnistDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.MnistDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset for reading and parsing the MNIST dataset.</p>
<p>The generated dataset has two columns [‘image’, ‘label’].
The type of the image tensor is uint8. The label is a scalar uint32 tensor.
This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id17">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id17" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<p>Citation of Mnist dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">lecun2010mnist</span><span class="p">,</span>
<span class="n">title</span>        <span class="o">=</span> <span class="p">{</span><span class="n">MNIST</span> <span class="n">handwritten</span> <span class="n">digit</span> <span class="n">database</span><span class="p">},</span>
<span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">LeCun</span><span class="p">,</span> <span class="n">Yann</span> <span class="ow">and</span> <span class="n">Cortes</span><span class="p">,</span> <span class="n">Corinna</span> <span class="ow">and</span> <span class="n">Burges</span><span class="p">,</span> <span class="n">CJ</span><span class="p">},</span>
<span class="n">journal</span>      <span class="o">=</span> <span class="p">{</span><span class="n">ATT</span> <span class="n">Labs</span> <span class="p">[</span><span class="n">Online</span><span class="p">]},</span>
<span class="n">volume</span>       <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">},</span>
<span class="n">year</span>         <span class="o">=</span> <span class="p">{</span><span class="mi">2010</span><span class="p">},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">yann</span><span class="o">.</span><span class="n">lecun</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">exdb</span><span class="o">/</span><span class="n">mnist</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">MNIST</span> <span class="n">database</span> <span class="n">of</span> <span class="n">handwritten</span> <span class="n">digits</span> <span class="n">has</span> <span class="n">a</span> <span class="n">training</span> <span class="nb">set</span> <span class="n">of</span> <span class="mi">60</span><span class="p">,</span><span class="mi">000</span> <span class="n">examples</span><span class="p">,</span>
                <span class="ow">and</span> <span class="n">a</span> <span class="n">test</span> <span class="nb">set</span> <span class="n">of</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span> <span class="n">examples</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">subset</span> <span class="n">of</span> <span class="n">a</span> <span class="n">larger</span> <span class="nb">set</span> <span class="n">available</span> <span class="kn">from</span>
                <span class="nn">NIST.</span> <span class="n">The</span> <span class="n">digits</span> <span class="n">have</span> <span class="n">been</span> <span class="n">size</span><span class="o">-</span><span class="n">normalized</span> <span class="ow">and</span> <span class="n">centered</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">fixed</span><span class="o">-</span><span class="n">size</span> <span class="n">image</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Usage of this dataset, can be “train”, “test” or “all” . “train” will read from 60,000
train samples, “test” will read from 10,000 test samples, “all” will read from all 70,000 samples.
(default=None, all samples)</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to perform shuffle on the dataset
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the
dataset (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/mnist_folder&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read 3 samples from MNIST dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mnist_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">MnistDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="o">=</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: In mnist_dataset dataset, each dictionary has keys &quot;image&quot; and &quot;label&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#MnistDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.MnistDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id18">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id18" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.MnistDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.MnistDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">NumpySlicesDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#NumpySlicesDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset" title="Permalink to this definition"></a></dt>
<dd><p>Create a dataset with given data slices, mainly for loading Python data into dataset.</p>
<p>This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id19">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id19" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>]</em>) – list, tuple, dict and other
NumPy formats. Input data will be sliced along the first dimension and generate additional rows.
Large data is not recommended to be loaded in this way as data is loading into memory.</p></li>
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of column names of the dataset (default=None). If column_names is not
provided, when data is dict, column_names will be its keys, otherwise it will be like column_1, column_2 …</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of samples to be included in the dataset (default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of subprocesses used to fetch the dataset in parallel (default=1).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to perform shuffle on the dataset. Random accessible input is required.
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>sampler</strong> (<em>Union</em><em>[</em><em>Sampler</em><em>, </em><em>Iterable</em><em>]</em><em>, </em><em>optional</em>) – Object used to choose samples from the dataset. Random accessible
input is required (default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).
When this argument is specified, ‘num_samples’ will not used. Random accessible input is required.</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This argument must be specified only
when num_shards is also specified. Random accessible input is required.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Input data can be a list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset1</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">NumpySlicesDataset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;column_1&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Input data can be a dictionary, and column_names will be its keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset2</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">NumpySlicesDataset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Input data can be a tuple of lists (or NumPy arrays), each tuple element refers to data in each column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset3</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">NumpySlicesDataset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;column_1&quot;</span><span class="p">,</span> <span class="s2">&quot;column_2&quot;</span><span class="p">,</span> <span class="s2">&quot;column_3&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4) Load data from CSV file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;file.csv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset4</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">NumpySlicesDataset</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id20">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id20" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.NumpySlicesDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.NumpySlicesDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.PKSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">PKSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#PKSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.PKSampler" title="Permalink to this definition"></a></dt>
<dd><p>Samples K elements for each P class in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_val</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements to sample for each class.</p></li>
<li><p><strong>num_class</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of classes to sample (default=None, all classes).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the class IDs are shuffled (default=False).</p></li>
<li><p><strong>class_column</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Name of column with class labels for MindDataset (default=’label’).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of samples to draw (default=None, all elements).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a PKSampler that will get 3 samples from every class.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">PKSampler</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_val is not positive.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#NotImplementedError" title="(in Python v3.8)"><strong>NotImplementedError</strong></a> – If num_class is not None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shuffle is not boolean.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PKSampler.get_num_samples">
<span class="sig-name descname"><span class="pre">get_num_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PKSampler.get_num_samples" title="Permalink to this definition"></a></dt>
<dd><p>All samplers can contain a numeric num_samples value (or it can be set to None).
A child sampler can exist or be None.
If a child sampler exists, then the child sampler count can be a numeric value or None.
These conditions impact the resultant sampler count that is used.
The following table shows the possible results from calling this function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>child sampler</p></th>
<th class="head"><p>num_samples</p></th>
<th class="head"><p>child_samples</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>y</p></td>
<td><p>min(x, y)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>None</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>x</p></td>
<td><p>n/a</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>n/a</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, The number of samples, or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">PaddedDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">padded_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#PaddedDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.PaddedDataset" title="Permalink to this definition"></a></dt>
<dd><p>Create a dataset with fake data provided by user. Mainly used to add to the original data set
and assign it to the corresponding shard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>padded_samples</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>)</em>) – Samples provided by user.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If padded_samples is not an instance of list.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If the element of padded_samples is not an instance of dict.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If the padded_samples is empty.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)},</span> <span class="p">{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds1</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">PaddedDataset</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id21">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id21" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.PaddedDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.PaddedDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.RandomSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">RandomSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">replacement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#RandomSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.RandomSampler" title="Permalink to this definition"></a></dt>
<dd><p>Samples the elements randomly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replacement</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, put the sample ID back for the next draw (default=False).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to sample (default=None, all elements).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a RandomSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">RandomSampler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If replacement is not boolean.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_samples is not positive.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.RandomSampler.get_num_samples">
<span class="sig-name descname"><span class="pre">get_num_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.RandomSampler.get_num_samples" title="Permalink to this definition"></a></dt>
<dd><p>All samplers can contain a numeric num_samples value (or it can be set to None).
A child sampler can exist or be None.
If a child sampler exists, then the child sampler count can be a numeric value or None.
These conditions impact the resultant sampler count that is used.
The following table shows the possible results from calling this function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>child sampler</p></th>
<th class="head"><p>num_samples</p></th>
<th class="head"><p>child_samples</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>y</p></td>
<td><p>min(x, y)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>None</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>x</p></td>
<td><p>n/a</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>n/a</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, The number of samples, or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.Schema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">Schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Schema" title="Permalink to this definition"></a></dt>
<dd><p>Class to represent a schema of a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>schema_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path of schema file (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Schema object, schema info about dataset.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If schema file failed to load.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.common.dtype</span> <span class="k">as</span> <span class="nn">mstype</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create schema; specify column name, mindspore.dtype and shape of the column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="n">de_type</span><span class="o">=</span><span class="n">mindspore</span><span class="o">.</span><span class="n">int64</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Schema.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">de_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Schema.add_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Schema.add_column" title="Permalink to this definition"></a></dt>
<dd><p>Add new column to the schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the column.</p></li>
<li><p><strong>de_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Data type of the column.</p></li>
<li><p><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – Shape of the column
(default=None, [-1] which is an unknown shape of rank 1).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If column type is unknown.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Schema.from_json">
<span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Schema.from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Schema.from_json" title="Permalink to this definition"></a></dt>
<dd><p>Get schema file from JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>json_obj</strong> (<em>dictionary</em>) – Object of JSON parsed.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – if there is unknown item in the object.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – if dataset type is missing in the object.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – if columns are missing in the object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Schema.parse_columns">
<span class="sig-name descname"><span class="pre">parse_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Schema.parse_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Schema.parse_columns" title="Permalink to this definition"></a></dt>
<dd><p>Parse the columns and add it to self.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>]</em><em>]</em>) – <p>Dataset attribute information, decoded from schema file.</p>
<ul class="simple">
<li><p>list[dict], ‘name’ and ‘type’ must be in keys, ‘shape’ optional.</p></li>
<li><p>dict, columns.keys() as name, columns.values() is dict, and ‘type’ inside, ‘shape’ optional.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If failed to parse columns.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If unknown items in columns.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If column’s name field is missing.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If column’s type field is missing.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns1</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span> <span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">,</span> <span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span><span class="o">.</span><span class="n">parse_columns</span><span class="p">(</span><span class="n">columns1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">},</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span><span class="o">.</span><span class="n">parse_columns</span><span class="p">(</span><span class="n">columns2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.Schema.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#Schema.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.Schema.to_json" title="Permalink to this definition"></a></dt>
<dd><p>Get a JSON string of the schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Str, JSON string of the schema.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.SequentialSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">SequentialSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#SequentialSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.SequentialSampler" title="Permalink to this definition"></a></dt>
<dd><p>Samples the dataset elements sequentially, same as not having a sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_index</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Index to start sampling at. (dafault=None, start at first ID)</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to sample (default=None, all elements).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">SequentialSampler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.SequentialSampler.get_num_samples">
<span class="sig-name descname"><span class="pre">get_num_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.SequentialSampler.get_num_samples" title="Permalink to this definition"></a></dt>
<dd><p>All samplers can contain a numeric num_samples value (or it can be set to None).
A child sampler can exist or be None.
If a child sampler exists, then the child sampler count can be a numeric value or None.
These conditions impact the resultant sampler count that is used.
The following table shows the possible results from calling this function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>child sampler</p></th>
<th class="head"><p>num_samples</p></th>
<th class="head"><p>child_samples</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>y</p></td>
<td><p>min(x, y)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>None</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>x</p></td>
<td><p>n/a</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>n/a</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, The number of samples, or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.SubsetRandomSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">SubsetRandomSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#SubsetRandomSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.SubsetRandomSampler" title="Permalink to this definition"></a></dt>
<dd><p>Samples the elements randomly from a sequence of indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A sequence of indices.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to sample (default=None, all elements).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">119</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a SubsetRandomSampler, will sample from the provided indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">SubsetRandomSampler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">TFRecordDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Shuffle.GLOBAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_equal_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#TFRecordDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.TFRecordDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads and parses datasets stored on disk in TFData format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_files</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>]</em>) – String or list of files to be read or glob strings to search for a
pattern of files. The list will be sorted in a lexicographical order.</p></li>
<li><p><strong>schema</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference internal" href="#mindspore.dataset.Schema" title="mindspore.dataset.Schema"><em>Schema</em></a><em>]</em><em>, </em><em>optional</em>) – Path to the JSON schema file or schema object (default=None).
If the schema is not provided, the meta data from the TFData file is considered the schema.</p></li>
<li><p><strong>columns_list</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be read (default=None, read all columns)</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples (rows) to read (default=None).
If num_samples is None and numRows(parsed from schema) does not exist, read the full dataset;
If num_samples is None and numRows(parsed from schema) is greater than 0, read numRows rows;
If both num_samples and numRows(parsed from schema) are greater than 0, read num_samples rows.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>Shuffle level</em><em>]</em><em>, </em><em>optional</em>) – <p>Perform reshuffling of the data every epoch
(default=Shuffle.GLOBAL).
If shuffle is False, no shuffling will be performed;
If shuffle is True, the behavior is the same as setting shuffle to be Shuffle.GLOBAL
Otherwise, there are two levels of shuffling:</p>
<ul>
<li><p>Shuffle.GLOBAL: Shuffle both the files and samples.</p></li>
<li><p>Shuffle.FILES: Shuffle files only.</p></li>
</ul>
</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
<li><p><strong>shard_equal_rows</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Get equal rows for all shards(default=False). If shard_equal_rows
is false, number of rows of each shard may be not equal.</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.common.dtype</span> <span class="k">as</span> <span class="nn">mstype</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/path/to/1&quot;</span><span class="p">,</span> <span class="s2">&quot;/path/to/2&quot;</span><span class="p">]</span> <span class="c1"># contains 1 or multiple tf data files</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Get all rows from dataset_files with no explicit schema</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The meta-data in the first row will be used as a schema.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfdataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TFRecordDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Get all rows from dataset_files with user-defined schema</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">Schema</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;col_1d&#39;</span><span class="p">,</span> <span class="n">de_type</span><span class="o">=</span><span class="n">mindspore</span><span class="o">.</span><span class="n">int64</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfdataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TFRecordDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Get all rows from dataset_files with schema file &quot;./schema.json&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfdataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TFRecordDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;./schema.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">estimate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#TFRecordDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because the TFRecord format does not save metadata, all files need to be traversed to obtain
the total amount of data. Therefore, this api is slow.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>estimate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Fast estimation of the dataset size instead of a full scan.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id22">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id22" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<p>This is a general purpose split function which can be called from any operator in the pipeline.
There is another, optimized split function, which will be called automatically if ds.split is
called where ds is a MappableDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have at least 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dataset cannot be sharded if split is going to be called.</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="s2">&quot;/path/to/text_file/*&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TextFileDataset is not a mappable dataset, so this non-optimized split will be called.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TFRecordDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TFRecordDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">TextFileDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Shuffle.GLOBAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#TextFileDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.TextFileDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset that reads and parses datasets stored on disk in text format.
The generated dataset has one column [‘text’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_files</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>]</em>) – String or list of files to be read or glob strings to search for a
pattern of files. The list will be sorted in a lexicographical order.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of samples (rows) to read (default=None, reads the full dataset).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>Shuffle level</em><em>]</em><em>, </em><em>optional</em>) – <p>Perform reshuffling of the data every epoch
(default=Shuffle.GLOBAL).
If shuffle is False, no shuffling will be performed;
If shuffle is True, the behavior is the same as setting shuffle to be Shuffle.GLOBAL
Otherwise, there are two levels of shuffling:</p>
<ul>
<li><p>Shuffle.GLOBAL: Shuffle both the files and samples.</p></li>
<li><p>Shuffle.FILES: Shuffle files only.</p></li>
</ul>
</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/path/to/1&quot;</span><span class="p">,</span> <span class="s2">&quot;/path/to/2&quot;</span><span class="p">]</span> <span class="c1"># contains 1 or multiple text files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="o">=</span><span class="n">dataset_files</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#TextFileDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.TextFileDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id23">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id23" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<p>This is a general purpose split function which can be called from any operator in the pipeline.
There is another, optimized split function, which will be called automatically if ds.split is
called where ds is a MappableDataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have at least 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dataset cannot be sharded if split is going to be called.</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_files</span> <span class="o">=</span> <span class="s2">&quot;/path/to/text_file/*&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TextFileDataset is not a mappable dataset, so this non-optimized split will be called.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">dataset_files</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.TextFileDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.TextFileDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">VOCDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Segmentation'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_indexing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_shards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#VOCDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.VOCDataset" title="Permalink to this definition"></a></dt>
<dd><p>A source dataset for reading and parsing VOC dataset.</p>
<p>The generated dataset has multiple columns :</p>
<blockquote>
<div><ul class="simple">
<li><p>task=’Detection’, column: [[‘image’, dtype=uint8], [‘bbox’, dtype=float32], [‘label’, dtype=uint32],
[‘difficult’, dtype=uint32], [‘truncate’, dtype=uint32]].</p></li>
<li><p>task=’Segmentation’, column: [[‘image’, dtype=uint8], [‘target’,dtype=uint8]].</p></li>
</ul>
</div></blockquote>
<p>This dataset can take in a sampler. ‘sampler’ and ‘shuffle’ are mutually exclusive. The table
below shows what input arguments are allowed and their expected behavior.</p>
<table class="colwidths-given docutils align-default" id="id24">
<caption><span class="caption-text">Expected Order Behavior of Using ‘sampler’ and ‘shuffle’</span><a class="headerlink" href="#id24" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter ‘sampler’</p></th>
<th class="head"><p>Parameter ‘shuffle’</p></th>
<th class="head"><p>Expected Order Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>True</p></td>
<td><p>random order</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>False</p></td>
<td><p>sequential order</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>None</p></td>
<td><p>order defined by sampler</p></td>
</tr>
<tr class="row-even"><td><p>Sampler object</p></td>
<td><p>True</p></td>
<td><p>not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>Sampler object</p></td>
<td><p>False</p></td>
<td><p>not allowed</p></td>
</tr>
</tbody>
</table>
<p>Citation of VOC dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">Everingham10</span><span class="p">,</span>
<span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">Everingham</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Van</span><span class="o">~</span><span class="n">Gool</span><span class="p">,</span> <span class="n">L</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Williams</span><span class="p">,</span> <span class="n">C</span><span class="o">.</span> <span class="n">K</span><span class="o">.</span> <span class="n">I</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Winn</span><span class="p">,</span> <span class="n">J</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Zisserman</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="p">},</span>
<span class="n">title</span>        <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">Pascal</span> <span class="n">Visual</span> <span class="n">Object</span> <span class="n">Classes</span> <span class="p">(</span><span class="n">VOC</span><span class="p">)</span> <span class="n">Challenge</span><span class="p">},</span>
<span class="n">journal</span>      <span class="o">=</span> <span class="p">{</span><span class="n">International</span> <span class="n">Journal</span> <span class="n">of</span> <span class="n">Computer</span> <span class="n">Vision</span><span class="p">},</span>
<span class="n">volume</span>       <span class="o">=</span> <span class="p">{</span><span class="mi">88</span><span class="p">},</span>
<span class="n">year</span>         <span class="o">=</span> <span class="p">{</span><span class="mi">2010</span><span class="p">},</span>
<span class="n">number</span>       <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">},</span>
<span class="n">month</span>        <span class="o">=</span> <span class="p">{</span><span class="n">jun</span><span class="p">},</span>
<span class="n">pages</span>        <span class="o">=</span> <span class="p">{</span><span class="mi">303</span><span class="o">--</span><span class="mi">338</span><span class="p">},</span>
<span class="n">biburl</span>       <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">host</span><span class="o">.</span><span class="n">robots</span><span class="o">.</span><span class="n">ox</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">pascal</span><span class="o">/</span><span class="n">VOC</span><span class="o">/</span><span class="n">pubs</span><span class="o">/</span><span class="n">everingham10</span><span class="o">.</span><span class="n">html</span><span class="c1">#bibtex},</span>
<span class="n">howpublished</span> <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">host</span><span class="o">.</span><span class="n">robots</span><span class="o">.</span><span class="n">ox</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">pascal</span><span class="o">/</span><span class="n">VOC</span><span class="o">/</span><span class="n">voc</span><span class="p">{</span><span class="n">year</span><span class="p">}</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="p">},</span>
<span class="n">description</span>  <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">PASCAL</span> <span class="n">Visual</span> <span class="n">Object</span> <span class="n">Classes</span> <span class="p">(</span><span class="n">VOC</span><span class="p">)</span> <span class="n">challenge</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">benchmark</span> <span class="ow">in</span> <span class="n">visual</span>
                <span class="nb">object</span> <span class="n">category</span> <span class="n">recognition</span> <span class="ow">and</span> <span class="n">detection</span><span class="p">,</span> <span class="n">providing</span> <span class="n">the</span> <span class="n">vision</span> <span class="ow">and</span> <span class="n">machine</span>
                <span class="n">learning</span> <span class="n">communities</span> <span class="k">with</span> <span class="n">a</span> <span class="n">standard</span> <span class="n">dataset</span> <span class="n">of</span> <span class="n">images</span> <span class="ow">and</span> <span class="n">annotation</span><span class="p">,</span> <span class="ow">and</span>
                <span class="n">standard</span> <span class="n">evaluation</span> <span class="n">procedures</span><span class="o">.</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the root directory that contains the dataset.</p></li>
<li><p><strong>task</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the task type of reading voc data, now only support “Segmentation” or “Detection”
(default=”Segmentation”).</p></li>
<li><p><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The type of data list text file to be read (default=”train”).</p></li>
<li><p><strong>class_indexing</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – A str-to-int mapping from label name to index, only valid in
“Detection” task (default=None, the folder names will be sorted alphabetically and each
class will be given a unique index starting from 0).</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of images to be included in the dataset
(default=None, all images).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to read the data
(default=None, number set in the config).</p></li>
<li><p><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to perform shuffle on the dataset (default=None, expected
order behavior shown in the table).</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Decode the images after reading (default=False).</p></li>
<li><p><strong>sampler</strong> (<em>Sampler</em><em>, </em><em>optional</em>) – Object used to choose samples from the dataset
(default=None, expected order behavior shown in the table).</p></li>
<li><p><strong>num_shards</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of shards that the dataset will be divided
into (default=None).</p></li>
<li><p><strong>shard_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The shard ID within num_shards (default=None). This
argument can only be specified when num_shards is also specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If xml of Annotations is an invalid format.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If xml of Annotations loss attribution of “object”.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If xml of Annotations loss attribution of “bndbox”.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and shuffle are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sampler and sharding are specified at the same time.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If num_shards is specified but shard_id is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If shard_id is specified but num_shards is None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If task is not equal ‘Segmentation’ or ‘Detection’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If task equal ‘Segmentation’ but class_indexing is not None.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If txt related to mode is not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If shard_id is invalid (&lt; 0 or &gt;= num_shards).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/voc_dataset_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Read VOC data for segmentatation training</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voc_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">VOCDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;Segmentation&quot;</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Read VOC data for detection training</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voc_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">VOCDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Read all VOC dataset samples in dataset_dir with 8 threads in random order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voc_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">VOCDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4) Read then decode all VOC dataset samples in dataset_dir in sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voc_dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">VOCDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">decode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In VOC dataset, if task=&#39;Segmentation&#39;, each dictionary has keys &quot;image&quot; and &quot;target&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In VOC dataset, if task=&#39;Detection&#39;, each dictionary has keys &quot;image&quot; and &quot;annotation&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apply_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.apply" title="Permalink to this definition"></a></dt>
<dd><p>Apply a function in this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apply_func</strong> (<em>function</em>) – A function that must take one ‘Dataset’ as an argument and
return a preprogressing ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare an apply_func function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">apply_func</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use apply to call apply_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If apply_func doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_batch_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.batch" title="Permalink to this definition"></a></dt>
<dd><p>Combine batch_size number of consecutive rows into batches.</p>
<p>For any child node, a batch is treated as a single row.
For any column, all the elements within that column must have the same shape.
If a per_batch_map callable is provided, it will be applied to the batches of tensors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches and per_batch_map.
It is recommended that the repeat operation be used after the batch operation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>function</em>) – The number of rows each batch is created with. An
int or callable which takes exactly 1 parameter, BatchInfo.</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to drop the last
possibly incomplete batch (default=False). If True, and if there are less
than batch_size rows available to make the last batch, then those rows will
be dropped and not propagated to the child node.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset in parallel (default=None).</p></li>
<li><p><strong>per_batch_map</strong> (<em>callable</em><em>, </em><em>optional</em>) – Per batch map callable. A callable which takes
(list[Tensor], list[Tensor], …, BatchInfo) as input parameters. Each list[Tensor] represents a batch
of Tensors on a given column. The number of lists should match with number of entries in input_columns.
The last parameter of the callable should always be a BatchInfo object.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns. The size of the list should
match with signature of the per_batch_map callable.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of names assigned to the columns
outputted by the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – [Not currently implemented] List of all the desired columns to
propagate to the child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Whether to perform padding on selected columns. pad_info={“col1”:([224,224],0)}
would pad column with name “col1” to a tensor of size [224,224] and fill the missing with 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BatchDataset, dataset batched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.bucket_batch_by_length">
<span class="sig-name descname"><span class="pre">bucket_batch_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_boundaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_batch_sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_length_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_to_bucket_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.bucket_batch_by_length" title="Permalink to this definition"></a></dt>
<dd><p>Bucket elements according to their lengths. Each bucket will be padded and batched when
they are full.</p>
<p>A length function is called on each row in the dataset. The row is then
bucketed based on its length and bucket_boundaries. When a bucket reaches its
corresponding size specified in bucket_batch_sizes, the entire bucket will be
padded according to batch_info, and then batched. Each batch will be full,
except for maybe the last batch for each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_names</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Columns passed to element_length_function.</p></li>
<li><p><strong>bucket_boundaries</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the upper boundaries
of the buckets. Must be strictly increasing. If there are n boundaries,
n+1 buckets are created: One bucket for [0, bucket_boundaries[0]), one
bucket for [bucket_boundaries[i], bucket_boundaries[i+1]) for each
0&lt;i&lt;n, and one bucket for [bucket_boundaries[n-1], inf).</p></li>
<li><p><strong>bucket_batch_sizes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – A list consisting of the batch sizes for
each bucket. Must contain len(bucket_boundaries)+1 elements.</p></li>
<li><p><strong>element_length_function</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes in
len(column_names) arguments and returns an int. If no value is
provided, then len(column_names) must be 1, and the size of the first
dimension of that column will be taken as the length (default=None).</p></li>
<li><p><strong>pad_info</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Represents how to batch each column. The key
corresponds to the column name, and the value must be a tuple of 2 elements.
The first element corresponds to the shape to pad to, and the second
element corresponds to the value to pad with. If a column is not
specified, then that column will be padded to the longest in the current
batch, and 0 will be used as the padding value. Any None dimensions will
be padded to the longest in the current batch, unless if
pad_to_bucket_boundary is True. If no padding is wanted, set pad_info
to None (default=None).</p></li>
<li><p><strong>pad_to_bucket_boundary</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will pad each None
dimension in pad_info to the bucket_boundary minus 1. If there are any
elements that fall into the last bucket, an error will occur
(default=False).</p></li>
<li><p><strong>drop_remainder</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will drop the last batch for each
bucket if it is not a full batch (default=False).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where every 100 rows is combined into a batch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and drops the last incomplete batch if there is one.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buket_boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket_batch_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_length_function</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">col2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col1 to shape [2, bucket_boundaries[i]] where i is the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># index of the bucket that is currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Will pad col2 to a shape where each dimension is the longest in all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the elements currently being batched.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pad_to_bucket_boundary</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">bucket_batch_by_length</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">bucket_boundaries</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">bucket_batch_sizes</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">element_length_function</span><span class="p">,</span> <span class="n">pad_info</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">pad_to_bucket_boundary</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.concat" title="Permalink to this definition"></a></dt>
<dd><p>Concatenate the datasets in the input list of datasets. The “+” operator is also supported to concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column name, and rank and type of the column data must be the same in the input datasets.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A list of datasets or a single class Dataset
to be concatenated together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ConcatDataset, dataset concatenated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with &quot;+&quot; operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span> <span class="o">+</span> <span class="n">ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset by concatenating ds1 and ds2 with concat operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.create_dict_iterator">
<span class="sig-name descname"><span class="pre">create_dict_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.create_dict_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a dictionary.</p>
<p>The order of the columns in the dictionary may not be the same as the original order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated
(default=-1, iterator can be iterated infinite number of epochs).</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype,
if output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, dictionary of column name-ndarray pair.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator might be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># print the data in column1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.create_tuple_iterator">
<span class="sig-name descname"><span class="pre">create_tuple_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.create_tuple_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Create an iterator over the dataset. The data retrieved will be a list of ndarrays of data.</p>
<p>To specify which columns to list and the order needed, use columns_list. If columns_list
is not provided, the order of the columns will not be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of columns to be used to specify the order of columns
(default=None, means all columns).</p></li>
<li><p><strong>num_epochs</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of epochs that iterator can be iterated.
(default=-1, iterator can be iterated infinite number of epochs)</p></li>
<li><p><strong>output_numpy</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to output NumPy datatype.
If output_numpy=False, iterator will output MSTensor (default=False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator, list of ndarrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create an iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The columns in the data obtained by the iterator will not be changed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">create_tuple_iterator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># convert the returned tuple to a list and print</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.device_que">
<span class="sig-name descname"><span class="pre">device_que</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.device_que" title="Permalink to this definition"></a></dt>
<dd><p>Return a transferred Dataset that transfers data through a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefetch_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Prefetch number of records ahead of the
user’s request (default=None).</p></li>
<li><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset by predicate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input_columns not provided or empty, all columns will be used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> (<em>callable</em>) – Python callable which returns a boolean value. If False then filter the element.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names of the input columns, when
default=None, the predicate will be applied on all columns in the dataset.</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of workers to process the dataset
in parallel (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FilterDataset, dataset filter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># generator data(0 ~ 63)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># filter the data that greater than or equal to 11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_f</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">,</span> <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.flat_map">
<span class="sig-name descname"><span class="pre">flat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.flat_map" title="Permalink to this definition"></a></dt>
<dd><p>Map <cite>func</cite> to each row in dataset and flatten the result.</p>
<p>The specified <cite>func</cite> is a function that must take one ‘Ndarray’ as input
and return a ‘Dataset’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – A function that must take one ‘Ndarray’ as an argument and
return a ‘Dataset’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, applied by the function.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.text</span> <span class="k">as</span> <span class="nn">text</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Declare a function which returns a Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">flat_map_func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of a Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">TextFileDataset</span><span class="p">(</span><span class="n">DATA_FILE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">flat_map</span><span class="p">(</span><span class="n">flat_map_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> is not a function.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If <cite>func</cite> doesn’t return a Dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.get_batch_size">
<span class="sig-name descname"><span class="pre">get_batch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.get_batch_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the size of a batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the number of data in a batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.get_class_indexing">
<span class="sig-name descname"><span class="pre">get_class_indexing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#VOCDataset.get_class_indexing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.VOCDataset.get_class_indexing" title="Permalink to this definition"></a></dt>
<dd><p>Get the class index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict, A str-to-int mapping from label name to index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.get_col_names">
<span class="sig-name descname"><span class="pre">get_col_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.get_col_names" title="Permalink to this definition"></a></dt>
<dd><p>Get names of the columns in the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.get_dataset_size">
<span class="sig-name descname"><span class="pre">get_dataset_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#VOCDataset.get_dataset_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.VOCDataset.get_dataset_size" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of batches in an epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of batches.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.get_repeat_count">
<span class="sig-name descname"><span class="pre">get_repeat_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.get_repeat_count" title="Permalink to this definition"></a></dt>
<dd><p>Get the replication times in RepeatDataset else 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, the count of repeat.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">python_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.map" title="Permalink to this definition"></a></dt>
<dd><p>Apply each operation in operations to this dataset.</p>
<p>The order of operations is determined by the position of each operation in the operations parameter.
operations[0] will be applied first, then operations[1], then operations[2], etc.</p>
<p>Each operation will be passed one or more columns from the dataset as input, and zero or
more columns will be outputted. The first operation will be passed the columns specified
in input_columns as input. If there is more than one operator in operations, the outputted
columns of the previous operation are used as the input columns for the next operation.
The columns outputted by the very last operation will be assigned names specified by
output_columns.</p>
<p>Only the columns specified in column_order will be propagated to the child node. These
columns will be in the same order as specified in column_order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>TensorOp</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><em>functions</em><em>]</em><em>]</em>) – List of operations to be
applied on the dataset. Operations are applied in the order they appear in this list.</p></li>
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of the names of the columns that will be passed to
the first operation as input. The size of this list must match the number of
input columns expected by the first operator. (default=None, the first
operation will be passed however many columns that is required, starting from
the first column).</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of names assigned to the columns outputted by
the last operation. This parameter is mandatory if len(input_columns) !=
len(output_columns). The size of this list must match the number of output
columns of the last operation. (default=None, output columns will have the same
name as the input columns, i.e., the columns will be replaced).</p></li>
<li><p><strong>column_order</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – List of all the desired columns to propagate to the
child node. This list must be a subset of all the columns in the dataset after
all operations are applied. The order of the columns in each row propagated to the
child node follow the order they appear in this list. The parameter is mandatory
if the len(input_columns) != len(output_columns). (default=None, all columns
will be propagated to the child node, the order of the columns will remain the
same).</p></li>
<li><p><strong>num_parallel_workers</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of threads used to process the dataset in
parallel (default=None, the value from the configuration will be used).</p></li>
<li><p><strong>python_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Parallelize Python operations with multiple worker processes. This
option could be beneficial if the Python operation is computational heavy (default=False).</p></li>
<li><p><strong>cache</strong> (<em>DatasetCache</em><em>, </em><em>optional</em>) – Tensor cache to use. (default=None which means no cache is used).
The cache feature is under development and is not recommended.</p></li>
<li><p><strong>callbacks</strong> – (DSCallback, list[DSCallback], optional): List of Dataset callbacks to be called (Default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MapDataset, dataset after mapping operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset.vision.c_transforms</span> <span class="k">as</span> <span class="nn">c_transforms</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset which has 2 columns, &quot;image&quot; and &quot;label&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds_pyfunc is an instance of Dataset which has 3 columns, &quot;col0&quot;, &quot;col1&quot;, and &quot;col2&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Each column is a 2D array of integers.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the global configuration value for num_parallel_workers to be 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations which use this configuration value will use 2 worker threads,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless otherwise specified in the operator&#39;s constructor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set_num_parallel_workers can be called again later if a different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># global configuration value for the number of worker threads is desired.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two operations, where each operation accepts 1 input column and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">rgb_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_jitter_op</span> <span class="o">=</span> <span class="n">c_transforms</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1) Simple map example</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Apply decode_op on column &quot;image&quot;. This column will be replaced by the outputted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># column of decode_op. Since column_order is not provided, both columns &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and &quot;label&quot; will be propagated to the child node in their original order.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and also specify the order of the columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Rename column &quot;image&quot; to &quot;decoded_image&quot; and keep only this column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;decoded_image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_decoded</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A simple example using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as the previous examples.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2) Map example with more than one operation</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If this list of operations is used with map, decode_op will be applied</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># first, then random_jitter_op will be applied.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span><span class="n">decode_op</span><span class="p">,</span> <span class="n">random_jitter_op</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the images are decoded, then randomly color jittered.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># decode_op takes column &quot;image&quot; as input and outputs one column. The column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputted by decode_op is passed as input to random_jitter_op.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># random_jitter_op will output one column. Column &quot;image&quot; will be replaced by</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the column outputted by random_jitter_op (the very last operation). All other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns are unchanged. Since column_order is not specified, the order of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># columns will remain the same.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that is identical to ds_mapped, except the column &quot;image&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># that is outputted by random_jitter_op is renamed to &quot;image_transformed&quot;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specifying column order works in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image_transformed&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped_and_renamed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple operations using pyfunc: Renaming columns and specifying column order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># work in the same way as examples in 1).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0_mapped&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3) Example where number of input columns is not equal to number of output columns</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[0] is a lambda that takes 2 columns as input and outputs 3 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 3 columns as input and outputs 1 column.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># operations[1] is a lambda that takes 1 column as input and outputs 4 columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: The number of output columns of operation[i] must equal the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input columns of operation[i+1]. Otherwise, this map call will also result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operations</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">7</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Since the number of input columns is not the same as the number of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># output columns, the output_columns and column_order parameters must be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specified. Otherwise, this map call will also result in an error.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate all columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod2&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;mod5&quot;</span><span class="p">,</span> <span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Propagate some columns to the child node in this order:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mod7&quot;</span><span class="p">,</span> <span class="s2">&quot;mod3&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_mapped</span> <span class="o">=</span> <span class="n">ds_pyfunc</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">operations</span><span class="p">,</span> <span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.num_classes">
<span class="sig-name descname"><span class="pre">num_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.num_classes" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of classes in a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number, number of classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.output_shapes">
<span class="sig-name descname"><span class="pre">output_shapes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.output_shapes" title="Permalink to this definition"></a></dt>
<dd><p>Get the shapes of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List, list of shapes of each column.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.output_types">
<span class="sig-name descname"><span class="pre">output_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.output_types" title="Permalink to this definition"></a></dt>
<dd><p>Get the types of output data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of data types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.project" title="Permalink to this definition"></a></dt>
<dd><p>Project certain columns in input dataset.</p>
<p>The specified columns will be selected from the dataset and passed down
the pipeline in the order specified. The other columns are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the columns to project.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProjectDataset, dataset projected.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_to_project</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;column3&quot;</span><span class="p">,</span> <span class="s2">&quot;column1&quot;</span><span class="p">,</span> <span class="s2">&quot;column2&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset that consists of column3, column1, column2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># in that order, regardless of the original order of columns.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_to_project</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename the columns in input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the input columns.</p></li>
<li><p><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – List of names of the output columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RenameDataset, dataset renamed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;input_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;output_col1&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col2&quot;</span><span class="p">,</span> <span class="s2">&quot;output_col3&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where input_col1 is renamed to output_col1, and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># input_col2 is renamed to output_col2, and input_col3 is renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to output_col3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span> <span class="n">output_columns</span><span class="o">=</span><span class="n">output_columns</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.repeat" title="Permalink to this definition"></a></dt>
<dd><p>Repeat this dataset count times. Repeat indefinitely if the count is None or -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of using repeat and batch reflects the number of batches. It is recommended that
the repeat operation be used after the batch operation.
If dataset_sink_mode is False, the repeat operation is invalid.
If dataset_sink_mode is True, repeat count must be equal to the epoch of training. Otherwise,
errors could occur since the amount of data is not the amount training requires.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times the dataset is repeated (default=None).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RepeatDataset, dataset repeated.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is repeated for 50 epochs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where each epoch is shuffled individually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shuffled_and_repeated</span> <span class="o">=</span> <span class="n">shuffled_and_repeated</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset is first repeated for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 50 epochs before shuffling. The shuffle operator will treat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the entire 50 epochs as one big dataset.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repeat_and_shuffle</span> <span class="o">=</span> <span class="n">repeat_and_shuffle</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the dataset for next epoch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mindrecord'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the dynamic data processed by the dataset pipeline in common dataset format.
Supported dataset formats: ‘mindrecord’ only</p>
<p>Implicit type casting exists when saving data as ‘mindrecord’. The table below shows how to do type casting.</p>
<table class="colwidths-given docutils align-default" id="id25">
<caption><span class="caption-text">Implicit Type Casting when Saving as ‘mindrecord’</span><a class="headerlink" href="#id25" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type in ‘dataset’</p></th>
<th class="head"><p>Type in ‘mindrecord’</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>int8</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint8</p></td>
<td><p>bytes(1D uint8)</p></td>
<td><p>Drop dimension</p></td>
</tr>
<tr class="row-odd"><td><p>int16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint16</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int32</p></td>
<td><p>int32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint32</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>int64</p></td>
<td><p>int64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>uint64</p></td>
<td><p>None</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>float16</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>float32</p></td>
<td><p>float32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>string</p></td>
<td><p>Multi-dimensional string not supported</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>To save the samples in order, set dataset’s shuffle to False and num_files to 1.</p></li>
<li><p>Before calling the function, do not use batch operator, repeat operator or data augmentation operators
with random attribute in map operator.</p></li>
<li><p>Mindrecord does not support DE_UINT64, multi-dimensional DE_UINT8(drop dimension) nor
multi-dimensional DE_STRING.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to dataset file.</p></li>
<li><p><strong>num_files</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of dataset files (default=1).</p></li>
<li><p><strong>file_type</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset format (default=’mindrecord’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Randomly shuffles the rows of this dataset using the following algorithm:</p>
<ol class="arabic simple">
<li><p>Make a shuffle buffer that contains the first buffer_size rows.</p></li>
<li><p>Randomly select an element from the shuffle buffer to be the next row
propogated to the child node.</p></li>
<li><p>Get the next row (if any) from the parent node and put it in the shuffle buffer.</p></li>
<li><p>Repeat steps 2 and 3 until there are no more rows left in the shuffle buffer.</p></li>
</ol>
<p>A seed can be provided to be used on the first epoch. In every subsequent
epoch, the seed is changed to a new one, randomly generated value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The size of the buffer (must be larger than 1) for
shuffling. Setting buffer_size equal to the number of rows in the entire
dataset will result in a global shuffle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ShuffleDataset, dataset shuffled.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If exist sync operators before shuffle.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Optionally set the seed for the first epoch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a shuffled dataset using a shuffle buffer of size 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.skip" title="Permalink to this definition"></a></dt>
<dd><p>Skip the first N elements of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of elements in the dataset to be skipped.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SkipDataset, dataset skipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which skips first 3 elements from data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.split" title="Permalink to this definition"></a></dt>
<dd><p>Split the dataset into smaller, non-overlapping datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sizes</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – <p>If a list of integers [s1, s2, …, sn] is
provided, the dataset will be split into n datasets of size s1, size s2, …, size sn
respectively. If the sum of all sizes does not equal the original dataset size, an
error will occur.
If a list of floats [f1, f2, …, fn] is provided, all floats must be between 0 and 1
and must sum to 1, otherwise an error will occur. The dataset will be split into n
Datasets of size round(f1*K), round(f2*K), …, round(fn*K) where K is the size of the
original dataset.
If after rounding:</p>
<blockquote>
<div><ul>
<li><p>Any size equals 0, an error will occur.</p></li>
<li><p>The sum of split sizes &lt; K, the difference will be added to the first split.</p></li>
<li><p>The sum of split sizes &gt; K, the difference will be removed from the first large
enough split such that it will have atleast 1 row after removing the difference.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>randomize</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Determines whether or not to split the data randomly (default=True).
If True, the data will be randomly split. Otherwise, each split will be created with
consecutive rows from the dataset.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>There is an optimized split function, which will be called automatically when the dataset
that calls this function is a MappableDataset.</p></li>
<li><p>Dataset should not be sharded if split is going to be called. Instead, create a
DistributedSampler and specify a split to shard after splitting. If dataset is
sharded after a split, it is strongly recommended to set the same seed in each instance
of execution, otherwise each shard may not be part of the same split (see Examples).</p></li>
<li><p>It is strongly recommended to not shuffle the dataset, but use randomize=True instead.
Shuffling the dataset may not be deterministic, which means the data in each split
will be different in each epoch. Furthermore, if sharding occurs after split, each
shard may not be part of the same split.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If get_dataset_size returns None or is not supported for this dataset.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of integers and sum of all elements in sizes does not
    equal the dataset size.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If sizes is list of float and there is a split with size 0 after calculations.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If the dataset is sharded prior to calling split.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If sizes is list of float and not all floats are between 0 and 1, or if the
    floats don’t sum to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>tuple(Dataset), a tuple of datasets that have been split.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Since many datasets have shuffle on by default, set shuffle to False if split will be called!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the seed, and tell split to use this seed when randomizing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This is needed because sharding will be done later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># To shard the train dataset, use a DistributedSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">train_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.sync_update">
<span class="sig-name descname"><span class="pre">sync_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.sync_update" title="Permalink to this definition"></a></dt>
<dd><p>Release a blocking condition and trigger callback with given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>num_batch</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>None</em><em>]</em>) – The number of batches (rows) that are released.
When num_batch is None, it will default to the number specified by the
sync_wait operator (default=None).</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>None</em><em>]</em>) – The data passed to the callback (default=None).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.sync_wait">
<span class="sig-name descname"><span class="pre">sync_wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_batch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.sync_wait" title="Permalink to this definition"></a></dt>
<dd><p>Add a blocking condition to the input Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_batch</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of batches without blocking at the start of each epoch.</p></li>
<li><p><strong>condition_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The condition name that is used to toggle sending next row.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback funciton that will be invoked when sync_update is called.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If condition name already exists.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_wait</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">batch_data</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sync_update</span><span class="p">(</span><span class="s2">&quot;callback1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes at most given numbers of elements from the dataset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If count is greater than the number of elements in the dataset or equal to -1,
all the elements in dataset will be taken.</p></li>
<li><p>The order of using take and batch matters. If take is before batch operation,
then take given number of rows; otherwise take given number of batches.</p></li>
</ol>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to be taken from the dataset (default=-1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TakeDataset, dataset taken.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># data is an instance of Dataset object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset where the dataset includes 50 elements.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.to_device">
<span class="sig-name descname"><span class="pre">to_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">send_epoch_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.to_device" title="Permalink to this definition"></a></dt>
<dd><p>Transfer data through CPU, GPU or Ascend devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>send_epoch_end</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to send end of sequence to device or not (default=True).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If device is Ascend, features of data will be transferred one by one. The limitation
of data transmission per time is 256M.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TransferDataset, dataset for transferring.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If device_type is empty.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If device_type is not ‘Ascend’, ‘GPU’ or ‘CPU’.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If dataset is unknown.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If distribution file path is given but failed to read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.use_sampler">
<span class="sig-name descname"><span class="pre">use_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sampler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.use_sampler" title="Permalink to this definition"></a></dt>
<dd><p>Will make the current dataset use the new_sampler provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_sampler</strong> (<em>Sampler</em>) – The sampler to use for the current dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset, that uses new_sampler.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: A SequentialSampler is created by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use a DistributedSampler instead of the SequentialSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">DistributedSampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">use_sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.VOCDataset.zip">
<span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.VOCDataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets. Columns in the input datasets must not have the same name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>, </em><em>class Dataset</em><em>]</em>) – A tuple of datasets or a single class Dataset
to be zipped together with this dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZipDataset, dataset zipped.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ds1 and ds2 are instances of Dataset object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span><span class="n">ds2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.dataset.WeightedRandomSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">WeightedRandomSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/samplers.html#WeightedRandomSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.WeightedRandomSampler" title="Permalink to this definition"></a></dt>
<dd><p>Samples the elements from [0, len(weights) - 1] randomly with the given weights (probabilities).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em>) – A sequence of weights, not necessarily summing up to 1.</p></li>
<li><p><strong>num_samples</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of elements to sample (default=None, all elements).</p></li>
<li><p><strong>replacement</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If True, put the sample ID back for the next draw (default=True).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># creates a WeightedRandomSampler that will sample 4 elements without replacement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">WeightedRandomSampler</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_samples is not positive.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If replacement is not boolean.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.dataset.WeightedRandomSampler.get_num_samples">
<span class="sig-name descname"><span class="pre">get_num_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.WeightedRandomSampler.get_num_samples" title="Permalink to this definition"></a></dt>
<dd><p>All samplers can contain a numeric num_samples value (or it can be set to None).
A child sampler can exist or be None.
If a child sampler exists, then the child sampler count can be a numeric value or None.
These conditions impact the resultant sampler count that is used.
The following table shows the possible results from calling this function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>child sampler</p></th>
<th class="head"><p>num_samples</p></th>
<th class="head"><p>child_samples</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>y</p></td>
<td><p>min(x, y)</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>x</p></td>
<td><p>None</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>T</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>x</p></td>
<td><p>n/a</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>None</p></td>
<td><p>n/a</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, The number of samples, or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mindspore.dataset.zip">
<span class="sig-prename descclassname"><span class="pre">mindspore.dataset.</span></span><span class="sig-name descname"><span class="pre">zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/dataset/engine/datasets.html#zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.dataset.zip" title="Permalink to this definition"></a></dt>
<dd><p>Zip the datasets in the input tuple of datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>tuple of class Dataset</em>) – A tuple of datasets to be zipped together.
The number of datasets must be more than 1.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DatasetOp, ZipDataset.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If the number of datasets is 1.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If datasets is not a tuple.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir1</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory1&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_dir2</span> <span class="o">=</span> <span class="s2">&quot;path/to/imagefolder_directory2&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds1</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir1</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds2</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="n">dataset_dir2</span><span class="p">,</span> <span class="n">num_parallel_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a dataset which is the combination of ds1 and ds2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">zip</span><span class="p">((</span><span class="n">ds1</span><span class="p">,</span> <span class="n">ds2</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mindspore.context.html" class="btn btn-neutral float-left" title="mindspore.context" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mindspore.dataset.config.html" class="btn btn-neutral float-right" title="mindspore.dataset.config" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>