

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mindspore.dataset.config &mdash; MindSpore master documentation</title>
  

  
   
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  
  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mindspore.dataset.text" href="mindspore.dataset.text.html" />
    <link rel="prev" title="mindspore.dataset.zip" href="dataset/mindspore.dataset.zip.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MindSpore Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.compression.html">mindspore.compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.explainer.html">mindspore.explainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.profiler.html">mindspore.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.train.html">mindspore.train</a></li>
</ul>
<p class="caption"><span class="caption-text">MindSpore C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.3/api_cpp/class_list.html">Lite</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mindspore.dataset.config</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api_python/mindspore.dataset.config.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mindspore.dataset.config">
<span id="mindspore-dataset-config"></span><h1>mindspore.dataset.config<a class="headerlink" href="#module-mindspore.dataset.config" title="Permalink to this headline">¶</a></h1>
<p>The configuration module provides various functions to set and get the supported
configuration parameters, and read a configuration file.</p>
<p>Common imported modules in corresponding API examples are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
</pre></div>
</div>
<dl class="function">
<dt id="mindspore.dataset.config.set_seed">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_seed</code><span class="sig-paren">(</span><em class="sig-param">seed</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>If the seed is set, the generated random number will be fixed, this helps to
produce deterministic results.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This set_seed function sets the seed in the Python random library and numpy.random library
for deterministic Python augmentations using randomness. This set_seed function should
be called with every iterator created to reset the random seed. In the pipeline, this
does not guarantee deterministic results with num_parallel_workers &gt; 1.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Random number seed. It is used to generate deterministic random numbers.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If seed is invalid when seed &lt; 0 or seed &gt; MAX_UINT_32.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the seed value.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Operations with randomness will use the seed value to generate random values.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_seed">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_seed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Get random number seed. If the seed has been set, then will
return the set value, otherwise it will return the default seed value
which equals to std::mt19937::default_seed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, random number seed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of seed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If set_seed() is never called before, the default value(std::mt19937::default_seed) will be returned.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_seed</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_prefetch_size">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_prefetch_size</code><span class="sig-paren">(</span><em class="sig-param">size</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_prefetch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the queue capacity of the thread in pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The length of the cache queue.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If the queue capacity of the thread is invalid when size &lt;= 0 or size &gt; MAX_INT_32.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since total memory used for prefetch can grow very large with high number of workers,
when the number of workers is greater than 4, the per worker prefetch size will be reduced.
The actual prefetch size at runtime per-worker will be prefetchsize * (4 / num_parallel_workers).</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the prefetch size.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_prefetch_size</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_prefetch_size">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_prefetch_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_prefetch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the prefetch size as for number of rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, total number of rows to be prefetched.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of prefetch size.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If set_prefetch_size() is never called before, the default value(20) will be returned.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefetch_size</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_prefetch_size</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_num_parallel_workers">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_num_parallel_workers</code><span class="sig-paren">(</span><em class="sig-param">num</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_num_parallel_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a new global configuration default value for the number of parallel workers.
This setting will affect the parallelism of all dataset operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of parallel workers to be used as a default for each operation.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If num_parallel_workers is invalid when num &lt;= 0 or num &gt; MAX_INT_32.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the number of parallel workers.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now parallel dataset operators will run with 8 workers.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_num_parallel_workers</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_num_parallel_workers">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_num_parallel_workers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_num_parallel_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the global configuration of number of parallel workers.
This is the DEFAULT num_parallel_workers value used for each operation, it is not related
to AutoNumWorker feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, number of parallel workers to be used as a default for each operation.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of parallel workers.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If set_num_parallel_workers() is never called before, the default value(8) will be returned.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_parallel_workers</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_num_parallel_workers</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_numa_enable">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_numa_enable</code><span class="sig-paren">(</span><em class="sig-param">numa_enable</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_numa_enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default state of numa enabled. If numa_enable is True, need to ensure numa library is installed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>numa_enable</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether to use numa bind feature.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If numa_enable is not a boolean data type.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the state of numa enabled.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now parallel dataset operators will run with numa bind function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_numa_enable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_numa_enable">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_numa_enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_numa_enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of numa to indicate enabled/disabled.
This is the DEFAULT numa enabled value used for the all process.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, the default state of numa enabled.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of numa.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numa_state</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_numa_enable</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_monitor_sampling_interval">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_monitor_sampling_interval</code><span class="sig-paren">(</span><em class="sig-param">interval</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_monitor_sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default interval (in milliseconds) for monitor sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interval</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Interval (in milliseconds) to be used for performance monitor sampling.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If interval is invalid when interval &lt;= 0 or interval &gt; MAX_INT_32.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the monitor sampling interval.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_monitor_sampling_interval</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_monitor_sampling_interval">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_monitor_sampling_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_monitor_sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the global configuration of sampling interval of performance monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, interval (in milliseconds) for performance monitor sampling.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of monitor sampling interval.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If set_monitor_sampling_interval() is never called before, the default value(1000) will be returned.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampling_interval</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_monitor_sampling_interval</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_callback_timeout">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_callback_timeout</code><span class="sig-paren">(</span><em class="sig-param">timeout</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_callback_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default timeout (in seconds) for DSWaitedCallback.
In case of a deadlock, the wait function will exit after the timeout period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Timeout (in seconds) to be used to end the wait in DSWaitedCallback in case of a deadlock.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If timeout is invalid when timeout &lt;= 0 or timeout &gt; MAX_INT_32.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the timeout value.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_callback_timeout</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_callback_timeout">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_callback_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_callback_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default timeout for DSWaitedCallback.
In case of a deadlock, the wait function will exit after the timeout period.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, Timeout (in seconds) to be used to end the wait in DSWaitedCallback in case of a deadlock.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of callback timeout.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If set_callback_timeout() is never called before, the default value(60) will be returned.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">callback_timeout</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_callback_timeout</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_auto_num_workers">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_auto_num_workers</code><span class="sig-paren">(</span><em class="sig-param">enable</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_auto_num_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set num_parallel_workers for each op automatically(This feature is turned off by default).</p>
<p>If turned on, the num_parallel_workers in each op will be adjusted automatically, possibly overwriting the
num_parallel_workers passed in by user or the default value (if user doesn’t pass anything) set by
ds.config.set_num_parallel_workers().</p>
<p>For now, this function is only optimized for YoloV3 dataset with per_batch_map (running map in batch).
This feature aims to provide a baseline for optimized num_workers assignment for each operation.
Operation whose num_parallel_workers is adjusted to a new value will be logged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether to enable auto num_workers feature or not.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If enable is not of boolean type.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable auto_num_worker feature, this might override the num_parallel_workers passed in by user</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_auto_num_workers</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_auto_num_workers">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_auto_num_workers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_auto_num_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the setting (turned on or off) automatic number of workers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, whether auto number worker feature is turned on.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the global configuration of auto number worker feature.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_workers</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_auto_num_workers</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_enable_shared_mem">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_enable_shared_mem</code><span class="sig-paren">(</span><em class="sig-param">enable</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_enable_shared_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default state of shared memory flag. If shared_mem_enable is True, will use shared memory queues
to pass data to processes that are created for operators that set python_multiprocessing=True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether to use shared memory in operators when python_multiprocessing=True.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If enable is not a boolean data type.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable shared memory feature to improve the performance of Python multiprocessing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_enable_shared_mem</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.get_enable_shared_mem">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">get_enable_shared_mem</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.get_enable_shared_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default state of shared mem enabled variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, the state of shared mem enabled variable (default=True).</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the flag of shared memory feature.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shared_mem_flag</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_enable_shared_mem</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.set_sending_batches">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">set_sending_batches</code><span class="sig-paren">(</span><em class="sig-param">batch_num</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.set_sending_batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default sending batches when training with sink_mode=True in Ascend device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>batch_num</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the total sending batches, when batch_num is set, it will wait unless sending batches
increase, default is 0 which means will send all batches in dataset.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If batch_num is not in int type.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set a new global configuration value for the sending batches</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_sending_batches</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindspore.dataset.config.load">
<code class="sig-prename descclassname">mindspore.dataset.config.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#mindspore.dataset.config.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the project configuration from the file format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path of the configuration file to be loaded.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If file is invalid and parsing fails.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set new default configuration according to values in the configuration file.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># example config file:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># {</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     &quot;logFilePath&quot;: &quot;/tmp&quot;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     &quot;numParallelWorkers&quot;: 4,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     &quot;seed&quot;: 5489,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     &quot;monitorSamplingInterval&quot;: 30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># }</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_file</span> <span class="o">=</span> <span class="s2">&quot;/path/to/config/file&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mindspore.dataset.text.html" class="btn btn-neutral float-right" title="mindspore.dataset.text" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="dataset/mindspore.dataset.zip.html" class="btn btn-neutral float-left" title="mindspore.dataset.zip" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, MindSpore.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   
	<script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>