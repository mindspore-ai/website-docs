<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mindspore.mindrecord &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mindspore.nn" href="mindspore.nn.html" />
    <link rel="prev" title="mindspore.explainer" href="mindspore.explainer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">MindSpore Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.compression.html">mindspore.compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.config.html">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.explainer.html">mindspore.explainer</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.profiler.html">mindspore.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.train.html">mindspore.train</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MindSpore C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.3/api_cpp/class_list.html">Lite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>mindspore.mindrecord</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_python/mindspore.mindrecord.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mindspore.mindrecord">
<span id="mindspore-mindrecord"></span><h1>mindspore.mindrecord<a class="headerlink" href="#module-mindspore.mindrecord" title="Permalink to this headline"></a></h1>
<p>Introduction of MindRecord.</p>
<p>MindRecord is a module to implement reading, writing, searching and
converting for MindSpore format dataset. Users could use the FileWriter
API to generate MindRecord data and use the MindDataset API to load
MindRecord data. Users could also convert other format datasets to
mindrecord data through corresponding sub-module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar100ToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">Cifar100ToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar100_to_mr.html#Cifar100ToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar100ToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from cifar100 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the cifar100 directory to be transformed.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If source or destination is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar100ToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar100_to_mr.html#Cifar100ToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar100ToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from cifar100 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – A list of index field, e.g.[“fine_label”, “coarse_label”].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, whether cifar100 is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar100ToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar100_to_mr.html#Cifar100ToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar100ToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – A list of index field, e.g.[“fine_label”, “coarse_label”].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, whether cifar100 is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar10ToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">Cifar10ToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar10_to_mr.html#Cifar10ToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar10ToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from cifar10 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the cifar10 directory to be transformed.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If source or destination is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar10ToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar10_to_mr.html#Cifar10ToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar10ToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from cifar10 to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of index fields. Default: None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, whether cifar10 is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.Cifar10ToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/cifar10_to_mr.html#Cifar10ToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.Cifar10ToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of index fields. Default: None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, whether cifar10 is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.CsvToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">CsvToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partition_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/csv_to_mr.html#CsvToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.CsvToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from csv to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the file path of csv.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
<li><p><strong>columns_list</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of columns to be read. Default: None.</p></li>
<li><p><strong>partition_number</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – partition size, Default: 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If <cite>source</cite>, <cite>destination</cite>, <cite>partition_number</cite> is invalid.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – If <cite>columns_list</cite> is invalid.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.CsvToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/csv_to_mr.html#CsvToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.CsvToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from csv to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, whether csv is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.CsvToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/csv_to_mr.html#CsvToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.CsvToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">FileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_consumer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filereader.html#FileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader" title="Permalink to this definition"></a></dt>
<dd><p>Class to read MindRecord files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <cite>file_name</cite> is a filename string, it tries to load all MindRecord files generated         in a conversion, and throws an exceptions if a MindRecord file is missing.
If <cite>file_name</cite> is a filename list, only the MindRecord files in the list are loaded.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – One of MindRecord file or a file list.</p></li>
<li><p><strong>num_consumer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Number of reader workers which load data. Default: 4.
It should not be smaller than 1 or larger than the number of processor cores.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of fields where corresponding data would be read. Default: None.</p></li>
<li><p><strong>operator</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Reserved parameter for operators. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ParamValueError</strong> – If <cite>file_name</cite>, <cite>num_consumer</cite> or <cite>columns</cite> is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileReader.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filereader.html#FileReader.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader.close" title="Permalink to this definition"></a></dt>
<dd><p>Stop reader worker and close File.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileReader.get_next">
<span class="sig-name descname"><span class="pre">get_next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filereader.html#FileReader.get_next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileReader.get_next" title="Permalink to this definition"></a></dt>
<dd><p>Yield a batch of data according to columns at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>Dict</em> – a batch whose keys are the same as columns.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>MRMUnsupportedSchemaError</strong> – If schema is invalid.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">FileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shard_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter" title="Permalink to this definition"></a></dt>
<dd><p>Class to write user defined raw data into MindRecord files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>After the MindRecord file is generated, if the file name is changed,</dt><dd><p>the file may fail to be read.</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File name of MindRecord file.</p></li>
<li><p><strong>shard_num</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The Number of MindRecord file. Default: 1.
It should be between [1, 1000].</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ParamValueError</strong> – If <cite>file_name</cite> or <cite>shard_num</cite> is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.add_index">
<span class="sig-name descname"><span class="pre">add_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.add_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.add_index" title="Permalink to this definition"></a></dt>
<dd><p>Select index fields from schema to accelerate reading.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The index fields should be primitive type. e.g. int/float/str.
If the function is not called, the fields of the primitive type
in schema are set as indexes by default.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index_fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – fields from schema.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamTypeError</strong> – If index field is invalid.</p></li>
<li><p><strong>MRMDefineIndexError</strong> – If index field is not primitive type.</p></li>
<li><p><strong>MRMAddIndexError</strong> – If failed to add index field.</p></li>
<li><p><strong>MRMGetMetaError</strong> – If the schema is not set or failed to get meta.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.add_schema">
<span class="sig-name descname"><span class="pre">add_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.add_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.add_schema" title="Permalink to this definition"></a></dt>
<dd><p>The schema is added to describe the raw data to be written.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of schema content.</p></li>
<li><p><strong>desc</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – String of schema description, Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int, schema id.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MRMInvalidSchemaError</strong> – If schema is invalid.</p></li>
<li><p><strong>MRMBuildSchemaError</strong> – If failed to build schema.</p></li>
<li><p><strong>MRMAddSchemaError</strong> – If failed to add schema.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.commit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.commit" title="Permalink to this definition"></a></dt>
<dd><p>Flush data in memory to disk and generate the corresponding database files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord file.</p></li>
<li><p><strong>MRMSetHeaderError</strong> – If failed to set header.</p></li>
<li><p><strong>MRMIndexGeneratorError</strong> – If failed to create index generator.</p></li>
<li><p><strong>MRMGenerateIndexError</strong> – If failed to write to database.</p></li>
<li><p><strong>MRMCommitError</strong> – If failed to flush data to disk.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.open_and_set_header">
<span class="sig-name descname"><span class="pre">open_and_set_header</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.open_and_set_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.open_and_set_header" title="Permalink to this definition"></a></dt>
<dd><p>Open writer and set header. The function is only used for parallel         writing and is called before the <cite>write_raw_data</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord file.</p></li>
<li><p><strong>MRMSetHeaderError</strong> – If failed to set header.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.open_for_append">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open_for_append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.open_for_append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.open_for_append" title="Permalink to this definition"></a></dt>
<dd><p>Open MindRecord file and get ready to append data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of MindRecord file name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FileWriter, file writer object for the opened MindRecord file.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If file_name is invalid.</p></li>
<li><p><strong>FileNameError</strong> – If path contains invalid characters.</p></li>
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord file.</p></li>
<li><p><strong>MRMOpenForAppendError</strong> – If failed to open file for appending data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.set_header_size">
<span class="sig-name descname"><span class="pre">set_header_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.set_header_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.set_header_size" title="Permalink to this definition"></a></dt>
<dd><p>Set the size of header which contains shard information, schema information,         page meta information, etc. The larger a header, the more data         the MindRecord file can store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>header_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Size of header, between 16*1024(16KB) and
128*1024*1024(128MB).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>MRMInvalidHeaderSizeError</strong> – If failed to set header size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.set_page_size">
<span class="sig-name descname"><span class="pre">set_page_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.set_page_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.set_page_size" title="Permalink to this definition"></a></dt>
<dd><p>Set the size of page that represents the area where data is stored,         and the areas are divided into two types: raw page and blob page.         The larger a page, the more data the page can store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>page_size</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Size of page, between 32*1024(32KB) and
256*1024*1024(256MB).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>MRMInvalidPageSizeError</strong> – If failed to set page size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.FileWriter.write_raw_data">
<span class="sig-name descname"><span class="pre">write_raw_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel_writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/filewriter.html#FileWriter.write_raw_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.FileWriter.write_raw_data" title="Permalink to this definition"></a></dt>
<dd><p>Convert raw data into a seried of consecutive MindRecord         files after the raw data is verified against the schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>]</em>) – List of raw data.</p></li>
<li><p><strong>parallel_writer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Write raw data in parallel if it equals to True. Default: False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamTypeError</strong> – If index field is invalid.</p></li>
<li><p><strong>MRMOpenError</strong> – If failed to open MindRecord file.</p></li>
<li><p><strong>MRMValidateDataError</strong> – If data does not match blob fields.</p></li>
<li><p><strong>MRMSetHeaderError</strong> – If failed to set header.</p></li>
<li><p><strong>MRMWriteDatasetError</strong> – If failed to write dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.ImageNetToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">ImageNetToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partition_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/imagenet_to_mr.html#ImageNetToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.ImageNetToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from imagenet to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>the map file that indicates label. The map file content should be like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n02119789</span> <span class="mi">0</span>
<span class="n">n02100735</span> <span class="mi">1</span>
<span class="n">n02110185</span> <span class="mi">2</span>
<span class="n">n02096294</span> <span class="mi">3</span>
</pre></div>
</div>
</p></li>
<li><p><strong>image_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – image directory contains n02119789, n02100735, n02110185 and n02096294 directory.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
<li><p><strong>partition_number</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – partition size. Default: 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If <cite>map_file</cite>, <cite>image_dir</cite> or <cite>destination</cite> is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.ImageNetToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/imagenet_to_mr.html#ImageNetToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.ImageNetToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from imagenet to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, whether imagenet is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.ImageNetToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/imagenet_to_mr.html#ImageNetToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.ImageNetToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">MindPage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_consumer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage" title="Permalink to this definition"></a></dt>
<dd><p>Class to read MindRecord files in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – One of MindRecord files or a file list.</p></li>
<li><p><strong>num_consumer</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of reader workers which load data. Default: 4.
It should not be smaller than 1 or larger than the number of processor cores.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If <cite>file_name</cite>, <cite>num_consumer</cite> or columns is invalid.</p></li>
<li><p><strong>MRMInitSegmentError</strong> – If failed to initialize ShardSegment.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.candidate_fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">candidate_fields</span></span><a class="headerlink" href="#mindspore.mindrecord.MindPage.candidate_fields" title="Permalink to this definition"></a></dt>
<dd><p>Return candidate category fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], by which data could be grouped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.category_field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">category_field</span></span><a class="headerlink" href="#mindspore.mindrecord.MindPage.category_field" title="Permalink to this definition"></a></dt>
<dd><p>Getter function for category fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], by which data could be grouped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.get_category_fields">
<span class="sig-name descname"><span class="pre">get_category_fields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage.get_category_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.get_category_fields" title="Permalink to this definition"></a></dt>
<dd><p>Return candidate category fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], by which data could be grouped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.read_at_page_by_id">
<span class="sig-name descname"><span class="pre">read_at_page_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_row</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_at_page_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_at_page_by_id" title="Permalink to this definition"></a></dt>
<dd><p>Query by category id in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category_id</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Category id, referred to the return of <cite>read_category_info</cite>.</p></li>
<li><p><strong>page</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Index of page.</p></li>
<li><p><strong>num_row</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of rows in a page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list[dict], data queried by category id.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ParamValueError</strong> – If any parameter is invalid.</p></li>
<li><p><strong>MRMFetchDataError</strong> – If failed to fetch data by category.</p></li>
<li><p><strong>MRMUnsupportedSchemaError</strong> – If schema is invalid.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.read_at_page_by_name">
<span class="sig-name descname"><span class="pre">read_at_page_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_row</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_at_page_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_at_page_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Query by category name in pagination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category_name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of category field’s value,
referred to the return of <cite>read_category_info</cite>.</p></li>
<li><p><strong>page</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Index of page.</p></li>
<li><p><strong>num_row</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of row in a page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list[dict], data queried by category name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.read_category_info">
<span class="sig-name descname"><span class="pre">read_category_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage.read_category_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.read_category_info" title="Permalink to this definition"></a></dt>
<dd><p>Return category information when data is grouped by indicated category field.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, description of group information.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>MRMReadCategoryInfoError</strong> – If failed to read category information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MindPage.set_category_field">
<span class="sig-name descname"><span class="pre">set_category_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category_field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/mindpage.html#MindPage.set_category_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MindPage.set_category_field" title="Permalink to this definition"></a></dt>
<dd><p>Set category field for reading.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Should be a candidate category field.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>category_field</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String of category field name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSRStatus, SUCCESS or FAILED.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.MnistToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">MnistToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partition_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/mnist_to_mr.html#MnistToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MnistToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from Mnist to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – directory that contains t10k-images-idx3-ubyte.gz,
train-images-idx3-ubyte.gz, t10k-labels-idx1-ubyte.gz
and train-labels-idx1-ubyte.gz.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file directory to transform into.</p></li>
<li><p><strong>partition_number</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – partition size. Default: 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If <cite>source</cite>, <cite>destination</cite>, <cite>partition_number</cite> is invalid.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MnistToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/mnist_to_mr.html#MnistToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MnistToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from Mnist to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, whether successfully written into MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.MnistToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/mnist_to_mr.html#MnistToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.MnistToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindspore.mindrecord.TFRecordToMR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore.mindrecord.</span></span><span class="sig-name descname"><span class="pre">TFRecordToMR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/tfrecord_to_mr.html#TFRecordToMR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.TFRecordToMR" title="Permalink to this definition"></a></dt>
<dd><p>A class to transform from TFRecord to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the TFRecord file to be transformed.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the MindRecord file path to transform into.</p></li>
<li><p><strong>feature_dict</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – a dictionary that states the feature type, and</p></li>
<li><p><strong>supported.</strong> (<em>VarLenFeature is not</em>) – </p></li>
<li><p><strong>bytes_fields</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>optional</em>) – the bytes fields which are in <cite>feature_dict</cite> and can be images bytes.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – If parameter is invalid.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#Exception" title="(in Python v3.8)"><strong>Exception</strong></a> – when tensorflow module is not found or version is not correct.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.TFRecordToMR.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/tfrecord_to_mr.html#TFRecordToMR.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.TFRecordToMR.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute transformation from TFRecord to MindRecord.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSRStatus, whether TFRecord is successfully transformed to MindRecord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.TFRecordToMR.tfrecord_iterator">
<span class="sig-name descname"><span class="pre">tfrecord_iterator</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/tfrecord_to_mr.html#TFRecordToMR.tfrecord_iterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.TFRecordToMR.tfrecord_iterator" title="Permalink to this definition"></a></dt>
<dd><p>Yield a dictionary whose keys are fields in schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p>dict, data dictionary whose keys are the same as columns.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.TFRecordToMR.tfrecord_iterator_oldversion">
<span class="sig-name descname"><span class="pre">tfrecord_iterator_oldversion</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/tfrecord_to_mr.html#TFRecordToMR.tfrecord_iterator_oldversion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.TFRecordToMR.tfrecord_iterator_oldversion" title="Permalink to this definition"></a></dt>
<dd><p>Yield a dict with key to be fields in schema, and value to be data.
This function is for old version tensorflow whose version number &lt; 2.1.0</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p>dict, data dictionary whose keys are the same as columns.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore.mindrecord.TFRecordToMR.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore/mindrecord/tools/tfrecord_to_mr.html#TFRecordToMR.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore.mindrecord.TFRecordToMR.transform" title="Permalink to this definition"></a></dt>
<dd><p>Encapsulate the run function to exit normally</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mindspore.explainer.html" class="btn btn-neutral float-left" title="mindspore.explainer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mindspore.nn.html" class="btn btn-neutral float-right" title="mindspore.nn" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>