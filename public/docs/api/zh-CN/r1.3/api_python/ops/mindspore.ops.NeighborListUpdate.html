

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mindspore.ops.NeighborListUpdate &mdash; MindSpore master documentation</title>
  

  
   
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="mindspore.ops.PMEEnergy" href="mindspore.ops.PMEEnergy.html" />
    <link rel="prev" title="mindspore.ops.MDIterationLeapFrogLiujian" href="mindspore.ops.MDIterationLeapFrogLiujian.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MindSpore Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.compression.html">mindspore.compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.context.html">mindspore.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.config.html">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.explainer.html">mindspore.explainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.profiler.html">mindspore.profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.train.html">mindspore.train</a></li>
</ul>
<p class="caption"><span class="caption-text">MindSpore C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/class_list.html">Lite</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../mindspore.ops.html">mindspore.ops</a> &raquo;</li>
        
      <li>mindspore.ops.NeighborListUpdate</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/api_python/ops/mindspore.ops.NeighborListUpdate.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mindspore-ops-neighborlistupdate">
<h1>mindspore.ops.NeighborListUpdate<a class="headerlink" href="#mindspore-ops-neighborlistupdate" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="mindspore.ops.NeighborListUpdate">
<em class="property">class </em><code class="sig-prename descclassname">mindspore.ops.</code><code class="sig-name descname">NeighborListUpdate</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mindspore/ops/operations/sponge_ops.html#NeighborListUpdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mindspore.ops.NeighborListUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update (or construct if first time) the Verlet neighbor list for the
calculation of short-ranged force. Assume the number of atoms is N,
the number of grids divided is G, the maximum number of atoms in one
grid is m, the maximum number of atoms in single atom’s neighbor list
is L, and the number of total atom in excluded list is E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_numbers</strong> (<em>int32</em>) – the total number of grids divided.</p></li>
<li><p><strong>not_first_time</strong> (<em>int32</em>) – whether to construct the neighbor
list first time or not.</p></li>
<li><p><strong>nxy</strong> (<em>int32</em>) – the total number of grids divided in xy plane.</p></li>
<li><p><strong>excluded_atom_numbers</strong> (<em>int32</em>) – the total atom numbers in the excluded list.</p></li>
<li><p><strong>cutoff</strong> (<em>float32</em>) – the cutoff distance for short-range force calculation.</p></li>
<li><p><strong>skin</strong> (<em>float32</em>) – the overflow value of cutoff to maintain a neighbor list.</p></li>
<li><p><strong>cutoff_square</strong> (<em>float32</em>) – the suqare value of cutoff.</p></li>
<li><p><strong>half_skin_square</strong> (<em>float32</em>) – skin*skin/4, indicates the maximum
square value of the distance atom allowed to move between two updates.</p></li>
<li><p><strong>cutoff_with_skin</strong> (<em>float32</em>) – cutoff + skin, indicates the
radius of the neighbor list for each atom.</p></li>
<li><p><strong>half_cutoff_with_skin</strong> (<em>float32</em>) – cutoff_with_skin/2.</p></li>
<li><p><strong>cutoff_with_skin_square</strong> (<em>float32</em>) – the square value of cutoff_with_skin.</p></li>
<li><p><strong>refresh_interval</strong> (<em>int32</em>) – the number of iteration steps between two updates of neighbor list.</p></li>
<li><p><strong>max_atom_in_grid_numbers</strong> (<em>int32</em>) – the maximum number of atoms in one grid k.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Inputs:</dt><dd><ul class="simple">
<li><p><strong>atom_numbers_in_grid_bucket</strong> (Tensor) - The number of atoms in each grid bucket.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((G,)\)</span>.</p></li>
<li><p><strong>bucket</strong> (Tensor) - (Tensor) - The atom indices in each grid bucket.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((G, k)\)</span>.</p></li>
<li><p><strong>crd</strong> (Tensor) - The coordinates of each atom.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((n, 3)\)</span>.</p></li>
<li><p><strong>box_length</strong> (Tensor) - The box length of the simulation box.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((3,)\)</span>.</p></li>
<li><p><strong>grid_N</strong> (Tensor) - The number of grids divided of 3 dimensions of the simulation box.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((3,)\)</span>.</p></li>
<li><p><strong>grid_length_inverse</strong> (Tensor) - The inverse value of grid length.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((3,)\)</span>.</p></li>
<li><p><strong>atom_in_grid_serial</strong> (Tensor) - The grid index for each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((n,)\)</span>.</p></li>
<li><p><strong>old_crd</strong> (Tensor) - The coordinates before update of each atom.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((n, 3)\)</span>.</p></li>
<li><p><strong>crd_to_uint_crd_cof</strong> (Tensor) - The scale factor between the unsigned int coordinate and the real one.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((3,)\)</span>.</p></li>
<li><p><strong>uint_crd</strong> (Tensor) - The unsigned int coordinates value fo each atom.
The data type is unsigned int32 and the shape is <span class="math notranslate nohighlight">\((n, 3)\)</span>.</p></li>
<li><p><strong>gpointer</strong> (Tensor) - The nearest neighbor grids (including self) of each grid.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((G, 125)\)</span>.</p></li>
<li><p><strong>nl_atom_numbers</strong> (Tensor) - The number of atoms in neighbor list of each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((n,)\)</span>.</p></li>
<li><p><strong>nl_atom_serial</strong> (Tensor) - The indices of atoms in neighbor list of each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((n, m)\)</span>.</p></li>
<li><p><strong>uint_dr_to_dr_cof</strong> (Tensor) - The scale factor.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((3,)\)</span>.</p></li>
<li><p><strong>excluded_list_start</strong> (Tensor) - The start excluded index in excluded list for each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((n,)\)</span>.</p></li>
<li><p><strong>excluded_list</strong> (Tensor) - The contiguous join of excluded list of each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((E,)\)</span>.</p></li>
<li><p><strong>excluded_numbers</strong> (Tensor) - The number of atom excluded in excluded list for each atom.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((n,)\)</span>.</p></li>
<li><p><strong>need_refresh_flag</strong> (Tensor) - Whether the neighbor list of each atom need update or not.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((1,)\)</span>.</p></li>
<li><p><strong>refresh_count</strong> (Tensor) - Count how many iteration steps have passed since last update.
The data type is int32 and the shape is <span class="math notranslate nohighlight">\((1,)\)</span> or <span class="math notranslate nohighlight">\(()\)</span>.</p></li>
</ul>
</dd>
<dt>Outputs:</dt><dd><ul class="simple">
<li><p><strong>res</strong> (Tensor) - The return value after updating successfully.
The data type is float32 and the shape is <span class="math notranslate nohighlight">\((1,)\)</span>.</p></li>
</ul>
</dd>
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mindspore.ops.PMEEnergy.html" class="btn btn-neutral float-right" title="mindspore.ops.PMEEnergy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="mindspore.ops.MDIterationLeapFrogLiujian.html" class="btn btn-neutral float-left" title="mindspore.ops.MDIterationLeapFrogLiujian" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, MindSpore.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   
	<script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>