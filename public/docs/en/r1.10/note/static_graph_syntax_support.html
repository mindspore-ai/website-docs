<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Static Graph Syntax Support &mdash; MindSpore master documentation</title>
      <link rel="stylesheet" href="../_static/css/bootstrap.min.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/training.css" type="text/css" /><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/training.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tensor Index Support" href="index_support.html" />
    <link rel="prev" title="Syntax Support" href="syntax_list.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../design/auto_gradient.html">Functional Differential Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/distributed_training_design.html">Distributed Training Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/mindir.html">MindSpore IR (MindIR)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/thor.html">Second Order Optimizer</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/mindinsight/docs/en/r1.10/training_visual_design.html">Design of Visualization↗</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Specification</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitee.com/mindspore/models/blob/r1.10/README.md#table-of-contents">Network List↗</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator_list.html">API List</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="syntax_list.html">Syntax Support</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Static Graph Syntax Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-types">Data Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#built-in-python-data-types">Built-in Python Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mindspore-user-defined-data-types">MindSpore User-defined Data Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#primaries">Primaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attribute-references">Attribute References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-value">Index Value</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calls">Calls</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#operators">Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#unary-arithmetic-operators">Unary Arithmetic Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binary-arithmetic-operators">Binary Arithmetic Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#assignment-operators">Assignment Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-operators">Logical Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compare-operators">Compare Operators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compound-statements">Compound Statements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conditional-control-statements">Conditional Control Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loop-statements">Loop Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-definition-statements">Function Definition Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-comprehension-and-generator-expression">List Comprehension and Generator Expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-statement">With Statement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#python-built-in-functions">Python Built-in Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-parameters">Function Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-definition">Network Definition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#network-input-parameters">Network Input parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#instance-types-on-the-entire-network">Instance Types on the Entire Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-construction-components">Network Construction Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-constraints">Network Constraints</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index_support.html">Tensor Index Support</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.amp.html">mindspore.amp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.audio.html">mindspore.dataset.audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.config.html">mindspore.dataset.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.text.html">mindspore.dataset.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.dataset.vision.html">mindspore.dataset.vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.nn.transformer.html">mindspore.nn.transformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.ops.function.html">mindspore.ops.function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.rewrite.html">mindspore.rewrite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.scipy.html">mindspore.scipy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_python/mindspore.boost.html">mindspore.boost</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.10/api_cpp/mindspore.html">C++ API↗</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Mapping</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_mapping/pytorch_api_mapping.html">PyTorch and MindSpore API Mapping Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_mapping/tensorflow_api_mapping.html">TensorFlow and MindSpore API Mapping Table</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Migration Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/enveriment_preparation.html">Environment Preparation and Information Acquisition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/analysis_and_preparation.html">Model Analysis and Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/model_development/model_development.html">Constructing MindSpore Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/debug_and_tune.html">Debugging and Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/sample_code.html">Network Migration Debugging Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/faq.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/typical_api_comparision.html">Differences Between MindSpore and PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/use_third_party_op.html">Using Third-party Operator Libraries Based on Customized Interfaces</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/data_processing.html">Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/implement_problem.html">Implement Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/network_compilation.html">Network Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/operators_compile.html">Operators Compile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/usage_migrate_3rd.html">Migration from a Third-party Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/performance_tuning.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/precision_tuning.html">Precision Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/distributed_configure.html">Distributed Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/feature_advice.html">Feature Advice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="syntax_list.html">Syntax Support</a> &raquo;</li>
      <li>Static Graph Syntax Support</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/note/static_graph_syntax_support.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="static-graph-syntax-support">
<h1>Static Graph Syntax Support<a class="headerlink" href="#static-graph-syntax-support" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.10/docs/mindspore/source_en/note/static_graph_syntax_support.md"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.10/resource/_static/logo_source_en.png" /></a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>In graph mode, Python code is not executed by the Python interpreter. Instead, the code is compiled into a static computation graph, and then the static computation graph is executed.</p>
<p>Currently, the function, and class (including Cell, Cell subclass, ms_class class, and common user defined class) methods modified by the <code class="docutils literal notranslate"><span class="pre">&#64;ms_function</span></code> decorator can be built.
For a function, build the function definition. For the network, build the <code class="docutils literal notranslate"><span class="pre">construct</span></code> method and other methods or functions called by the <code class="docutils literal notranslate"><span class="pre">construct</span></code> method.</p>
<p>For details about how to use <code class="docutils literal notranslate"><span class="pre">ms_function</span></code>, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore/mindspore.ms_function.html#mindspore.ms_function">ms_function API document</a>.</p>
<p>For details about the definition of <code class="docutils literal notranslate"><span class="pre">Cell</span></code>, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/nn/mindspore.nn.Cell.html">Cell API document</a>.</p>
<p>Due to syntax parsing restrictions, the supported data types, syntax, and related operations during graph building are not completely consistent with the Python syntax. As a result, some usage is restricted.</p>
<p>The following describes the data types, syntax, and related operations supported during static graph building. These rules apply only to graph mode.</p>
</section>
<section id="data-types">
<h2>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline"></a></h2>
<section id="built-in-python-data-types">
<h3>Built-in Python Data Types<a class="headerlink" href="#built-in-python-data-types" title="Permalink to this headline"></a></h3>
<p>Currently, the following built-in <code class="docutils literal notranslate"><span class="pre">Python</span></code> data types are supported: <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, and <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>.</p>
<section id="number">
<h4>Number<a class="headerlink" href="#number" title="Permalink to this headline"></a></h4>
<p>Supports <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">bool</span></code>, but does not support complex numbers.</p>
<p><code class="docutils literal notranslate"><span class="pre">Number</span></code> can be defined on the network. That is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">1.2</span></code>, and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">True</span></code> are supported.</p>
<p>When the data is constant, the value of the data can be achieved at compile time, the forcible conversion to <code class="docutils literal notranslate"><span class="pre">Number</span></code> is supported in the network. That is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">int(x)</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">float(x)</span></code>, and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">bool(x)</span></code> are supported.</p>
</section>
<section id="string">
<h4>String<a class="headerlink" href="#string" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">String</span></code> can be constructed on the network. That is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">&quot;abcd&quot;</span></code> is supported.</p>
<p>Use str() to change the constant value to string, str.format() can use to format the string, but not supported to input a kwargs type arguments and the argument of format function cannot be a variable.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_str_format</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is zero&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_str_format</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0 is zero
</pre></div>
</div>
</section>
<section id="list">
<h4>List<a class="headerlink" href="#list" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">List</span></code> can be constructed on the network, that is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code> is supported.</p>
<p><code class="docutils literal notranslate"><span class="pre">List</span></code> to be output in the computation graph will be converted into <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>.</p>
<p>When using List index to get the element，the reference type between MindSpore and Python interpreter may be different. Due to MindSpore using ListGetItem to implement getting value of the list, and the operator ListGetItem will return a copy of the variable, that make the reference type may not same with Python interpreter.</p>
<p>For example:</p>
<p>Python：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;a = [[1,2,3],4,5]</span>
<span class="go">&gt;&gt;&gt;b = a[0]</span>
<span class="go">&gt;&gt;&gt;b[0] = 123123</span>
<span class="go">&gt;&gt;&gt;a</span>
<span class="go">[123123, 2, 3], 4, 5]</span>
</pre></div>
</div>
<p>MindSpore:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">test_list</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">123123</span>
    <span class="k">return</span> <span class="n">a</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">test_list</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: ((1, 2, 3), 4, 5)
</pre></div>
</div>
<ul>
<li><p>Supported APIs</p>
<p><code class="docutils literal notranslate"><span class="pre">append</span></code>: adds an element to <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_list</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: (1, 2, 3, 4)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">insert</span></code>: inserts the specified element at the specified position in the <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_insert</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_list_insert</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: (2, 1, 3, 4)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pop</span></code>: removes the element at the specified position in <code class="docutils literal notranslate"><span class="pre">list</span></code>, removing the last one by default.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_pop</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">test_list_pop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: (1, 3)
y: 4
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">clear</span></code>: clears the elements in <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_clear</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">x</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_list_clear</span><span class="p">()</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: ()
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">extend</span></code>: appends multiple elements of another sequence to the end of <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_extend</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
    <span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_list_extend</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: (1, 2, 3, 4, 5, 6, 7)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">reverse</span></code>: reverses the elements of <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_reverse</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">x</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">test_list_reverse</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x: (4, 3, 2, 1)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">count</span></code>: counts the number of occurrences of an element in <code class="docutils literal notranslate"><span class="pre">list</span></code>. The current count method only supports constant scenarios.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_count</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">num</span>

<span class="n">num</span> <span class="o">=</span> <span class="n">test_list_count</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;num:&#39;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>num: 1
</pre></div>
</div>
<p>If there is a Tensor variable in the usage scenario of count, a related exception will be thrown.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">Tensor</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_list_count</span><span class="p">(</span><span class="n">input_x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">input_x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">num</span>

<span class="n">input_x</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">num</span> <span class="o">=</span> <span class="n">test_list_count</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;num:&#39;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>The list count not support variable scene now. The count data is Tensor type.
</pre></div>
</div>
</li>
<li><p>Supported index values and value assignment</p>
<p>Single-level and multi-level index values and value assignment are supported.</p>
<p>The index value supports only <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">slice</span></code>.</p>
<p>The element of <code class="docutils literal notranslate"><span class="pre">slice</span></code> data should be constant that can be deduced in the state of compiling graph.</p>
<p>The assigned value can be <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p>
<p>When the value of the current slice is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> needs to be converted to a <code class="docutils literal notranslate"><span class="pre">List</span></code>, which is currently implemented through JIT Fallback. Therefore, variable scenarios cannot be supported temporarily.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_index</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ok&quot;</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">88</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">m</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">n</span>

<span class="n">m</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">test_index</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>m:2
z:[2, 4]
x:[[1, 88], Tensor(shape=[3], dtype=Int64, value= [1, 2, 3]), &#39;ok&#39;, (1, 2, 3)]
n:[1 2 3]
</pre></div>
</div>
</li>
</ul>
</section>
<section id="tuple">
<h4>Tuple<a class="headerlink" href="#tuple" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Tuple</span></code> can be constructed on the network, that is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code> is supported.</p>
<p>The reference type of tuple is same as List, please  refer to List.</p>
<ul>
<li><p>Supported index values</p>
<p>The index value can be <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">slice</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, and multi-level index value. That is, the syntax <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">=</span> <span class="pre">tuple_x[index0][index1]...</span></code> is supported.</p>
<p>Restrictions on the index value <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Tuple</span></code> stores <code class="docutils literal notranslate"><span class="pre">Cell</span></code>. Each <code class="docutils literal notranslate"><span class="pre">Cell</span></code> must be defined before a tuple is defined. The number of input parameters, input parameter type, and input parameter <code class="docutils literal notranslate"><span class="pre">shape</span></code> of each <code class="docutils literal notranslate"><span class="pre">Cell</span></code> must be the same. The number of outputs of each <code class="docutils literal notranslate"><span class="pre">Cell</span></code> must be the same. The output type must be the same as the output shape.</p></li>
<li><p>The index <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> is a scalar <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> whose <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is <code class="docutils literal notranslate"><span class="pre">int32</span></code>. The value range is <code class="docutils literal notranslate"><span class="pre">[-tuple_len,</span> <span class="pre">tuple_len)</span></code>, negative index is not supported in <code class="docutils literal notranslate"><span class="pre">Ascend</span></code> backend.</p></li>
<li><p>This syntax does not support the running branches whose control flow conditions <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, and <code class="docutils literal notranslate"><span class="pre">for</span></code> are variables. The control flow conditions can be constants only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GPU</span></code> and <code class="docutils literal notranslate"><span class="pre">Ascend</span></code> backend is supported.</p></li>
</ul>
<p>An example of the <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">slice</span></code> indexes is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_index</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span>

<span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">test_index</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>y:3
z:[1 2 3]
m:((2, 3, 4), 3, 4)
n:(2, 3, 4)
</pre></div>
</div>
<p>An example of the <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> index is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">set_context</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Net</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relu</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">softmax</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Softmax</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layers</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relu</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">softmax</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="n">index</span><span class="p">](</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">1.0</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">()</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">net</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:[0.]
</pre></div>
</div>
</li>
</ul>
</section>
<section id="dictionary">
<h4>Dictionary<a class="headerlink" href="#dictionary" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Dictionary</span></code> can be constructed on the network. That is, the syntax <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">{&quot;a&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">2}</span></code> is supported. Currently, only <code class="docutils literal notranslate"><span class="pre">String</span></code> can be used as the <code class="docutils literal notranslate"><span class="pre">key</span></code> value.</p>
<ul>
<li><p>Supported APIs</p>
<p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: extracts all <code class="docutils literal notranslate"><span class="pre">key</span></code> values from <code class="docutils literal notranslate"><span class="pre">dict</span></code> to form <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> and return it.</p>
<p><code class="docutils literal notranslate"><span class="pre">values</span></code>: extracts all <code class="docutils literal notranslate"><span class="pre">value</span></code> values from <code class="docutils literal notranslate"><span class="pre">dict</span></code> to form <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> and return it.</p>
<p><code class="docutils literal notranslate"><span class="pre">items</span></code>: extracts <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> composed of each pair of <code class="docutils literal notranslate"><span class="pre">value</span></code> values and <code class="docutils literal notranslate"><span class="pre">key</span></code> values in <code class="docutils literal notranslate"><span class="pre">dict</span></code> to form <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> and return it.</p>
<p><code class="docutils literal notranslate"><span class="pre">get</span></code>: <code class="docutils literal notranslate"><span class="pre">dict.get(key[,</span> <span class="pre">value])</span></code> returns the <code class="docutils literal notranslate"><span class="pre">value</span></code> value corresponding to the specified <code class="docutils literal notranslate"><span class="pre">key</span></code>, if the specified <code class="docutils literal notranslate"><span class="pre">key</span></code> does not exist, the default value <code class="docutils literal notranslate"><span class="pre">None</span></code> or the set default value <code class="docutils literal notranslate"><span class="pre">value</span></code> is returned .</p>
<p><code class="docutils literal notranslate"><span class="pre">clear</span></code>: removes all elements in <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">has_key</span></code>: <code class="docutils literal notranslate"><span class="pre">dict.has_key(key)</span></code> determines whether the specified <code class="docutils literal notranslate"><span class="pre">key</span></code> exists in <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">update</span></code>: <code class="docutils literal notranslate"><span class="pre">dict1.update(dict2)</span></code> updates the elements in <code class="docutils literal notranslate"><span class="pre">dict2</span></code> to <code class="docutils literal notranslate"><span class="pre">dict1</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">fromkeys</span></code>: <code class="docutils literal notranslate"><span class="pre">dict.fromkeys(seq([,</span> <span class="pre">value]))</span></code> is used to create a new <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, using the elements in the sequence <code class="docutils literal notranslate"><span class="pre">seq</span></code> as the <code class="docutils literal notranslate"><span class="pre">key</span></code> of the <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, and the <code class="docutils literal notranslate"><span class="pre">value</span></code> is initial value corresponding to all <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])),</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))}</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_dict</span><span class="p">():</span>
    <span class="n">x_keys</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="n">x_values</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="n">x_items</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="n">value_a</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
    <span class="n">check_key</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))}</span>
    <span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">new_dict</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="s2">&quot;abcd&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x_keys</span><span class="p">,</span> <span class="n">x_values</span><span class="p">,</span> <span class="n">x_items</span><span class="p">,</span> <span class="n">value_a</span><span class="p">,</span> <span class="n">check_key</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">new_dict</span>

<span class="n">x_keys</span><span class="p">,</span> <span class="n">x_values</span><span class="p">,</span> <span class="n">x_items</span><span class="p">,</span> <span class="n">value_a</span><span class="p">,</span> <span class="n">check_key</span><span class="p">,</span> <span class="n">new_x</span><span class="p">,</span> <span class="n">new_dict</span> <span class="o">=</span> <span class="n">test_dict</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x_keys:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_keys</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x_values:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_values</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x_items:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_items</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;value_a:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value_a</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;check_key:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">check_key</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;new_x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;new_dict:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_dict</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x_keys:(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
x_values:(Tensor(shape=[3], dtype=Int64, value= [1, 2, 3]), Tensor(shape=[3], dtype=Int64, value= [4, 5, 6]), Tensor(shape=[3], dtype=Int64, value= [7, 8, 9]))
x_items:((&#39;a&#39;, Tensor(shape=[3], dtype=Int64, value= [1, 2, 3])), (&#39;b&#39;, Tensor(shape=[3], dtype=Int64, value= [4, 5, 6])), (&#39;c&#39;, Tensor(shape=[3], dtype=Int64, value= [7, 8, 9])))
value_a:[1 2 3]
check_key: True
new_x: {&#39;a&#39;: ms.Tensor(np.array([0, 0, 0])), &#39;b&#39;: ms.Tensor(np.array([4, 5, 6])), &#39;c&#39;: ms.Tensor(np.array([7, 8, 9]))}
new_dict: {&#39;a&#39;: 123, &#39;b&#39;: 123, &#39;c&#39;: 123, &#39;d&#39;: 123}
</pre></div>
</div>
</li>
<li><p>Supported index values and value assignment</p>
<p>The index value supports only <code class="docutils literal notranslate"><span class="pre">String</span></code>. The assigned value can be <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> or <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>。</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])),</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))}</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_dict</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
    <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">test_dict</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x:{&#39;a&#39;: (2, 3, 4), &#39;b&#39;: Tensor(shape=[3], dtype=Int64, value= [4, 5, 6]), &#39;c&#39;: Tensor(shape=[3], dtype=Int64, value= [7, 8, 9])}
y:[4 5 6]
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="mindspore-user-defined-data-types">
<h3>MindSpore User-defined Data Types<a class="headerlink" href="#mindspore-user-defined-data-types" title="Permalink to this headline"></a></h3>
<p>Currently, MindSpore supports the following user-defined data types: <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Primitive</span></code>, and <code class="docutils literal notranslate"><span class="pre">Cell</span></code>.</p>
<section id="tensor">
<h4>Tensor<a class="headerlink" href="#tensor" title="Permalink to this headline"></a></h4>
<p>Currently, tensors can be constructed in the network.</p>
<p>For details of <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, click <a class="reference external" href="https://mindspore.cn/docs/en/r1.10/api_python/mindspore/mindspore.Tensor.html#mindspore-tensor">Tensor API document</a>.</p>
</section>
<section id="primitive">
<h4>Primitive<a class="headerlink" href="#primitive" title="Permalink to this headline"></a></h4>
<p>Currently, <code class="docutils literal notranslate"><span class="pre">Primitive</span></code> and its subclass instances can be constructed on the network. That is, the <code class="docutils literal notranslate"><span class="pre">reduce_sum</span> <span class="pre">=</span> <span class="pre">ReduceSum(True)</span></code> syntax is supported.</p>
<p>However, during construction, the parameter can be specified only in position parameter mode, and cannot be specified in the key-value pair mode. That is, the syntax <code class="docutils literal notranslate"><span class="pre">reduce_sum</span> <span class="pre">=</span> <span class="pre">ReduceSum(keep_dims=True)</span></code> is not supported.</p>
<p>Currently, the attributes and APIs related to <code class="docutils literal notranslate"><span class="pre">Primitive</span></code> and its subclasses cannot be called on the network.</p>
<p>For details about the defined <code class="docutils literal notranslate"><span class="pre">Primitive</span></code>, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/ops/mindspore.ops.Primitive.html#mindspore.ops.Primitive">Primitive API document</a>.</p>
</section>
<section id="cell">
<h4>Cell<a class="headerlink" href="#cell" title="Permalink to this headline"></a></h4>
<p>Currently, <code class="docutils literal notranslate"><span class="pre">Cell</span></code> and its subclass instances can be constructed on the network. That is, the syntax <code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">Cell(args...)</span></code> is supported.</p>
<p>However, during construction, the parameter can be specified only in position parameter mode, and cannot be specified in the key-value pair mode. That is, the syntax <code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">Cell(arg_name=value)</span></code> is not supported.</p>
<p>Currently, the attributes and APIs related to <code class="docutils literal notranslate"><span class="pre">Cell</span></code> and its subclasses cannot be called on the network unless they are called through <code class="docutils literal notranslate"><span class="pre">self</span></code> in <code class="docutils literal notranslate"><span class="pre">construct</span></code> of <code class="docutils literal notranslate"><span class="pre">Cell</span></code>.</p>
<p>For details about the definition of <code class="docutils literal notranslate"><span class="pre">Cell</span></code>, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/nn/mindspore.nn.Cell.html">Cell API document</a>.</p>
</section>
<section id="parameter">
<h4>Parameter<a class="headerlink" href="#parameter" title="Permalink to this headline"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Parameter</span></code> is a variable tensor, indicating the parameters that need to be updated during network training.</p>
<p>For details about the definition of <code class="docutils literal notranslate"><span class="pre">Parameter</span></code>, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore/mindspore.Parameter.html#mindspore.Parameter">Parameter API document</a>.</p>
</section>
</section>
</section>
<section id="primaries">
<h2>Primaries<a class="headerlink" href="#primaries" title="Permalink to this headline"></a></h2>
<p>Primaries represent the most tightly bound operations of the language Which contains <code class="docutils literal notranslate"><span class="pre">Attribute</span> <span class="pre">references</span></code>, <code class="docutils literal notranslate"><span class="pre">Subscriptions</span></code>, <code class="docutils literal notranslate"><span class="pre">Calls</span></code>.</p>
<section id="attribute-references">
<h3>Attribute References<a class="headerlink" href="#attribute-references" title="Permalink to this headline"></a></h3>
<p>An attribute reference is a primary followed by a period and a name.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">Cell</span></code> instance of MindSpore, using attribute reference as left operands must meet the restrictions below:</p>
<ul class="simple">
<li><p>The attribute must belong to self, such as self.xxx. It is not supported to change attribute of other instance.</p></li>
<li><p>The attribute type must be <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> and be initialized in <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function.</p></li>
</ul>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">set_context</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore.ops</span> <span class="kn">import</span> <span class="n">constexpr</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">x</span>     <span class="c1"># restictions matched,  success</span>
        <span class="c1"># self.m = 3               # self.m not Parameter type, failure</span>
        <span class="c1"># y.weight = x          # not attribute of self, failure</span>
        <span class="k">return</span> <span class="n">x</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">()</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">net</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:1
</pre></div>
</div>
</section>
<section id="index-value">
<h3>Index Value<a class="headerlink" href="#index-value" title="Permalink to this headline"></a></h3>
<p>Index value of  a sequence <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> which called subscription in Python.</p>
<p>Index value of <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> refers to chapter <a class="reference internal" href="#tuple"><span class="std std-doc">Tuple</span></a> of this page.</p>
<p>Index value of <code class="docutils literal notranslate"><span class="pre">List</span></code> refers to chapter <a class="reference internal" href="#list"><span class="std std-doc">List</span></a> of this page.</p>
<p>Index value of <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code> refers to chapter <a class="reference internal" href="#dictionary"><span class="std std-doc">Dictionary</span></a> of this page.</p>
<p>Index value of <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> refers to <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/note/index_support.html#index-values">Tensor index value document</a>.</p>
</section>
<section id="calls">
<h3>Calls<a class="headerlink" href="#calls" title="Permalink to this headline"></a></h3>
<p>A call calls a callable object (e.g., <code class="docutils literal notranslate"><span class="pre">Cell</span></code> or <code class="docutils literal notranslate"><span class="pre">Primitive</span></code>) with a possibly empty series of arguments.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">set_context</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matmul</span> <span class="o">=</span> <span class="n">ops</span><span class="o">.</span><span class="n">MatMul</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># A call of Primitive</span>
        <span class="k">return</span> <span class="n">out</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">()</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">net</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:[[3. 3. 3. 3.]]
</pre></div>
</div>
</section>
</section>
<section id="operators">
<h2>Operators<a class="headerlink" href="#operators" title="Permalink to this headline"></a></h2>
<p>Arithmetic operators and assignment operators support the <code class="docutils literal notranslate"><span class="pre">Number</span></code> and <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> operations, as well as the <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> operations of different <code class="docutils literal notranslate"><span class="pre">dtype</span></code>.</p>
<p>For details about the rules, click <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/note/operator_list_implicit.html#conversion-rules">conversion-rules</a>.</p>
<section id="unary-arithmetic-operators">
<h3>Unary Arithmetic Operators<a class="headerlink" href="#unary-arithmetic-operators" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Unary Arithmetic Operator</p></th>
<th class="text-left head"><p>Supported Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Tensor</span></code> with <code class="docutils literal notranslate"><span class="pre">Bool</span></code> data type</p></td>
</tr>
</tbody>
</table>
<p>notes:</p>
<ul class="simple">
<li><p>In native python the <code class="docutils literal notranslate"><span class="pre">~</span></code> operator get the bitwise inversion of its integer argument; in Mindspore the <code class="docutils literal notranslate"><span class="pre">~</span></code> redefined to get logic not for <code class="docutils literal notranslate"><span class="pre">Tensor(Bool)</span></code>.</p></li>
</ul>
</section>
<section id="binary-arithmetic-operators">
<h3>Binary Arithmetic Operators<a class="headerlink" href="#binary-arithmetic-operators" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Binary Arithmetic Operator</p></th>
<th class="text-left head"><p>Supported Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> + <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> + <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> + <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> + <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> + <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> + <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> + <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>+<code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>+<code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> + <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> + <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> - <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> -<code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> -<code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -<code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> -<code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -<code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> * <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> * <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> * <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> * <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> * <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> * <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> * <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> * <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> * <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> * <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> *<code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> * <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> / <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> / <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> / <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> / <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> / <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> / <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> / <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> / <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> % <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> % <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> % <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> % <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> % <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> % <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> % <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> % <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">**</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> ** <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ** <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> ** <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ** <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> ** <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ** <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> ** <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ** <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">//</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> // <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> // <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> // <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> // <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> // <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> // <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> // <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> // <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">∣</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> | <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> | <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> | <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> | <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> ^ <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ^ <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> ^ <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ^ <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt;&lt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt;&gt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>Restrictions:</p>
<ul class="simple">
<li><p>If all operands are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, value of Number can’t be <code class="docutils literal notranslate"><span class="pre">Bool</span></code>.</p></li>
<li><p>If all operands are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, operations between  <code class="docutils literal notranslate"><span class="pre">Float64</span></code> and <code class="docutils literal notranslate"><span class="pre">Int32</span></code> are not supported.</p></li>
<li><p>If either operand is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> type, left and right operands can’t both be <code class="docutils literal notranslate"><span class="pre">Bool</span></code> value.</p></li>
<li><p>The result of <code class="docutils literal notranslate"><span class="pre">List</span>&#160; <span class="pre">*</span> <span class="pre">Number</span></code>  is concatenate  duplicate List Number times, data type of the <code class="docutils literal notranslate"><span class="pre">List</span></code> must be <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">List</span></code>/<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> that contains these types.  This rule applies to <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">*</span> <span class="pre">List</span></code>,  <code class="docutils literal notranslate"><span class="pre">Tuple</span> <span class="pre">*</span> <span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">*</span> <span class="pre">Tuple</span></code> too.</p></li>
</ul>
</section>
<section id="assignment-operators">
<h3>Assignment Operators<a class="headerlink" href="#assignment-operators" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Assignment Operator</p></th>
<th class="text-left head"><p>Supported Type、</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></td>
<td class="text-left"><p>All Built-in Python Types that MindSpore supported and MindSpore User-defined Data Types.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">+=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> += <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> += <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> += <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> += <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> += <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> += <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> += <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> += <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> += <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> += <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> += <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">-=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> -= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> -= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> -= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> -= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> -= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> *= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> *= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> *= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> *= <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> *= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> *= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> *= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">/=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> /= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> /= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> /= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> /= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> /= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> /= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> /= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> /= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">%=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> %= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> %= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> %= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> %= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> %= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> %= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> %= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> %= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">**=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> **= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> **= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> **= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> **= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> **= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> **= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>,  <code class="docutils literal notranslate"><span class="pre">List</span></code> **= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> **= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">//=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> //= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> //= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> //= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> //= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> //= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> //= <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> //= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> //= <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&amp;=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &amp;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &amp;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> &amp;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &amp;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">∣=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> |= <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> |= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> |= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> |= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">^=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> ^= <code class="docutils literal notranslate"><span class="pre">Number</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ^= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Number</span></code> ^= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>、<code class="docutils literal notranslate"><span class="pre">Tensor</span></code> ^= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt;&lt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt;&gt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li><p>For <code class="docutils literal notranslate"><span class="pre">=</span></code> the scenarios below are not allowed:</p>
<p>Only instance of <code class="docutils literal notranslate"><span class="pre">Cell</span></code> and <code class="docutils literal notranslate"><span class="pre">Primitve</span></code> can be created in function construct, the statement like <code class="docutils literal notranslate"><span class="pre">xx</span> <span class="pre">=</span> <span class="pre">Tensor(...)</span></code> is forbidden.</p>
<p>Only <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> attribute of self can be assigned, for more detail refer to <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/note/static_graph_syntax_support.html#attribute-references">Attribute Reference</a>.</p>
</li>
<li><p>If all operands of  <code class="docutils literal notranslate"><span class="pre">AugAssign</span></code> are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, value of Number can’t be <code class="docutils literal notranslate"><span class="pre">Bool</span></code>.</p></li>
<li><p>If all operands of  <code class="docutils literal notranslate"><span class="pre">AugAssign</span></code> are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, operations between  <code class="docutils literal notranslate"><span class="pre">Float64</span></code> and <code class="docutils literal notranslate"><span class="pre">Int32</span></code> are not supported.</p></li>
<li><p>If either operand of  <code class="docutils literal notranslate"><span class="pre">AugAssign</span></code> is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> type, left and right operands can’t both be <code class="docutils literal notranslate"><span class="pre">Bool</span></code> value.</p></li>
<li><p>The result of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">*=</span> <span class="pre">Number</span></code> is concatenate duplicate List Number times, data type of the <code class="docutils literal notranslate"><span class="pre">List</span></code> must be <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">List</span></code>/<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> that contains these types. This rule applies to <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">*</span> <span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span> <span class="pre">*</span> <span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">*</span> <span class="pre">Tuple</span></code> too.</p></li>
</ul>
</section>
<section id="logical-operators">
<h3>Logical Operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Logical Operator</p></th>
<th class="text-left head"><p>Supported Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">and</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">String</span></code>,  <code class="docutils literal notranslate"><span class="pre">Number</span></code>,  <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> , <code class="docutils literal notranslate"><span class="pre">Dict</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">Scalar</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">or</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">String</span></code>,  <code class="docutils literal notranslate"><span class="pre">Number</span></code>,  <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> , <code class="docutils literal notranslate"><span class="pre">Dict</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">Scalar</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">not</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> and <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>  with only one element.</p></td>
</tr>
</tbody>
</table>
<p>Restrictions:</p>
<ul class="simple">
<li><p>The left operand of operator <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code> must be able to be converted to boolean value. For example, left operand can not be Tensor with multiple elements. If the left operand of <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code> is variable <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the right operand must also be single-element <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> with the same type. Otherwise, there is no requirement for right operand.</p></li>
<li><p>If the left or right operand of <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code> is object that the graph mode does not support (such as third-party object and object created by syntax that is not native-supported in the graph mode), both operands need to be constant.</p></li>
</ul>
</section>
<section id="compare-operators">
<h3>Compare Operators<a class="headerlink" href="#compare-operators" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Compare Operator</p></th>
<th class="text-left head"><p>Supported Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> in <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> in <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> in <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> in <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> in <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> in <code class="docutils literal notranslate"><span class="pre">List</span></code>, and <code class="docutils literal notranslate"><span class="pre">String</span></code> in <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code></p></td>
<td class="text-left"><p>Same as <code class="docutils literal notranslate"><span class="pre">in</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">is</span></code></p></td>
<td class="text-left"><p>The value can only be <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">True</span></code>, or <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code></p></td>
<td class="text-left"><p>The value can only be <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">True</span></code>, or <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>&lt;</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>&lt;=</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>&gt;</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>&gt;=</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> &gt;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &gt;= <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> &gt;= <code class="docutils literal notranslate"><span class="pre">Number</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>!=</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> != <code class="docutils literal notranslate"><span class="pre">Number</span></code> , <code class="docutils literal notranslate"><span class="pre">Number</span></code> != <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> != <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> != <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">mstype</span></code> != <code class="docutils literal notranslate"><span class="pre">mstype</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> != <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span> <span class="pre">!</span></code> = <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> != <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>==</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Number</span></code> == <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code> == <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> == <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> == <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">mstype</span></code> == <code class="docutils literal notranslate"><span class="pre">mstype</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> == <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> == <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> == <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>Restrictions:</p>
<ul class="simple">
<li><p>For operators <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, if all operators are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, value of Number can’t be <code class="docutils literal notranslate"><span class="pre">Bool</span></code>.</p></li>
<li><p>For operators <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, if all operands are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type, operations between  <code class="docutils literal notranslate"><span class="pre">Float64</span></code> and <code class="docutils literal notranslate"><span class="pre">Int32</span></code> are not supported.</p></li>
<li><p>For operators <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, if either operand is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> type, left and right operands can’t both be <code class="docutils literal notranslate"><span class="pre">Bool</span></code> value.</p></li>
<li><p>For operator <code class="docutils literal notranslate"><span class="pre">==</span></code>, if all operands are <code class="docutils literal notranslate"><span class="pre">Number</span></code> type,  support both <code class="docutils literal notranslate"><span class="pre">Number</span></code> have <code class="docutils literal notranslate"><span class="pre">Bool</span></code> value, not support only one <code class="docutils literal notranslate"><span class="pre">Number</span></code> has <code class="docutils literal notranslate"><span class="pre">Bool</span></code> value.</p></li>
<li><p>For operators <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, all supported types but <code class="docutils literal notranslate"><span class="pre">mstype</span></code> can compare with <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>The chain comparison like: <code class="docutils literal notranslate"><span class="pre">a&gt;b&gt;c</span></code> is not supported.</p></li>
</ul>
</section>
</section>
<section id="compound-statements">
<h2>Compound Statements<a class="headerlink" href="#compound-statements" title="Permalink to this headline"></a></h2>
<section id="conditional-control-statements">
<h3>Conditional Control Statements<a class="headerlink" href="#conditional-control-statements" title="Permalink to this headline"></a></h3>
<section id="if-statements">
<h4>if Statements<a class="headerlink" href="#if-statements" title="Permalink to this headline"></a></h4>
<p>Usage:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(cond):</span> <span class="pre">statements...</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">if</span> <span class="pre">(cond)</span> <span class="pre">else</span> <span class="pre">z</span></code></p></li>
</ul>
<p>Parameter: <code class="docutils literal notranslate"><span class="pre">cond</span></code> – Variables of <code class="docutils literal notranslate"><span class="pre">Bool</span></code> type and constants of <code class="docutils literal notranslate"><span class="pre">Bool</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Dict</span></code> and <code class="docutils literal notranslate"><span class="pre">String</span></code> types are supported.</p>
<p>Restrictions:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">cond</span></code> is not a constant, the variable or constant assigned to a same sign in different branches should have same data type.If the data type of assigned variables or constants is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the variables and constants should have same shape and element type.</p></li>
<li><p>The number of <code class="docutils literal notranslate"><span class="pre">if</span></code> cannot exceed 100.</p></li>
</ul>
<p>Example 1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="s1">&#39;xx&#39;</span>
<span class="n">n</span> <span class="o">=</span> <span class="s1">&#39;yy&#39;</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">m</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
  <span class="k">return</span> <span class="n">m</span>
<span class="k">else</span><span class="p">:</span>
  <span class="k">return</span> <span class="n">n</span>
</pre></div>
</div>
<p>The data type of <code class="docutils literal notranslate"><span class="pre">m</span></code> returned by the <code class="docutils literal notranslate"><span class="pre">if</span></code> branch and <code class="docutils literal notranslate"><span class="pre">n</span></code> returned by the <code class="docutils literal notranslate"><span class="pre">else</span></code> branch must be same.</p>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:xx
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="s1">&#39;xx&#39;</span>
<span class="n">n</span> <span class="o">=</span> <span class="s1">&#39;yy&#39;</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;init&#39;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">m</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The variable or constant <code class="docutils literal notranslate"><span class="pre">m</span></code> assigned to <code class="docutils literal notranslate"><span class="pre">out</span></code> in <code class="docutils literal notranslate"><span class="pre">if</span></code> branch and the variable or constant <code class="docutils literal notranslate"><span class="pre">n</span></code> assigned to out in <code class="docutils literal notranslate"><span class="pre">false</span></code> branch must have same data type.</p>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:xx
</pre></div>
</div>
<p>Example 3:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="s1">&#39;xx&#39;</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;init&#39;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">m</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The variable or constant <code class="docutils literal notranslate"><span class="pre">m</span></code> assigned to <code class="docutils literal notranslate"><span class="pre">out</span></code> in <code class="docutils literal notranslate"><span class="pre">if</span></code> branch and the variable or constant <code class="docutils literal notranslate"><span class="pre">init</span></code> initially assigned to <code class="docutils literal notranslate"><span class="pre">out</span></code> must have same data type.</p>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:xx
</pre></div>
</div>
</section>
</section>
<section id="loop-statements">
<h3>Loop Statements<a class="headerlink" href="#loop-statements" title="Permalink to this headline"></a></h3>
<section id="for-statements">
<h4>for Statements<a class="headerlink" href="#for-statements" title="Permalink to this headline"></a></h4>
<p>Usage:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">sequence</span>&#160; <span class="pre">statements...</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">sequence</span>&#160; <span class="pre">statements...</span> <span class="pre">if</span> <span class="pre">(cond)</span> <span class="pre">break</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">sequence</span>&#160; <span class="pre">statements...</span> <span class="pre">if</span> <span class="pre">(cond)</span> <span class="pre">continue</span></code></p></li>
</ul>
<p>Parameter: <code class="docutils literal notranslate"><span class="pre">sequence</span></code> – Iterative sequences (<code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code> and so on).</p>
<p>Restrictions:</p>
<ul class="simple">
<li><p>The total number of graph operations is a multiple of number of iterations of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. Excessive number of iterations of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop may cause the graph to occupy more memory than usage limit.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">for...else...</span></code> statement is not supported.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">z</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:[[7. 7. 7.]
 [7. 7. 7.]]
</pre></div>
</div>
</section>
<section id="while-statements">
<h4>while Statements<a class="headerlink" href="#while-statements" title="Permalink to this headline"></a></h4>
<p>Usage:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">(cond)</span>&#160; <span class="pre">statements...</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">(cond)</span>&#160; <span class="pre">statements...</span> <span class="pre">if</span> <span class="pre">(cond1)</span> <span class="pre">break</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">(cond)</span>&#160; <span class="pre">statements...</span> <span class="pre">if</span> <span class="pre">(cond1)</span> <span class="pre">continue</span></code></p></li>
</ul>
<p>Parameter: <code class="docutils literal notranslate"><span class="pre">cond</span></code> – Variables of <code class="docutils literal notranslate"><span class="pre">Bool</span></code> type and constants of <code class="docutils literal notranslate"><span class="pre">Bool</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Dict</span></code> and <code class="docutils literal notranslate"><span class="pre">String</span></code> types are supported.</p>
<p>Restrictions:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">cond</span></code> is not a constant, the variable or constant assigned to a same sign inside body of <code class="docutils literal notranslate"><span class="pre">while</span></code> and outside body of <code class="docutils literal notranslate"><span class="pre">while</span></code> should have same data type.If the data type of assigned variables or constants is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the variables and constants should have same shape and element type.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">while...else...</span></code> statement is not supported.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">cond</span></code> is not a constant, in while body, the data with type of <code class="docutils literal notranslate"><span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> are not allowed to update and the shape  of <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> data are not allowed to change.</p></li>
<li><p>The number of <code class="docutils literal notranslate"><span class="pre">while</span></code> cannot exceed 100.</p></li>
</ul>
<p>Example 1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">m</span>
    <span class="k">return</span> <span class="n">n</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The data type of <code class="docutils literal notranslate"><span class="pre">m</span></code> returned inside <code class="docutils literal notranslate"><span class="pre">while</span></code> and data type of <code class="docutils literal notranslate"><span class="pre">n</span></code> returned outside <code class="docutils literal notranslate"><span class="pre">while</span></code> must have same data type.</p>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:1
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">ops1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_cond</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">m</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">ops1</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test_cond</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">op1</span></code> assigned to <code class="docutils literal notranslate"><span class="pre">out</span></code> inside <code class="docutils literal notranslate"><span class="pre">while</span></code> and the variable or constant <code class="docutils literal notranslate"><span class="pre">init</span></code> initially assigned to <code class="docutils literal notranslate"><span class="pre">out</span></code> must have same data type.</p>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:15
</pre></div>
</div>
</section>
</section>
<section id="function-definition-statements">
<h3>Function Definition Statements<a class="headerlink" href="#function-definition-statements" title="Permalink to this headline"></a></h3>
<section id="def-keyword">
<h4>def Keyword<a class="headerlink" href="#def-keyword" title="Permalink to this headline"></a></h4>
<p>Defines functions.</p>
<p>Usage:</p>
<p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">function_name(args):</span> <span class="pre">statements...</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="k">def</span> <span class="nf">number_add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">number_add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret: 6
</pre></div>
</div>
<p>Restrictions:</p>
<ul class="simple">
<li><p>The defined function must has <code class="docutils literal notranslate"><span class="pre">return</span></code> statement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Construct</span></code> function of the outermost network is not support  kwargs, like:<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">construct(**kwargs):</span></code>.</p></li>
<li><p>Mixed use of variable argument and non-variable argument is not supported, like:<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">function(x,</span> <span class="pre">y,</span> <span class="pre">*args)</span></code> and <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">function(x</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">**kwargs)</span></code>.</p></li>
</ul>
</section>
<section id="lambda-expression">
<h4>lambda Expression<a class="headerlink" href="#lambda-expression" title="Permalink to this headline"></a></h4>
<p>Generates functions.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,</span> <span class="pre">y:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">number_add</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">number_add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret: 6
</pre></div>
</div>
</section>
</section>
<section id="list-comprehension-and-generator-expression">
<h3>List Comprehension and Generator Expression<a class="headerlink" href="#list-comprehension-and-generator-expression" title="Permalink to this headline"></a></h3>
<p>Support List Comprehension and Generator Expression.</p>
<section id="list-comprehension">
<h4>List Comprehension<a class="headerlink" href="#list-comprehension" title="Permalink to this headline"></a></h4>
<p>Generates a list. Own to the implicit converting during compiling, the result of expression is a tuple.</p>
<p>Usage: refer to Python official syntax description.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">l</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:(4, 16, 36, 64, 100)
</pre></div>
</div>
<p>Restrictions:</p>
<p>Use multiple nested iterations comprehension in the generator.</p>
<p>For example (Use two nested iterations):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>The result would be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>TypeError:  The `generators` supports one `comprehension` in ListComp/GeneratorExp, but got 2 comprehensions.
</pre></div>
</div>
</section>
<section id="generator-expression">
<h4>Generator Expression<a class="headerlink" href="#generator-expression" title="Permalink to this headline"></a></h4>
<p>Generates a list. The same as List Comprehension. The expression would generate a list immediately, not like the behavior running in Python.</p>
<p>Usage: Referencing List Comprehension.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">l</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:(4, 16, 36, 64, 100)
</pre></div>
</div>
<p>Restrictions: The same as List Comprehension.</p>
</section>
</section>
<section id="with-statement">
<h3>With Statement<a class="headerlink" href="#with-statement" title="Permalink to this headline"></a></h3>
<p>In graph mode, the with statement is supported with limitations. The with statement requires that the object must have two magic methods: <code class="docutils literal notranslate"><span class="pre">__enter__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__exit__()</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">mindspore.nn</span> <span class="k">as</span> <span class="nn">nn</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">Tensor</span><span class="p">,</span> <span class="n">ms_class</span><span class="p">,</span> <span class="n">set_context</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="nd">@ms_class</span>
<span class="k">class</span> <span class="nc">Sample</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Sample</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="mi">4</span>

<span class="k">class</span> <span class="nc">TestNet</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">obj</span> <span class="k">as</span> <span class="n">sample</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="n">sample</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">num</span>

<span class="n">test_net</span> <span class="o">=</span> <span class="n">TestNet</span><span class="p">()</span>
<span class="n">out1</span><span class="p">,</span> <span class="n">out2</span> <span class="o">=</span> <span class="n">test_net</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out1:&quot;</span><span class="p">,</span> <span class="n">out1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out2:&quot;</span><span class="p">,</span> <span class="n">out2</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>out1: [5]
out2: [2]
</pre></div>
</div>
</section>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h2>
<section id="python-built-in-functions">
<h3>Python Built-in Functions<a class="headerlink" href="#python-built-in-functions" title="Permalink to this headline"></a></h3>
<p>Currently, the following built-in Python functions are supported: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">getattr</span></code>, <code class="docutils literal notranslate"><span class="pre">hasattr</span></code>, <code class="docutils literal notranslate"><span class="pre">len</span></code>, <code class="docutils literal notranslate"><span class="pre">isinstance</span></code>, <code class="docutils literal notranslate"><span class="pre">all</span></code>, <code class="docutils literal notranslate"><span class="pre">round</span></code>, <code class="docutils literal notranslate"><span class="pre">any</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">abs</span></code>, <code class="docutils literal notranslate"><span class="pre">partial</span></code>, <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code>, <code class="docutils literal notranslate"><span class="pre">enumerate</span></code>, <code class="docutils literal notranslate"><span class="pre">super</span></code>, <code class="docutils literal notranslate"><span class="pre">pow</span></code>, and <code class="docutils literal notranslate"><span class="pre">filter</span></code>. The usage of built-in function is similar to the usage of  corresponding Python built-in function.</p>
<section id="int">
<h4>int<a class="headerlink" href="#int" title="Permalink to this headline"></a></h4>
<p>Return the integer value based on the input number or string.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">int(x=0,</span> <span class="pre">base=10)</span></code></p>
<p>Input parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – the object need to be converted to integer, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, constant <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">base</span></code> – the base to convert. <code class="docutils literal notranslate"><span class="pre">base</span></code> is only allowed when <code class="docutils literal notranslate"><span class="pre">x</span></code> is <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
</ul>
<p>Return value: the converted integer.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">3.6</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;0xa&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 3
b: 3
c: 18
d: 10
e: 8
</pre></div>
</div>
</section>
<section id="float">
<h4>float<a class="headerlink" href="#float" title="Permalink to this headline"></a></h4>
<p>Return the floating-point number based on the input number or string.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">float(x=0)</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">x</span></code> – the object need to be converted to floating number, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, constant <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: the converted floating-point number.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">112</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="o">-</span><span class="mf">123.6</span><span class="p">)</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 1.0
b: 112.0
c: -123.6
d: 123.0
</pre></div>
</div>
</section>
<section id="bool">
<h4>bool<a class="headerlink" href="#bool" title="Permalink to this headline"></a></h4>
<p>Return the boolean value based on the input.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">bool(x=false)</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">x</span></code> – the object need to be converted to boolean value, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: if <code class="docutils literal notranslate"><span class="pre">x</span></code> is not <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, returns the converted boolean scalar. Otherwise, returns boolean <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">Tensor</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">()</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">10</span><span class="p">]))</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: False
b: False
c: True
d: True
e: [True]    # e is boolean Tensor
</pre></div>
</div>
</section>
<section id="str">
<h4>str<a class="headerlink" href="#str" title="Permalink to this headline"></a></h4>
<p>Return the string value based on the input.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">str(x='')</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">x</span></code> – the object need to be converted to string value, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>). <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code> can not contain non-constant element.</p>
<p>Return value: string converted from <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">Tensor</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">str</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">10</span><span class="p">]))</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a:                                             # a is empty string
b: 0
c: [1, 2, 3, 4]
d: Tensor(shape=[1], dtype=Int64, value=[10])
e: [1 2 3 4]
</pre></div>
</div>
</section>
<section id="tuple-1">
<h4>tuple<a class="headerlink" href="#tuple-1" title="Permalink to this headline"></a></h4>
<p>Return a tuple based on the input object.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">tuple(x=())</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">x</span></code> – the object that need to be converted to tuple, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> or third-party object (such as numpy.ndarray).</p>
<p>Return value: tuple with elements of <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> is cut based on zero dimension.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">,</span><span class="n">d</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: (1, 2, 3)
b: (1, 2, 3)
c: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
d: (Tensor(shape=[], dtype=Int64, value= 1), Tensor(shape=[], dtype=Int64, value= 2), Tensor(shape=[], dtype=Int64, value= 3))
</pre></div>
</div>
</section>
<section id="list-1">
<h4>list<a class="headerlink" href="#list-1" title="Permalink to this headline"></a></h4>
<p>Return a list based on the input object.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">list(x=())</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">x</span></code> – the object that need to be converted to list, the valid type of x includes <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> or third-party object (such as numpy.ndarray).</p>
<p>Return value: list with elements of <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> is cut based on zero dimension.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">})</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span>
<span class="n">a_t</span><span class="p">,</span> <span class="n">b_t</span><span class="p">,</span> <span class="n">c_t</span><span class="p">,</span> <span class="n">d_t</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a_t: &quot;</span><span class="p">,</span> <span class="n">a_t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b_t: &quot;</span><span class="p">,</span> <span class="n">b_t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c_t: &quot;</span><span class="p">,</span> <span class="n">c_t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d_t: &quot;</span><span class="p">,</span> <span class="n">d_t</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a_t: (1, 2, 3)
b_t: (1, 2, 3)
c_t: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
d_t: (Tensor(shape=[], dtype=Int64, value= 1), Tensor(shape=[], dtype=Int64, value= 2), Tensor(shape=[], dtype=Int64, value= 3))
</pre></div>
</div>
<p>In graph mode, if the return values contain list, the list will be converted to tuple automatically. So the <code class="docutils literal notranslate"><span class="pre">a_t</span></code>, <code class="docutils literal notranslate"><span class="pre">b_t</span></code>, <code class="docutils literal notranslate"><span class="pre">c_t</span></code> and <code class="docutils literal notranslate"><span class="pre">d_t</span></code> in the above example are all tuple. However, <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code> and <code class="docutils literal notranslate"><span class="pre">d</span></code> are still list.</p>
</section>
<section id="getattr">
<h4>getattr<a class="headerlink" href="#getattr" title="Permalink to this headline"></a></h4>
<p>Get the attribute of python object.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">getattr(x,</span> <span class="pre">attr,</span> <span class="pre">default)</span></code></p>
<p>Input parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – The object to get attribute, <code class="docutils literal notranslate"><span class="pre">x</span></code> can be all types that graph mode supports. <code class="docutils literal notranslate"><span class="pre">x</span></code> can not be third-party object.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code> – The name of the attribute, the type of <code class="docutils literal notranslate"><span class="pre">attr</span></code> should be <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> – Optional input. If <code class="docutils literal notranslate"><span class="pre">x</span></code> do not have <code class="docutils literal notranslate"><span class="pre">attr</span></code>, <code class="docutils literal notranslate"><span class="pre">getattr</span></code> will return <code class="docutils literal notranslate"><span class="pre">default</span></code>. <code class="docutils literal notranslate"><span class="pre">default</span></code> can be all types that graph mode supports but can not be third-party object. If <code class="docutils literal notranslate"><span class="pre">default</span></code> is not set and <code class="docutils literal notranslate"><span class="pre">x</span></code> does not have attribute <code class="docutils literal notranslate"><span class="pre">attr</span></code>, AttributeError will be raised.</p></li>
</ul>
<p>Return value: Target attribute or <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">ms_class</span>

<span class="nd">@ms_class</span>
<span class="k">class</span> <span class="nc">MSClass1</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num0</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">ms_obj</span> <span class="o">=</span> <span class="n">MSClass1</span><span class="p">()</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ms_obj</span><span class="p">,</span> <span class="s1">&#39;num0&#39;</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ms_obj</span><span class="p">,</span> <span class="s1">&#39;num1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 0
b: 2
</pre></div>
</div>
<p>The attribute of object in graph mode may be different from that in pynative mode. It is suggested to use <code class="docutils literal notranslate"><span class="pre">default</span></code> input in <code class="docutils literal notranslate"><span class="pre">getattr</span></code> or call <code class="docutils literal notranslate"><span class="pre">hasattr</span></code> before using <code class="docutils literal notranslate"><span class="pre">getattr</span></code> to avoid AttributeError.</p>
</section>
<section id="hasattr">
<h4>hasattr<a class="headerlink" href="#hasattr" title="Permalink to this headline"></a></h4>
<p>Judge whether an object has an attribute.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">hasattr(x,</span> <span class="pre">attr)</span></code></p>
<p>Input parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – The object to get attribute, <code class="docutils literal notranslate"><span class="pre">x</span></code> can be all types that graph mode supports and also can be third-party object.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code> – The name of the attribute, the type of <code class="docutils literal notranslate"><span class="pre">attr</span></code> should be <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
</ul>
<p>Return value: boolean value indicates whether <code class="docutils literal notranslate"><span class="pre">x</span></code> has <code class="docutils literal notranslate"><span class="pre">attr</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">ms_class</span>

<span class="nd">@ms_class</span>
<span class="k">class</span> <span class="nc">MSClass1</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num0</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">ms_obj</span> <span class="o">=</span> <span class="n">MSClass1</span><span class="p">()</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ms_obj</span><span class="p">,</span> <span class="s1">&#39;num0&#39;</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ms_obj</span><span class="p">,</span> <span class="s1">&#39;num1&#39;</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: True
b: False
</pre></div>
</div>
</section>
<section id="len">
<h4>len<a class="headerlink" href="#len" title="Permalink to this headline"></a></h4>
<p>Return the length of a sequence.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">len(sequence)</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">sequence</span></code> – <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> or third-party object (such as numpy.ndarray).</p>
<p>Return value: length of the sequence, which is of the <code class="docutils literal notranslate"><span class="pre">int</span></code> type. If the input parameter is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, the length of dimension 0 is returned.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
    <span class="n">x_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">y_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">d_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">z_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="n">n_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x_len</span><span class="p">,</span> <span class="n">y_len</span><span class="p">,</span> <span class="n">d_len</span><span class="p">,</span> <span class="n">z_len</span><span class="p">,</span> <span class="n">n_len</span>

<span class="n">x_len</span><span class="p">,</span> <span class="n">y_len</span><span class="p">,</span> <span class="n">d_len</span><span class="p">,</span> <span class="n">z_len</span><span class="p">,</span> <span class="n">n_len</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x_len:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_len</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y_len:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y_len</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;d_len:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d_len</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z_len:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z_len</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n_len:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n_len</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x_len:3
y_len:3
d_len:2
z_len:6
n_len:4
</pre></div>
</div>
</section>
<section id="isinstance">
<h4>isinstance<a class="headerlink" href="#isinstance" title="Permalink to this headline"></a></h4>
<p>Determines whether an object is an instance of a class. Different from operator <code class="docutils literal notranslate"><span class="pre">Isinstance</span></code>, the second input parameter of <code class="docutils literal notranslate"><span class="pre">Isinstance</span></code> is the type defined in the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> module of MindSpore.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">type)</span></code></p>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – Any instance of any supported type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – A type in the <code class="docutils literal notranslate"><span class="pre">MindSpore</span> <span class="pre">dtype</span></code> module.</p></li>
</ul>
<p>Return value: If <code class="docutils literal notranslate"><span class="pre">obj</span></code> is an instance of <code class="docutils literal notranslate"><span class="pre">type</span></code>, return <code class="docutils literal notranslate"><span class="pre">True</span></code>. Otherwise, return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">x_is_tuple</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
    <span class="n">y_is_list</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
    <span class="n">z_is_tensor</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x_is_tuple</span><span class="p">,</span> <span class="n">y_is_list</span><span class="p">,</span> <span class="n">z_is_tensor</span>

<span class="n">x_is_tuple</span><span class="p">,</span> <span class="n">y_is_list</span><span class="p">,</span> <span class="n">z_is_tensor</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x_is_tuple:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_is_tuple</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y_is_list:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y_is_list</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z_is_tensor:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z_is_tensor</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x_is_tuple:True
y_is_list:True
z_is_tensor:True
</pre></div>
</div>
</section>
<section id="all">
<h4>all<a class="headerlink" href="#all" title="Permalink to this headline"></a></h4>
<p>Judge whether all of the elements in the input is true.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">all(x)</span></code></p>
<p>Input parameter: - <code class="docutils literal notranslate"><span class="pre">x</span></code> – Iterable object, the valid types include <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: boolean, indicates whether all of the elements in the input is true.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>  
   <span class="n">b</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">all</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">all</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))</span>  
   <span class="n">f</span> <span class="o">=</span> <span class="nb">all</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
   <span class="n">g</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([])</span>
   <span class="n">h</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(())</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: &quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g: &quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;h: &quot;</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: True
b: False
c: False
d: True
e: False
f: False
g: True
h: True
</pre></div>
</div>
</section>
<section id="any">
<h4>any<a class="headerlink" href="#any" title="Permalink to this headline"></a></h4>
<p>Judge whether any of the elements in the input is true.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">any(x)</span></code></p>
<p>Input parameter: - <code class="docutils literal notranslate"><span class="pre">x</span></code> – Iterable object, the valid types include <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: boolean, indicates whether any of the elements in the input is true.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">any</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">any</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))</span>
   <span class="n">f</span> <span class="o">=</span> <span class="nb">any</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
   <span class="n">g</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([])</span>
   <span class="n">h</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(())</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: &quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g: &quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;h: &quot;</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: True
b: True
c: False
d: True
e: True
f: False
g: False
h: False
</pre></div>
</div>
</section>
<section id="round">
<h4>round<a class="headerlink" href="#round" title="Permalink to this headline"></a></h4>
<p>Return the rounding value of input.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">round(x,</span> <span class="pre">digit=0)</span></code></p>
<p>Input parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – the object to rounded, the valid types include <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object that defines magic function <code class="docutils literal notranslate"><span class="pre">__round__()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">digit</span></code> – the number of decimal places to round, the default value is 0. <code class="docutils literal notranslate"><span class="pre">digit</span></code> can be <code class="docutils literal notranslate"><span class="pre">int</span></code> object or <code class="docutils literal notranslate"><span class="pre">None</span></code>. If <code class="docutils literal notranslate"><span class="pre">x</span></code> is <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, then <code class="docutils literal notranslate"><span class="pre">round()</span></code> does not support input <code class="docutils literal notranslate"><span class="pre">digit</span></code>.</p></li>
</ul>
<p>Return value: the value after rounding.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">10.123</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">10.567</span><span class="p">)</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">10.72</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">f</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">17.12</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">g</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">10.17</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
   <span class="n">h</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mf">10.12</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;h: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 10
b: 10
c: 11
d: 10
e: 10.00
f: 20.00
g: 10.20
h: 10.10
</pre></div>
</div>
</section>
<section id="max">
<h4>max<a class="headerlink" href="#max" title="Permalink to this headline"></a></h4>
<p>Return the maximum of inputs.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">max(*data)</span></code></p>
<p>Input parameter: - <code class="docutils literal notranslate"><span class="pre">*data</span></code> – If <code class="docutils literal notranslate"><span class="pre">*data</span></code> is single input, <code class="docutils literal notranslate"><span class="pre">max</span></code> will compare all elements within <code class="docutils literal notranslate"><span class="pre">data</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code> must be iterable object. If there are multiple inputs, then <code class="docutils literal notranslate"><span class="pre">max()</span></code> will compare each of them. The valid types of <code class="docutils literal notranslate"><span class="pre">data</span></code> include <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: boolean, the maximum of the inputs.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">max</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
   <span class="n">d</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
   <span class="n">e</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">))</span>
   <span class="n">f</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
   <span class="n">g</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: &quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g: &quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 3
b: 3
c: 3
d: 4
e: c
f: (1, 4)
g: 3
</pre></div>
</div>
</section>
<section id="min">
<h4>min<a class="headerlink" href="#min" title="Permalink to this headline"></a></h4>
<p>Return the minimum of inputs.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">min(*data)</span></code></p>
<p>Input parameter: - <code class="docutils literal notranslate"><span class="pre">*data</span></code> – If <code class="docutils literal notranslate"><span class="pre">*data</span></code> is single input, then <code class="docutils literal notranslate"><span class="pre">min()</span></code> will compare all elements within <code class="docutils literal notranslate"><span class="pre">data</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code> must be iterable object. If there are multiple inputs, then <code class="docutils literal notranslate"><span class="pre">min()</span></code> will compare each of them. The valid types of <code class="docutils literal notranslate"><span class="pre">data</span></code> include <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: boolean, the minimum of the inputs.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
  <span class="n">c</span> <span class="o">=</span> <span class="nb">min</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
  <span class="n">d</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
  <span class="n">e</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">))</span>
  <span class="n">f</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
  <span class="n">g</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
  <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: &quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;g: &quot;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 0
b: 0
c: 1
d: 1
e: a
f: (1, 2, 3)
g: 1
</pre></div>
</div>
</section>
<section id="sum">
<h4>sum<a class="headerlink" href="#sum" title="Permalink to this headline"></a></h4>
<p>Return the sum of input sequence.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">sum(x,</span> <span class="pre">n=0)</span></code></p>
<p>Input parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – iterable with numbers, the valid types include <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – the number that will be added to the sum of <code class="docutils literal notranslate"><span class="pre">x</span></code>, which is assumed to be 0 if not given.</p></li>
</ul>
<p>Return value: the value obtained by summing <code class="docutils literal notranslate"><span class="pre">x</span></code> and adding it to <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span><span class="p">,</span> <span class="n">Tensor</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
  <span class="n">c</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
  <span class="n">d</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="mi">10</span><span class="p">)</span>
  <span class="n">e</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">Tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]))</span>
  <span class="n">f</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">Tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]),</span> <span class="n">Tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])],</span> <span class="n">Tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]))</span>
  <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: &quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c: &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;d: &quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;e: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;f: &quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a:  3
b:  13
c:  6
d:  16
e:  [4 6]
f:  [[ 4  6]
     [ 8 10]]
</pre></div>
</div>
</section>
<section id="abs">
<h4>abs<a class="headerlink" href="#abs" title="Permalink to this headline"></a></h4>
<p>Return the absolute value of the input. The usage of <code class="docutils literal notranslate"><span class="pre">abs()</span></code> is the same as python built-in function <code class="docutils literal notranslate"><span class="pre">abs()</span></code>.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">abs(x)</span></code></p>
<p>Input parameter: - <code class="docutils literal notranslate"><span class="pre">x</span></code> – The valid types of <code class="docutils literal notranslate"><span class="pre">x</span></code> include <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">complex</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> and third-party object (such as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>).</p>
<p>Return value: the absolute value of the input.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">a</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">45</span><span class="p">)</span>
   <span class="n">b</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="mf">100.12</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a: &quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a: 45
b: 100.12
</pre></div>
</div>
</section>
<section id="partial">
<h4>partial<a class="headerlink" href="#partial" title="Permalink to this headline"></a></h4>
<p>A partial function used to fix the input parameter of the function.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">partial(func,</span> <span class="pre">arg,</span> <span class="pre">...)</span></code></p>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code> –Function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg</span></code> – One or more parameters to be fixed. Position parameters and key-value pairs can be specified.</p></li>
</ul>
<p>Return value: functions with certain input parameter values fixed</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ops</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">add_</span> <span class="o">=</span> <span class="n">ops</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">add_</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">add_</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span>

<span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>m:5
n:7
</pre></div>
</div>
</section>
<section id="map">
<h4>map<a class="headerlink" href="#map" title="Permalink to this headline"></a></h4>
<p>Maps one or more sequences based on the provided functions and generates a new sequence based on the mapping result.
If the number of elements in multiple sequences is inconsistent, the length of the new sequence is the same as that of the shortest sequence.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">map(func,</span> <span class="pre">sequence,</span> <span class="pre">...)</span></code></p>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code> – Function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sequence</span></code> – One or more sequences (<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> or <code class="docutils literal notranslate"><span class="pre">List</span></code>).</p></li>
</ul>
<p>Return value: A <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">elements_a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">elements_b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">elements_a</span><span class="p">,</span> <span class="n">elements_b</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret: (5, 7, 9)
</pre></div>
</div>
</section>
<section id="zip">
<h4>zip<a class="headerlink" href="#zip" title="Permalink to this headline"></a></h4>
<p>Packs elements in the corresponding positions in multiple sequences into tuples, and then uses these tuples to form a new sequence.
If the number of elements in each sequence is inconsistent, the length of the new sequence is the same as that of the shortest sequence.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">zip(sequence,</span> <span class="pre">...)</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">sequence</span></code> – One or more sequences (<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> or <code class="docutils literal notranslate"><span class="pre">List</span></code>)`.</p>
<p>Return value: A <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">elements_a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">elements_b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">elements_a</span><span class="p">,</span> <span class="n">elements_b</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:((1, 4), (2, 5), (3, 6))
</pre></div>
</div>
</section>
<section id="range">
<h4>range<a class="headerlink" href="#range" title="Permalink to this headline"></a></h4>
<p>Creates a <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> based on the start value, end value, and step.</p>
<p>Calling:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">range(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range(start,</span> <span class="pre">stop)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range(stop)</span></code></p></li>
</ul>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code> – start value of the count. The type is <code class="docutils literal notranslate"><span class="pre">int</span></code>. The default value is 0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop</span></code> – end value of the count (exclusive). The type is <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code> – Step. The type is <code class="docutils literal notranslate"><span class="pre">int</span></code>. The default value is 1.</p></li>
</ul>
<p>Return value: A <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x:(0, 2, 4)
y:(0, 1, 2, 3, 4)
z:(0, 1, 2)
</pre></div>
</div>
</section>
<section id="enumerate">
<h4>enumerate<a class="headerlink" href="#enumerate" title="Permalink to this headline"></a></h4>
<p>Generates an index sequence of a sequence. The index sequence contains data and the corresponding subscript.</p>
<p>Calling:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enumerate(sequence,</span> <span class="pre">start)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enumerate(sequence)</span></code></p></li>
</ul>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sequence</span></code> – A sequence (<code class="docutils literal notranslate"><span class="pre">Tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code> – Start position of the subscript. The type is <code class="docutils literal notranslate"><span class="pre">int</span></code>. The default value is 0.</p></li>
</ul>
<p>Return value: A <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span>

<span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>m:((3, 100), (4, 200), (5, 300), (6, 400))
n:((0, Tensor(shape=[2], dtype=Int64, value= [1, 2])), (1, Tensor(shape=[2], dtype=Int64, value= [3, 4])), (2, Tensor(shape=[2], dtype=Int64, value= [5, 6])))
</pre></div>
</div>
</section>
<section id="super">
<h4>super<a class="headerlink" href="#super" title="Permalink to this headline"></a></h4>
<p>Calls a method of the parent class (super class). Generally, the method of the parent class is called after <code class="docutils literal notranslate"><span class="pre">super</span></code>.</p>
<p>Calling:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">super().xxx()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">super(type,</span> <span class="pre">self).xxx()</span></code></p></li>
</ul>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – Class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code> – Object.</p></li>
</ul>
<p>Return value: method of the parent class.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">set_context</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">FatherNet</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FatherNet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">test_father</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span>

<span class="k">class</span> <span class="nc">SingleSubNet</span><span class="p">(</span><span class="n">FatherNet</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SingleSubNet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">z</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">ret_father_construct</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">ret_father_test</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">SingleSubNet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">test_father</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret_father_construct</span><span class="p">,</span> <span class="n">ret_father_test</span>
</pre></div>
</div>
</section>
<section id="pow">
<h4>pow<a class="headerlink" href="#pow" title="Permalink to this headline"></a></h4>
<p>Return the power.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">pow(x,</span> <span class="pre">y)</span></code></p>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – Base number, <code class="docutils literal notranslate"><span class="pre">Number</span></code>, or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> – Power exponent, <code class="docutils literal notranslate"><span class="pre">Number</span></code>, or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>.</p></li>
</ul>
<p>Return value: <code class="docutils literal notranslate"><span class="pre">y</span></code> power of <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">Number</span></code>, or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code></p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:[ 1  4 27]
</pre></div>
</div>
</section>
<section id="print">
<h4>print<a class="headerlink" href="#print" title="Permalink to this headline"></a></h4>
<p>Prints logs.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">print(arg,</span> <span class="pre">...)</span></code></p>
<p>Input parameter: <code class="docutils literal notranslate"><span class="pre">arg</span></code> – Information to be printed (<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code> or <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>).
When the <code class="docutils literal notranslate"><span class="pre">arg</span></code> is <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, or <code class="docutils literal notranslate"><span class="pre">bool</span></code>, it will be printed out as a <code class="docutils literal notranslate"><span class="pre">0-D</span></code> tensor.</p>
<p>Return value: none</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Tensor(shape=[3], dtype=Int32, value= [1 2 3])
3
</pre></div>
</div>
</section>
<section id="filter">
<h4>filter<a class="headerlink" href="#filter" title="Permalink to this headline"></a></h4>
<p>According to the provided function to judge the elements of a sequence. Each element is passed into the function as a parameter in turn, and the elements whose return result is not 0 or False form a new sequence.</p>
<p>Calling: <code class="docutils literal notranslate"><span class="pre">filter(func,</span> <span class="pre">sequence)</span></code></p>
<p>Input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code> – Function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sequence</span></code> – A sequence (<code class="docutils literal notranslate"><span class="pre">Tuple</span></code> or <code class="docutils literal notranslate"><span class="pre">List</span></code>).</p></li>
</ul>
<p>Return value: A <code class="docutils literal notranslate"><span class="pre">Tuple</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">ms_function</span>

<span class="k">def</span> <span class="nf">is_odd</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="nd">@ms_function</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="n">is_odd</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:(1, 3, 5)
</pre></div>
</div>
</section>
</section>
<section id="function-parameters">
<h3>Function Parameters<a class="headerlink" href="#function-parameters" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Default parameter value: The data types <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, and <code class="docutils literal notranslate"><span class="pre">dict</span></code> are supported, whereas <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> is not supported.</p></li>
<li><p>Variable parameters: Inference and training of networks with variable parameters are supported.</p></li>
<li><p>Key-value pair parameter: Functions with key-value pair parameters cannot be used for backward propagation on computational graphs.</p></li>
<li><p>Variable key-value pair parameter: Functions with variable key-value pairs cannot be used for backward propagation on computational graphs.</p></li>
</ul>
</section>
</section>
<section id="network-definition">
<h2>Network Definition<a class="headerlink" href="#network-definition" title="Permalink to this headline"></a></h2>
<section id="network-input-parameters">
<h3>Network Input parameters<a class="headerlink" href="#network-input-parameters" title="Permalink to this headline"></a></h3>
<p>The input parameters of the outermost network only can be <code class="docutils literal notranslate"><span class="pre">lool</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">mstype.number(mstype.bool,</span> <span class="pre">mstype.int,</span> <span class="pre">mstype.float,</span> <span class="pre">mstype.uint)</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> or <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> that contains these types, and <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code> whose values are these types.</p>
<p>While calculating gradient for outermost network, only <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> input could be calculated, input of other type will be ignored. For example, input parameter <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span>&#160; <span class="pre">z)</span></code> of outermost network, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> are <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> type, <code class="docutils literal notranslate"><span class="pre">y</span></code> is other type. While calculating gradient for the network, only gradients of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> are calculated, and <code class="docutils literal notranslate"><span class="pre">(grad_x,</span> <span class="pre">grad_y)</span></code> is returned.
If you want to use other types of input for the network, please transfer them to the network while initializing network in the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function, and save them as network attributes, then use  in the <code class="docutils literal notranslate"><span class="pre">construct</span></code>.</p>
<p>The input parameters of inner network do not have this restriction.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">set_context</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Net</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="n">flag</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag</span> <span class="o">==</span> <span class="s2">&quot;ok&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span>

<span class="k">class</span> <span class="nc">GradNet</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">net</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">GradNet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grad_all</span> <span class="o">=</span> <span class="n">ops</span><span class="o">.</span><span class="n">GradOperation</span><span class="p">(</span><span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">forward_net</span> <span class="o">=</span> <span class="n">net</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">grad_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">forward_net</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s2">&quot;ok&quot;</span>
<span class="n">input_x</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="n">input_y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">input_z</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="n">grad_net</span> <span class="o">=</span> <span class="n">GradNet</span><span class="p">(</span><span class="n">net</span><span class="p">)</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">grad_net</span><span class="p">(</span><span class="n">input_x</span><span class="p">,</span> <span class="n">input_y</span><span class="p">,</span> <span class="n">input_z</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ret:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
</pre></div>
</div>
<p>The result is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ret:(Tensor(shape=[2, 3], dtype=Float32, value=
[[ 1.00000000e+00,  1.00000000e+00,  1.00000000e+00],
 [ 1.00000000e+00,  1.00000000e+00,  1.00000000e+00]]), Tensor(shape=[2, 3], dtype=Float32, value=
[[ 1.00000000e+00,  1.00000000e+00,  1.00000000e+00],
 [ 1.00000000e+00,  1.00000000e+00,  1.00000000e+00]]))
</pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">Net</span></code> defined above,  <code class="docutils literal notranslate"><span class="pre">string</span></code> flag is transferred during initialization and saved as attribute <code class="docutils literal notranslate"><span class="pre">self.flag</span></code>, then used in the <code class="docutils literal notranslate"><span class="pre">construct</span></code>.</p>
<p>The input parameter <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> are <code class="docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> is <code class="docutils literal notranslate"><span class="pre">int</span></code>. While <code class="docutils literal notranslate"><span class="pre">grad_net</span></code> calculates gradient of the input parameters <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">z)</span></code> for the outermost network, gradient of <code class="docutils literal notranslate"><span class="pre">y</span></code> is automatically ignored, only the gradient of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> is calculated, <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">(grad_x,</span> <span class="pre">grad_z)</span></code>.</p>
</section>
<section id="instance-types-on-the-entire-network">
<h3>Instance Types on the Entire Network<a class="headerlink" href="#instance-types-on-the-entire-network" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Common Python function with the <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore/mindspore.ms_function.html">&#64;ms_function</a> decorator.</p></li>
<li><p>Cell subclass inherited from <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/nn/mindspore.nn.Cell.html">nn.Cell</a>.</p></li>
</ul>
</section>
<section id="network-construction-components">
<h3>Network Construction Components<a class="headerlink" href="#network-construction-components" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Category</p></th>
<th class="text-left head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Cell</span></code> instance</p></td>
<td class="text-left"><p><a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore.nn.html">mindspore/nn/*</a> and user-defined <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/nn/mindspore.nn.Cell.html">Cell</a>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Member function of a <code class="docutils literal notranslate"><span class="pre">Cell</span></code> instance</p></td>
<td class="text-left"><p>Member functions of other classes in the construct function of Cell can be called.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Primitive</span></code> operator</p></td>
<td class="text-left"><p>Class decorated with <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore/mindspore.ms_class.html">&#64;ms_class</a>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Composite</span></code> operator</p></td>
<td class="text-left"><p><a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore.ops.html">mindspore/ops/operations/*</a></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">constexpr</span></code> generation operator</p></td>
<td class="text-left"><p><a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/mindspore.ops.html">mindspore/ops/composite/*</a></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">constexpr</span></code>生成算子</p></td>
<td class="text-left"><p>Value computation operator generated by <a class="reference external" href="https://www.mindspore.cn/docs/en/r1.10/api_python/ops/mindspore.ops.constexpr.html">&#64;constexpr</a>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Function</p></td>
<td class="text-left"><p>User-defined Python functions and system functions listed in the preceding content.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="network-constraints">
<h3>Network Constraints<a class="headerlink" href="#network-constraints" title="Permalink to this headline"></a></h3>
<ol class="arabic">
<li><p>You are not allowed to modify non-<code class="docutils literal notranslate"><span class="pre">Parameter</span></code> data members of the network.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">set_context</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Net</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">par</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">ms</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;par&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">()</span>
<span class="n">net</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>In the preceding defined network, <code class="docutils literal notranslate"><span class="pre">self.x</span></code> is not a <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> and cannot be modified. <code class="docutils literal notranslate"><span class="pre">self.par</span></code> is a <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> and can be modified.</p>
<p>The result would be:</p>
<div class="highlight-Text notranslate"><div class="highlight"><pre><span></span>TypeError: &#39;self.x&#39; should be initialized as a &#39;Parameter&#39; type in the &#39;__init__&#39; function
</pre></div>
</div>
</li>
<li><p>When an undefined class member is used in the <code class="docutils literal notranslate"><span class="pre">construct</span></code> function, <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> is not thrown like the Python interpreter. Instead, it is processed as <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">nn</span><span class="p">,</span> <span class="n">set_context</span>

<span class="n">set_context</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">GRAPH_MODE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Net</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Cell</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Net</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">Net</span><span class="p">()</span>
<span class="n">net</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>In the preceding defined network, <code class="docutils literal notranslate"><span class="pre">construct</span></code> uses the undefined class member <code class="docutils literal notranslate"><span class="pre">self.y</span></code>. In this case, <code class="docutils literal notranslate"><span class="pre">self.y</span></code> is processed as <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>The result would be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>RuntimeError: mindspore/ccsrc/frontend/operator/composite/multitype_funcgraph.cc:161 GenerateFromTypes] The &#39;add&#39; operation does not support the type [Int64, kMetaTypeNone]
</pre></div>
</div>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="syntax_list.html" class="btn btn-neutral float-left" title="Syntax Support" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="index_support.html" class="btn btn-neutral float-right" title="Tensor Index Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>