<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preparation &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script><script src="_static/jquery.js"></script>
        <script src="_static/js/theme.js"></script><script src="_static/underscore.js"></script><script src="_static/doctools.js"></script><script crossorigin="anonymous" integrity="sha256-1fEPhSsRKlFKGfK3eO710tEweHh1fwokU5wFGDHO+vg=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Network Script Analysis" href="script_analysis.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Preparation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-mindspore">Installing MindSpore</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-by-pip">Installing by pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-by-source-code">Installing by Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-environment-variables-only-for-ascend">Configuring Environment Variables (only for Ascend)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mindspore-verification">Mindspore Verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#knowledge-preparation">Knowledge Preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mindspore-programming-guide">MindSpore Programming Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modelzoo-and-hub">ModelZoo and Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="#training-on-the-cloud">Training on the Cloud</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="script_analysis.html">Network Script Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_development.html">Network Script Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="neural_network_debug.html">Network Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance_optimization.html">Using Performance Profiling Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">Inference Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="sample_code.html">Network Migration Debugging Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_mapping.html">API Mapping</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Preparation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/preparation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="preparation">
<h1>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline"></a></h1>
<p>Translator: <a class="reference external" href="https://gitee.com/Misaka19998/docs/tree/master">Misaka19998</a></p>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.6/docs/mindspore/migration_guide/source_en/preparation.md"><img alt="View Source On Gitee" src="https://gitee.com/mindspore/docs/raw/r1.6/resource/_static/logo_source_en.png" /></a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>Before developing or migrating networks, you need to install MindSpore and learn machine learning knowledge. Users have a choice to buy <em>Introduction to Deep learning with MindSpore</em> to learn related knowledge and visit <a class="reference external" href="https://www.mindspore.cn/en">MindSpore Official website</a> to know how to use MindSpore.</p>
</section>
<section id="installing-mindspore">
<h2>Installing MindSpore<a class="headerlink" href="#installing-mindspore" title="Permalink to this headline"></a></h2>
<p>MindSpore supports installing and running in EulerOS-arm, CentOS-arm, CentOS-x86, Ubuntu-arm, Ubuntu-x86 or Windows-x86 system with Ascend, CPU or GPU environments. You can download packages form <a class="reference external" href="https://www.mindspore.cn/install/en">MindSpore Installationl</a>, and install MindSpore by following the tutorials.</p>
<section id="installing-by-pip">
<h3>Installing by pip<a class="headerlink" href="#installing-by-pip" title="Permalink to this headline"></a></h3>
<p>After downloading the package <code class="docutils literal notranslate"><span class="pre">mindspore_{device}-{version}-{python_version}-{os}_{arch}.whl</span></code> from the official website, please install it by pip.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>mindspore_<span class="o">{</span>device<span class="o">}</span>-<span class="o">{</span>version<span class="o">}</span>-<span class="o">{</span>python_version<span class="o">}</span>-<span class="o">{</span>os<span class="o">}</span>_<span class="o">{</span>arch<span class="o">}</span>.whl
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{python_version}</span></code> spcecifies the python version for which MindSpore is built. If you wish to use Python3.7.5,<code class="docutils literal notranslate"><span class="pre">{python_version}</span></code> should be <code class="docutils literal notranslate"><span class="pre">cp37-cp37m</span></code>. If Python3.9.0 is used, it should be <code class="docutils literal notranslate"><span class="pre">cp39-cp39</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{os</span></code> spcecifies the operation system, such as <code class="docutils literal notranslate"><span class="pre">linux</span></code> or <code class="docutils literal notranslate"><span class="pre">win</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{arch}</span></code> spcecifies the system architecture, such as <code class="docutils literal notranslate"><span class="pre">x86_64</span></code> or <code class="docutils literal notranslate"><span class="pre">amd64</span></code>.</p></li>
</ul>
<p>If an old version of MindSpore exists in the environment, please uninstall it before updating a new version of MindSpore.</p>
</section>
<section id="installing-by-source-code">
<h3>Installing by Source Code<a class="headerlink" href="#installing-by-source-code" title="Permalink to this headline"></a></h3>
<p>You can visit <a class="reference external" href="https://gitee.com/mindspore/mindspore">Repository of Mindspore</a> and download the source code by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://gitee.com/mindspore/mindspore.git</span></code>. A file  <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> in root directory provides several optional parameters, to choose and customize the MindSpore service. The following code is for compiling MindSpore.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>mindspore
bash<span class="w"> </span>build.sh<span class="w"> </span>-e<span class="w"> </span>cpu<span class="w"> </span>-j<span class="o">{</span>thread_num<span class="o">}</span><span class="w"> </span><span class="c1"># cpu</span>
bash<span class="w"> </span>build.sh<span class="w"> </span>-e<span class="w"> </span>ascend<span class="w"> </span>-j<span class="o">{</span>thread_num<span class="o">}</span><span class="w"> </span><span class="c1"># ascend</span>
bash<span class="w"> </span>build.sh<span class="w"> </span>-e<span class="w"> </span>gpu<span class="w"> </span>-j<span class="o">{</span>thread_num<span class="o">}</span><span class="w"> </span><span class="c1"># gpu</span>
</pre></div>
</div>
<p>After successfully compilation, MindSpore install package will be created in <code class="docutils literal notranslate"><span class="pre">output</span></code> directory. Then you can <strong>install it by pip</strong> or <strong>add current directory to PYTHONPATH</strong> to use this package.</p>
<blockquote>
<div><p>Installing by pip is fast and convenient to start.</p>
<p>Installing by source code can customize MindSpore service and change to any commit_id to compile and run MindSpore.</p>
</div></blockquote>
</section>
<section id="configuring-environment-variables-only-for-ascend">
<h3>Configuring Environment Variables (only for Ascend)<a class="headerlink" href="#configuring-environment-variables-only-for-ascend" title="Permalink to this headline"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># control log level. 0-DEBUG, 1-INFO, 2-WARNING, 3-ERROR, 4-CRITICAL, default level is WARNING.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GLOG_v</span><span class="o">=</span><span class="m">2</span>

<span class="c1"># Conda environmental options</span>
<span class="nv">LOCAL_ASCEND</span><span class="o">=</span>/usr/local/Ascend<span class="w"> </span><span class="c1"># the root directory of run package</span>

<span class="c1"># lib libraries that the run package depends on</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/ascend-toolkit/latest/fwkacllib/lib64:<span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/driver/lib64:<span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/opp/op_impl/built-in/ai_core/tbe/op_tiling:<span class="si">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="si">}</span>

<span class="c1"># Environment variables that must be configured</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TBE_IMPL_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/ascend-toolkit/latest/opp/op_impl/built-in/ai_core/tbe<span class="w">            </span><span class="c1"># TBE operator implementation tool path</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ASCEND_OPP_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/ascend-toolkit/latest/opp<span class="w">                                       </span><span class="c1"># OPP path</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">LOCAL_ASCEND</span><span class="si">}</span>/ascend-toolkit/latest/fwkacllib/ccec_compiler/bin/:<span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="w">                 </span><span class="c1"># TBE operator compilation tool path</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="si">${</span><span class="nv">TBE_IMPL_PATH</span><span class="si">}</span>:<span class="si">${</span><span class="nv">PYTHONPATH</span><span class="si">}</span><span class="w">                                                </span><span class="c1"># Python library that TBE implementation depends on</span>
</pre></div>
</div>
</section>
<section id="mindspore-verification">
<h3>Mindspore Verification<a class="headerlink" href="#mindspore-verification" title="Permalink to this headline"></a></h3>
<p>MindSpore is installed successfully if you can run the following code and exit properly.</p>
<p>For CPU:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">Tensor</span>
<span class="kn">import</span> <span class="nn">mindspore.ops</span> <span class="k">as</span> <span class="nn">ops</span>
<span class="kn">import</span> <span class="nn">mindspore.context</span> <span class="k">as</span> <span class="nn">context</span>

<span class="n">context</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="n">device_target</span><span class="o">=</span><span class="s2">&quot;CPU&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>For Ascend:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">Tensor</span>
<span class="kn">import</span> <span class="nn">mindspore.ops</span> <span class="k">as</span> <span class="nn">ops</span>
<span class="kn">import</span> <span class="nn">mindspore.context</span> <span class="k">as</span> <span class="nn">context</span>

<span class="n">context</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="n">device_target</span><span class="o">=</span><span class="s2">&quot;Ascend&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>For GPU:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">Tensor</span>
<span class="kn">import</span> <span class="nn">mindspore.ops</span> <span class="k">as</span> <span class="nn">ops</span>
<span class="kn">import</span> <span class="nn">mindspore.context</span> <span class="k">as</span> <span class="nn">context</span>

<span class="n">context</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="n">device_target</span><span class="o">=</span><span class="s2">&quot;GPU&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
<section id="knowledge-preparation">
<h2>Knowledge Preparation<a class="headerlink" href="#knowledge-preparation" title="Permalink to this headline"></a></h2>
<section id="mindspore-programming-guide">
<h3>MindSpore Programming Guide<a class="headerlink" href="#mindspore-programming-guide" title="Permalink to this headline"></a></h3>
<p>Users can read <a class="reference external" href="https://www.mindspore.cn/docs/programming_guide/en/r1.6/index.html">MindSpore Tutorial</a> to learn how to train, debug, optimize and infer by MindSpore, and read <a class="reference external" href="https://www.mindspore.cn/docs/programming_guide/en/r1.6/index.html">MindSpore Programming Guide</a> to know the fundamental parts and programming methods of MindSpore. Users can also see detailed MindSpore interfaces by referring to <a class="reference external" href="https://www.mindspore.cn/docs/api/en/r1.6/index.html">MindSpore Python API</a>.</p>
</section>
<section id="modelzoo-and-hub">
<h3>ModelZoo and Hub<a class="headerlink" href="#modelzoo-and-hub" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://gitee.com/mindspore/models/tree/master">ModelZoo</a> is a model market of MindSpore and community, which provides deeply-optimized models to developers. In order that the users of MindSpore will have individual development conveniently based on models in ModelZoo. Currently, there are major models in several fields, like computer vision, natural language processing, audio and recommender systems.</p>
<p><a class="reference external" href="https://www.mindspore.cn/resources/hub/en">mindspore Hub</a> is a platform to save pretrained model of official MindSpore or third party developers. It provides some simple and useful APIs for developers to load and finetune models, so that users can infer or tune models based on pretrained models and deploy models to their applications. Users is able to follow some steps to <a class="reference external" href="https://www.mindspore.cn/hub/docs/en/r1.6/publish_model.html">publish model</a> to MindSpore Hub,for other developers to download and use.</p>
</section>
<section id="training-on-the-cloud">
<h3>Training on the Cloud<a class="headerlink" href="#training-on-the-cloud" title="Permalink to this headline"></a></h3>
<p>ModelArts is a one-stop development platform for AI developers, which contains Ascend resource pool. Users can experience MindSpore in this platform and read related document <a class="reference external" href="https://www.mindspore.cn/docs/programming_guide/en/r1.6/use_on_the_cloud.html">MindSpore use_on_the_cloud</a> and <a class="reference external" href="https://support.huaweicloud.com/intl/en-us/wtsnew-modelarts/index.html">AI Platform ModelArts</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="script_analysis.html" class="btn btn-neutral float-right" title="Network Script Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>