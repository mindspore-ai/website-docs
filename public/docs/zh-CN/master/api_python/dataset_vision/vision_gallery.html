

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Illustration of vision transforms &mdash; MindSpore master 文档</title>
  

  
  <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/training.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
   
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/training.js"></script>
        <script src="../../_static/translations.js"></script>
        
        
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">设计</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../design/overview.html">MindSpore设计概览</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/programming_paradigm.html">编程范式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/auto_gradient.html">函数式微分编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/mindir.html">中间表示MindIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/all_scenarios.html">全场景统一</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/dynamic_graph_and_static_graph.html">动静态图结合</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/pluggable_device.html">三方硬件对接</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/distributed_training_design.html">分布式并行</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/graph_fusion_engine.html">图算融合加速引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/data_engine.html">高性能数据处理引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/glossary.html">术语</a></li>
</ul>
<p class="caption"><span class="caption-text">模型库</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../note/official_models.html">官方模型库</a></li>
</ul>
<p class="caption"><span class="caption-text">语法支持</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../note/static_graph_syntax_support.html">静态图语法支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../note/index_support.html">Tensor索引支持</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.html">mindspore.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.ops.html">mindspore.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.ops.primitive.html">mindspore.ops.primitive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.amp.html">mindspore.amp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.train.html">mindspore.train</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.communication.html">mindspore.communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.common.initializer.html">mindspore.common.initializer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.html">mindspore.dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.dataset.transforms.html">mindspore.dataset.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.mindrecord.html">mindspore.mindrecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.nn.probability.html">mindspore.nn.probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.rewrite.html">mindspore.rewrite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.boost.html">mindspore.boost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.numpy.html">mindspore.numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindspore.scipy.html">mindspore.scipy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/master/api_cpp/mindspore.html">C++ API↗</a></li>
</ul>
<p class="caption"><span class="caption-text">API映射</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../note/api_mapping/pytorch_api_mapping.html">PyTorch与MindSpore API映射表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../note/api_mapping/tensorflow_api_mapping.html">TensorFlow与MindSpore API映射表</a></li>
</ul>
<p class="caption"><span class="caption-text">迁移指南</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/overview.html">迁移指南概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/enveriment_preparation.html">环境准备与资料获取</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/analysis_and_preparation.html">模型分析与准备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/model_development/model_development.html">MindSpore网络搭建</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/debug_and_tune.html">调试调优</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/sample_code.html">网络迁移调试实例</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration_guide/faq.html">常见问题</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/data_processing.html">数据处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/implement_problem.html">执行问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/network_compilation.html">网络编译</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/operators_compile.html">算子编译</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/usage_migrate_3rd.html">第三方框架迁移使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/performance_tuning.html">性能调优</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/precision_tuning.html">精度调优</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/distributed_parallel.html">分布式并行</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/inference.html">推理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/feature_advice.html">特性咨询</a></li>
</ul>
<p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../RELEASE.html">Release Notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Illustration of vision transforms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/api_python/dataset_vision/vision_gallery.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="illustration-of-vision-transforms">
<h1>Illustration of vision transforms<a class="headerlink" href="#illustration-of-vision-transforms" title="永久链接至标题">¶</a></h1>
<p><img alt="c36fd8b900814ba5aaba65b82ce7bc7e" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/master/resource/_static/logo_source_en.png" /></p>
<p>This example illustrates the various transforms available in the <a class="reference external" href="https://www.mindspore.cn/docs/en/master/api_python/mindspore.dataset.transforms.html#module-mindspore.dataset.vision">mindspore.dataset.vision</a> module.</p>
<div class="section" id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="永久链接至标题">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">download</span> <span class="kn">import</span> <span class="n">download</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
<span class="kn">import</span> <span class="nn">mindspore.dataset.vision</span> <span class="k">as</span> <span class="nn">vision</span>

<span class="c1"># Download opensource datasets</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://obs.dualstack.cn-north-4.myhuaweicloud.com/mindspore-website/notebook/datasets/flamingos.jpg&quot;</span>
<span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;./flamingos.jpg&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">orig_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;flamingos.jpg&#39;</span><span class="p">)</span>

<span class="c1"># Env set for randomness and prepare plot function</span>
<span class="n">ds</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">66</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="n">imgs</span><span class="p">,</span> <span class="n">first_origin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">num_rows</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">num_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">imgs</span><span class="p">)</span> <span class="o">+</span> <span class="n">first_origin</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">num_cols</span><span class="p">,</span> <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">first_origin</span><span class="p">:</span>
        <span class="n">imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">orig_img</span><span class="p">]</span> <span class="o">+</span> <span class="n">imgs</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">imgs</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">idx</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xticklabels</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticklabels</span><span class="o">=</span><span class="p">[],</span> <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticks</span><span class="o">=</span><span class="p">[])</span>

    <span class="k">if</span> <span class="n">first_origin</span><span class="p">:</span>
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Original image&#39;</span><span class="p">)</span>
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading data from https://obs.dualstack.cn-north-4.myhuaweicloud.com/mindspore-website/notebook/datasets/flamingos.jpg (45 kB)

file_sizes: 100%|███████████████████████████| 45.8k/45.8k [00:00&lt;00:00, 664kB/s]
Successfully downloaded file to ./flamingos.jpg
</pre></div></div>
</div>
</div>
<div class="section" id="geometric-transforms">
<h2>Geometric Transforms<a class="headerlink" href="#geometric-transforms" title="永久链接至标题">¶</a></h2>
<p>Geometric image transformation refers to the process of altering the geometric properties of an image, such as its shape, size, orientation, or position. It involves applying mathematical operations to the image pixels or coordinates to achieve the desired transformation.</p>
<div class="section" id="pad">
<h3>Pad<a class="headerlink" href="#pad" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~.dataset.vision.Pad</span></code> transform pads the borders of image with some pixels.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">padded_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">vision</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">)(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">padding</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">padded_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_4_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_4_0.png" />
</div>
</div>
</div>
<div class="section" id="resize">
<h3>Resize<a class="headerlink" href="#resize" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~.dataset.vision.Resize</span></code> transform resizes an image to a given size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resized_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">vision</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">size</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">resized_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_6_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_6_0.png" />
</div>
</div>
</div>
<div class="section" id="centercrop">
<h3>CenterCrop<a class="headerlink" href="#centercrop" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~.dataset.vision.CenterCrop</span></code> transform crop the image at the center with given size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">center_crops</span> <span class="o">=</span> <span class="p">[</span><span class="n">vision</span><span class="o">.</span><span class="n">CenterCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">size</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">center_crops</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_8_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_8_0.png" />
</div>
</div>
</div>
<div class="section" id="fivecrop">
<h3>FiveCrop<a class="headerlink" href="#fivecrop" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~.dataset.vision.FiveCrop</span></code> transform crops the given image into one central crop and four corners.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">top_left</span><span class="p">,</span> <span class="n">top_right</span><span class="p">,</span> <span class="n">bottom_left</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">,</span> <span class="n">center</span><span class="p">)</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">FiveCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))(</span><span class="n">orig_img</span><span class="p">)</span>
<span class="n">plot</span><span class="p">([</span><span class="n">top_left</span><span class="p">,</span> <span class="n">top_right</span><span class="p">,</span> <span class="n">bottom_left</span><span class="p">,</span> <span class="n">bottom_right</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_10_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_10_0.png" />
</div>
</div>
</div>
<div class="section" id="grayscale">
<h3>Grayscale<a class="headerlink" href="#grayscale" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~.dataset.transforms.Grayscale</span></code> transform converts an image to grayscale.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gray_img</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">Grayscale</span><span class="p">()(</span><span class="n">orig_img</span><span class="p">)</span>
<span class="n">plot</span><span class="p">([</span><span class="n">gray_img</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_12_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_12_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="random-transforms">
<h2>Random transforms<a class="headerlink" href="#random-transforms" title="永久链接至标题">¶</a></h2>
<p>The following transforms are random, which means that the same transformer instance will produce different result each time except for setting a random seed for it.</p>
<div class="section" id="randomcoloradjust">
<h3>RandomColorAdjust<a class="headerlink" href="#randomcoloradjust" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomColorAdjust</span></code> transform randomly changes the brightness, saturation, and other properties of an image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jitter</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomColorAdjust</span><span class="p">(</span><span class="n">brightness</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="mf">.3</span><span class="p">)</span>
<span class="n">jitted_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">jitter</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">jitted_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_14_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_14_0.png" />
</div>
</div>
</div>
<div class="section" id="gaussianblur">
<h3>GaussianBlur<a class="headerlink" href="#gaussianblur" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.GaussianBlur</span></code> transform performs gaussian blur transform on an image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">blurrer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">kernel_size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="n">sigma</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">blurred_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">blurrer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">blurred_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_16_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_16_0.png" />
</div>
</div>
</div>
<div class="section" id="randomperspective">
<h3>RandomPerspective<a class="headerlink" href="#randomperspective" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomPerspective</span></code> transform performs random perspective transform on an image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">perspective_transformer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomPerspective</span><span class="p">(</span><span class="n">distortion_scale</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">prob</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">perspective_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">perspective_transformer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">perspective_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_18_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_18_0.png" />
</div>
</div>
</div>
<div class="section" id="randomrotation">
<h3>RandomRotation<a class="headerlink" href="#randomrotation" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomRotation</span></code> transform rotates an image with random angle.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rotater</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">))</span>
<span class="n">rotated_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">rotater</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">rotated_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_20_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_20_0.png" />
</div>
</div>
</div>
<div class="section" id="randomaffine">
<h3>RandomAffine<a class="headerlink" href="#randomaffine" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomAffine</span></code> transform performs random affine transform on an image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">affine_transformer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">70</span><span class="p">),</span> <span class="n">translate</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">))</span>
<span class="n">affine_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">affine_transformer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">affine_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_22_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_22_0.png" />
</div>
</div>
</div>
<div class="section" id="randomcrop">
<h3>RandomCrop<a class="headerlink" href="#randomcrop" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomCrop</span></code> transform crops an image at a random location.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cropper</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="n">crops</span> <span class="o">=</span> <span class="p">[</span><span class="n">cropper</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">crops</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_24_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_24_0.png" />
</div>
</div>
</div>
<div class="section" id="randomresizedcrop">
<h3>RandomResizedCrop<a class="headerlink" href="#randomresizedcrop" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomResizedCrop</span></code> transform crops an image at a random location, and then resizes the crop to a given size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resize_cropper</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomResizedCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="n">resized_crops</span> <span class="o">=</span> <span class="p">[</span><span class="n">resize_cropper</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">resized_crops</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_26_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_26_0.png" />
</div>
</div>
</div>
<div class="section" id="randominvert">
<h3>RandomInvert<a class="headerlink" href="#randominvert" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomInvert</span></code> transform randomly inverts the colors of the given image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inverter</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomInvert</span><span class="p">()</span>
<span class="n">invertered_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">inverter</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">invertered_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_28_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_28_0.png" />
</div>
</div>
</div>
<div class="section" id="randomposterize">
<h3>RandomPosterize<a class="headerlink" href="#randomposterize" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomPosterize</span></code> transform randomly posterizes the image by reducing the number of bits of each color channel.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">posterizer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomPosterize</span><span class="p">(</span><span class="n">bits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">posterized_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">posterizer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">posterized_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_30_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_30_0.png" />
</div>
</div>
</div>
<div class="section" id="randomsolarize">
<h3>RandomSolarize<a class="headerlink" href="#randomsolarize" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomSolarize</span></code> transform randomly solarizes the image by inverting all pixel values above the threshold.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">solarizer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomSolarize</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">192</span><span class="p">))</span>
<span class="n">solarized_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">solarizer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">solarized_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_32_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_32_0.png" />
</div>
</div>
</div>
<div class="section" id="randomadjustsharpness">
<h3>RandomAdjustSharpness<a class="headerlink" href="#randomadjustsharpness" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomAdjustSharpness</span></code> transform randomly adjusts the sharpness of the given image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sharpness_adjuster</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomAdjustSharpness</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sharpened_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">sharpness_adjuster</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">sharpened_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_34_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_34_0.png" />
</div>
</div>
</div>
<div class="section" id="randomautocontrast">
<h3>RandomAutoContrast<a class="headerlink" href="#randomautocontrast" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomAutoContrast</span></code> transform randomly applies autocontrast to the given image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">autocontraster</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomAutoContrast</span><span class="p">()</span>
<span class="n">autocontrasted_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">autocontraster</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">autocontrasted_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_36_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_36_0.png" />
</div>
</div>
</div>
<div class="section" id="randomequalize">
<h3>RandomEqualize<a class="headerlink" href="#randomequalize" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomEqualize</span></code> transform randomly equalizes the histogram of the given image.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">equalizer</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomEqualize</span><span class="p">()</span>
<span class="n">equalized_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">equalizer</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">equalized_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_38_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_38_0.png" />
</div>
</div>
</div>
<div class="section" id="randaugment">
<h3>RandAugment<a class="headerlink" href="#randaugment" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandAugment</span></code> transform automatically augments the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">augmenter</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandAugment</span><span class="p">()</span>
<span class="n">imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">augmenter</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_40_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_40_0.png" />
</div>
</div>
</div>
<div class="section" id="trivialaugmentwide">
<h3>TrivialAugmentWide<a class="headerlink" href="#trivialaugmentwide" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.TrivialAugmentWide</span></code> transform automatically augments the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">augmenter</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">TrivialAugmentWide</span><span class="p">()</span>
<span class="n">imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">augmenter</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_42_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_42_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="randomly-applied-transforms">
<h2>Randomly-applied transforms<a class="headerlink" href="#randomly-applied-transforms" title="永久链接至标题">¶</a></h2>
<p>Some transforms are randomly-applied with a probability. That is, the transformed image may be the same as the original one.</p>
<div class="section" id="randomhorizontalflip">
<h3>RandomHorizontalFlip<a class="headerlink" href="#randomhorizontalflip" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomHorizontalFlip</span></code> transformperforms horizontal flip of an image, with a given probability.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hflipper</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomHorizontalFlip</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">transformed_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">hflipper</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">transformed_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_44_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_44_0.png" />
</div>
</div>
</div>
<div class="section" id="randomverticalflip">
<h3>RandomVerticalFlip<a class="headerlink" href="#randomverticalflip" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomVerticalFlip</span></code> transform performs vertical flip of an image, with a given probability.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vflipper</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">RandomVerticalFlip</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">transformed_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">vflipper</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">transformed_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_46_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_46_0.png" />
</div>
</div>
</div>
<div class="section" id="randomapply">
<h3>RandomApply<a class="headerlink" href="#randomapply" title="永久链接至标题">¶</a></h3>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">~dataset.vision.RandomApply</span></code> transform randomly applies a list of transforms, with a given probability.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore.dataset.transforms</span> <span class="k">as</span> <span class="nn">T</span>

<span class="n">applier</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">RandomApply</span><span class="p">(</span><span class="n">transforms</span><span class="o">=</span><span class="p">[</span><span class="n">vision</span><span class="o">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">))],</span> <span class="n">prob</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">transformed_imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">applier</span><span class="p">(</span><span class="n">orig_img</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">plot</span><span class="p">(</span><span class="n">transformed_imgs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_48_0.png" src="../../_images/api_python_dataset_vision_vision_gallery_48_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="process-image-file-in-pipeline">
<h2>Process Image File in pipeline<a class="headerlink" href="#process-image-file-in-pipeline" title="永久链接至标题">¶</a></h2>
<p>Use the :class:<code class="docutils literal notranslate"><span class="pre">~mindspore.dataset.ImageFolderDataset</span></code> to read image content into dataset pipeline and then we can do further transforms based on pipeline.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>

<span class="c1"># Download a small imagenet as example</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/notebook/datasets/imageset.zip&quot;</span>
<span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s2">&quot;./&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># There are 5 classes in the image folder.</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;./imageset&quot;</span><span class="p">)</span>

<span class="c1"># Load these 5 classes into dataset pipeline</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ImageFolderDataset</span><span class="p">(</span><span class="s2">&quot;./imageset&quot;</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># check the column names inside the dataset. &quot;image&quot; column represents the image content and &quot;label&quot; column represents the corresponding label of image.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;column names:&quot;</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_col_names</span><span class="p">())</span>

<span class="c1"># since the original image is not decoded, apply decode first on &quot;image&quot; column</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">vision</span><span class="o">.</span><span class="n">Decode</span><span class="p">(),</span> <span class="n">input_columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">])</span>

<span class="c1"># check results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&gt;&gt;&gt; after decode&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

<span class="c1"># let&#39;s do some transforms on dataset</span>
<span class="c1"># apply resize on images</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">vision</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">48</span><span class="p">)),</span> <span class="n">input_columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">])</span>

<span class="c1"># check results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&gt;&gt;&gt; after resize&quot;</span><span class="p">)</span>
<span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">image</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
    <span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">asnumpy</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

<span class="n">plot</span><span class="p">(</span><span class="n">images</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="n">first_origin</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading data from https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/notebook/datasets/imageset.zip (45 kB)

file_sizes: 100%|███████████████████████████| 45.7k/45.7k [00:00&lt;00:00, 868kB/s]
Extracting zip file...
Successfully downloaded / unzipped to ./
column names: [&#39;image&#39;, &#39;label&#39;]
&gt;&gt;&gt;&gt;&gt; after decode
(64, 64, 3) 0
(64, 64, 3) 0
(64, 64, 3) 0
(64, 64, 3) 1
(64, 64, 3) 1
(64, 64, 3) 1
(64, 64, 3) 1
(64, 64, 3) 2
(64, 64, 3) 2
(64, 64, 3) 2
(64, 64, 3) 3
(64, 64, 3) 3
(64, 64, 3) 3
(64, 64, 3) 4
(64, 64, 3) 4
(64, 64, 3) 4
&gt;&gt;&gt;&gt;&gt; after resize
(48, 48, 3) 0
(48, 48, 3) 0
(48, 48, 3) 0
(48, 48, 3) 1
(48, 48, 3) 1
(48, 48, 3) 1
(48, 48, 3) 1
(48, 48, 3) 2
(48, 48, 3) 2
(48, 48, 3) 2
(48, 48, 3) 3
(48, 48, 3) 3
(48, 48, 3) 3
(48, 48, 3) 4
(48, 48, 3) 4
(48, 48, 3) 4
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/api_python_dataset_vision_vision_gallery_50_1.svg" src="../../_images/api_python_dataset_vision_vision_gallery_50_1.svg" /></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2022, MindSpore.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   
	<script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>