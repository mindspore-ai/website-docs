<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yaml Detail Configuration Items &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script src="../_static/js/theme.js"></script>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Device-side Client" href="../cross_device.html" />
    <link rel="prev" title="Federated-Server" href="federated_server.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../federated_install.html">Obtaining MindSpore Federated</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy_federated_server.html">Horizontal Federated Cloud-based Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy_federated_client.html">Horizontal Federated Device-side Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy_vfl.html">Vertical Federated Deployment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Horizontal Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../image_classfication_dataset_process.html">Federated Learning Image Classification Dataset Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image_classification_application.html">Implementing an Image Classification Application of Cross-device Federated Learning (x86)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sentiment_classification_application.html">Implementing a Sentiment Classification Application (Android)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image_classification_application_in_cross_silo.html">Implementing a Cloud-Slio Federated Image Classification Application (x86)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object_detection_application_in_cross_silo.html">Implementing a Cross-Silo Federated Target Detection Application (x86)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vertical Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data_join.html">Vertical Federated Learning Data Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../split_wnd_application.html">Vertical Federated Learning Model Training - Wide&amp;Deep Recommendation Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../split_pangu_alpha_application.html">Vertical Federated Learning Model Training - Pangu Alpha Large Model Cross-Domain Training</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Security and Privacy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../local_differential_privacy_training_noise.html">Horizontal FL-Local Differential Privacy Perturbation Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../local_differential_privacy_training_signds.html">Horizontal FL-Local Differential Privacy SignDS training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../local_differential_privacy_eval_laplace.html">Horizontal Federated-Local Differential Privacy Inference Result Protection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pairwise_encryption_training.html">Horizontal FL-Pairwise encryption training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../private_set_intersection.html">Vertical Federated-Privacy Set Intersection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../secure_vertical_federated_learning_with_EmbeddingDP.html">Vertical Federated-Feature Protection Based on Information Obfuscation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../secure_vertical_federated_learning_with_TEE.html">Vertical Federated - Feature Protection Based on Trusted Execution Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../secure_vertical_federated_learning_with_DP.html">Vertical Federated - Label Protection Based on Differential Privacy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Communication Compression</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../communication_compression.html">Device-Cloud Federated Learning Communication Compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vfl_communication_compress.html">Vertical Federated Learning Communication Compression</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Horizontal Federated API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../horizontal_server.html">Federated Server</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="federated_server.html">Federated-Server</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Yaml Detail Configuration Items</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cross_device.html">Device-side Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross_silo.html">Cross-Silo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vertical Federated API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Data_Join.html">Data Join</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vertical/vertical_communicator.html">Vertical Federated Learning Communicator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vertical_federated_trainer.html">Vertical Federated Trainer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../horizontal_server.html">Federated Server</a> &raquo;</li>
      <li>Yaml Detail Configuration Items</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/horizontal/federated_server_yaml.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="yaml-detail-configuration-items">
<h1>Yaml Detail Configuration Items<a class="headerlink" href="#yaml-detail-configuration-items" title="Permalink to this headline"></a></h1>
<p>The configuration of the parameters for the existing federation learning is based on the yaml configuration file, and different configurations need to be set on specific roles. For details, check the following table.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function classification</p></th>
<th class="head"><p>Configuration parameters</p></th>
<th class="head"><p>Federal Learning Roles</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global</p></td>
<td><p>checkpoint_dir</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>fl_name</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>fl_iteration_num</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>server_mode</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>enable_ssl</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p>distributed_cache</p></td>
<td><p>type</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>address</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>plugin_lib_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>cacert_filename</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>capath</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>cert_filename</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>private_key_filename</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>server_name</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p>round</p></td>
<td><p>start_fl_job_threshold</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>start_fl_job_time_window</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>update_model_ratio</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>update_model_time_window</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>global_iteration_time_window</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p>summary</p></td>
<td><p>metrics_file</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>failure_event_file</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>continuous_failure_times</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>data_rate_dir</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>participation_time_level</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p>encrypt</p></td>
<td><p>encrypt_train_type</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>pw_encrypt.share_secrets_ratio</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>pw_encrypt.cipher_time_window</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>pw_encrypt.reconstruct_secrets_threshold</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>dp_encrypt.dp_eps</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>dp_encrypt.dp_delta</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>dp_encrypt.dp_norm_clip</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>signds.sign_k</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>signds.sign_eps</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>signds.sign_thr_ratio</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>signds.sign_global_lr</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>signds.sign_dim_out</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p>compression</p></td>
<td><p>upload_compress_type</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>upload_sparse_rate</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>download_compress_type</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p>ssl</p></td>
<td><p>server_cert_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>client_cert_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>ca_cert_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>crl_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>cipher_list</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>cert_expire_warning_time_in_day</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p>client_verify</p></td>
<td><p>pki_verify</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>root_first_ca_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>root_second_ca_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>equip_crl_path</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>replay_attack_time_diff</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p>client</p></td>
<td><p>http_url_prefix</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>client_epoch_num</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>client_batch_size</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>client_learning_rate</p></td>
<td><p>server</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>connection_num</p></td>
<td><p>server</p></td>
</tr>
</tbody>
</table>
<p>which:</p>
<ul class="simple">
<li><p><strong>checkpoint_dir</strong> (str) - The directory where the server reads and saves model files. Default: <code class="docutils literal notranslate"><span class="pre">'.</span> <span class="pre">/fl_ckpt/'</span></code>.</p></li>
<li><p><strong>fl_name</strong> (str) - The name of the federal learning job. Default: <code class="docutils literal notranslate"><span class="pre">'Lenet'</span></code>.</p></li>
<li><p><strong>fl_iteration_num</strong> (int) - The number of iterations of federated learning, i.e. the number of client-server interactions. Default: <code class="docutils literal notranslate"><span class="pre">20</span></code>.</p></li>
<li><p><strong>server_mode</strong> (str) - Describes the server mode. it must be one of <code class="docutils literal notranslate"><span class="pre">'FEDERATED_LEARNING'</span></code> and <code class="docutils literal notranslate"><span class="pre">'HYBRID_TRAINING'</span></code>.</p></li>
<li><p><strong>enable_ssl</strong> (bool) - Sets federated learning to enable SSL secure communication. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>type</strong> (str) - The distributed cache database to use, default: <code class="docutils literal notranslate"><span class="pre">'redis'</span></code>.</p></li>
<li><p><strong>address</strong> - (str) - Sets the address of the distributed cache database in the format ip:port, Default: <code class="docutils literal notranslate"><span class="pre">'127.0.0.1:</span> <span class="pre">2345'</span></code>.</p></li>
<li><p><strong>plugin_lib_path</strong> (str) - The path to the third-party plugin. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>cacert_filename</strong> (str) - Configured when ssl=true, path to root certificate file, default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>capath</strong> (str) - Root certificate file path default, Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>cert_filename</strong> (str) - The path to the root certificate file, Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>private_key_filename</strong> (str) - Path of certificate private key file, Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>server_name</strong> (str) - Server name, Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>start_fl_job_threshold</strong> (int) - The threshold count for opening a federal learning job. Default: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>start_fl_job_time_window</strong> (int) - The duration of the time window in milliseconds to start a federated learning job. Default: <code class="docutils literal notranslate"><span class="pre">300000</span></code>.</p></li>
<li><p><strong>update_model_ratio</strong> (float) - The ratio to calculate the update model threshold count. Default: <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p><strong>update_model_time_window</strong> (int) - The duration of the time window for updating the model, in milliseconds. Default: <code class="docutils literal notranslate"><span class="pre">300000</span></code>.</p></li>
<li><p><strong>metrics_file</strong> (str) - Information for recording training metrics for metrics cluster runs, Default: <code class="docutils literal notranslate"><span class="pre">&quot;metrics.json&quot;</span></code>.</p></li>
<li><p><strong>failure_event_file</strong> (str) - Path to the cluster exception event file, Default: <code class="docutils literal notranslate"><span class="pre">&quot;event.txt&quot;</span></code>.</p></li>
<li><p><strong>continuous_failure_times</strong> (int) - The number of failed iterations greater than this parameter to count failed events, Default: <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>data_rate_dir</strong> (str) - The path to the cluster traffic statistics file , Default: <code class="docutils literal notranslate"><span class="pre">&quot;...&quot;.</span> <span class="pre">.&quot;</span></code>.</p></li>
<li><p><strong>participation_time_level</strong> (str) - Traffic statistics time interval, Default: <code class="docutils literal notranslate"><span class="pre">&quot;5,15&quot;</span></code>.</p></li>
<li><p><strong>encrypt_train_type</strong> (str) - The security policy used for federation learning, can be <code class="docutils literal notranslate"><span class="pre">'NOT_ENCRYPT'</span></code>, <code class="docutils literal notranslate"><span class="pre">'DP_ENCRYPT'</span></code>, <code class="docutils literal notranslate"><span class="pre">'PW_ENCRYPT'</span></code>, <code class="docutils literal notranslate"><span class="pre">'STABLE_PW_ENCRYPT'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'SIGNDS'</span></code>. If <code class="docutils literal notranslate"><span class="pre">'DP_ENCRYPT'</span></code>, the differential privacy mode will be applied to the client and the privacy protection effect will be determined by dp_eps, dp_delta, dp_norm_clip as described above. If <code class="docutils literal notranslate"><span class="pre">'PW_ENCRYPT'</span></code>, pairwise (PW) security aggregation will be applied to protect the client model from being stolen in cross-device scenarios. If <code class="docutils literal notranslate"><span class="pre">'STABLE_PW_ENCRYPT'</span></code>, pairwise security aggregation will be applied to protect the client model from theft in a cloud federation scenario. If <code class="docutils literal notranslate"><span class="pre">'SIGNDS'</span></code>, the SignDS policy will be used on the client. -based Dimension Selection](<a class="reference external" href="https://dl.acm.org/doi/abs/10.1145/3517820">https://dl.acm.org/doi/abs/10.1145/3517820</a>). Default: <code class="docutils literal notranslate"><span class="pre">'NOT_ENCRYPT'</span></code>.</p></li>
<li><p><strong>share_secrets_ratio</strong> (float) - PW: The percentage of clients participating in secret sharing. Default: <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p><strong>cipher_time_window</strong> (int) - PW: duration of the time window for each encryption round in milliseconds. Default: <code class="docutils literal notranslate"><span class="pre">300000</span></code>.</p></li>
<li><p><strong>reconstruct_secrets_threshold</strong> (int) - PW: The threshold for secret reconstruction. Default: <code class="docutils literal notranslate"><span class="pre">2000</span></code>.</p></li>
<li><p><strong>dp_eps</strong> (float) - DP: epsilon budget of the differential privacy mechanism. The smaller the dp_eps, the better the privacy protection. Default value: <code class="docutils literal notranslate"><span class="pre">50.0</span></code>.</p></li>
<li><p><strong>dp_delta</strong> (float) - DP: The delta budget of the differential privacy mechanism, usually equal to the inverse of the number of clients. the smaller the dp_delta, the better the privacy protection. Default: <code class="docutils literal notranslate"><span class="pre">0.01</span></code>.</p></li>
<li><p><strong>dp_norm_clip</strong> (float) - DP: control factor for differential privacy gradient clipping. The recommended value is 0.5~2. Default: <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p><strong>sign_k</strong> (float) - SignDS: Top-k ratio, i.e., the number of Top-k dimensions divided by the total number of dimensions. Recommended values are in the range of (0, 0.25]. Default: <code class="docutils literal notranslate"><span class="pre">0.01</span></code>.</p></li>
<li><p><strong>sign_eps</strong> (float) - SignDS: privacy budget. The smaller the value, the stronger the privacy protection, and the lower the precision. Recommended values are in the range (0, 100]. Default value: <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></li>
<li><p><strong>sign_thr_ratio</strong> (float) - SignDS: The threshold value for the expected Top-k dimension. Recommended values are in the range [0.5, 1]. Default: <code class="docutils literal notranslate"><span class="pre">0.6</span></code>.</p></li>
<li><p><strong>sign_global_lr</strong> (float) - SignDS: Constant value assigned to the selected dimension. Moderately increasing this value will improve the convergence speed, but may explode the model gradient. The value must be greater than 0. Default: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>sign_dim_out</strong> (int) - SignDS: the number of output dimensions. Recommended values are in the range [0, 50]. Default: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>upload_compress_type</strong> (str) - Upload compression method. Can be <code class="docutils literal notranslate"><span class="pre">'NO_COMPRESS'</span></code> or <code class="docutils literal notranslate"><span class="pre">'DIFF_SPARSE_QUANT'</span></code>. If it is <code class="docutils literal notranslate"><span class="pre">'NO_COMPRESS'</span></code>, no compression is applied to the uploaded model. If it is <code class="docutils literal notranslate"><span class="pre">'DIFF_SPARSE_QUANT'</span></code>, the uploaded model is compressed using the weight difference + sparse + quantized compression strategy. Default value: <code class="docutils literal notranslate"><span class="pre">'NO_COMPRESS'</span></code>.</p></li>
<li><p><strong>upload_sparse_rate</strong> (float) - The upload compression sparsity rate. The larger the sparse rate, the smaller the compression rate. Value range: (0, 1.0]. Default: <code class="docutils literal notranslate"><span class="pre">0.4</span></code>.</p></li>
<li><p><strong>download_compress_type</strong> (str) - The download compression method. Can be ‘NO_COMPRESS’ or ‘QUANT’. If it is ‘NO_COMPRESS’, the downloaded model will not be compressed. If it is ‘QUANT’, the quantitative compression strategy is used for the downloaded models. Default: <code class="docutils literal notranslate"><span class="pre">'NO_COMPRESS'</span></code>.</p></li>
<li><p><strong>server_cert_path</strong> (str) - The path to the cloud-side server certificate file, Default: <code class="docutils literal notranslate"><span class="pre">'server.p12'</span></code>.</p></li>
<li><p><strong>client_cert_path</strong> (str) - Cloud-side client certificate file path, Default: <code class="docutils literal notranslate"><span class="pre">&quot;client.p12&quot;</span></code>.</p></li>
<li><p><strong>ca_cert_path</strong> (str) - The path to the cloud-side root certificate file, Default: <code class="docutils literal notranslate"><span class="pre">&quot;ca.crt&quot;</span></code>.</p></li>
<li><p><strong>crl_path</strong> (str) - The path to the cloud-side crl certificate file, Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>cipher_list</strong> (str) - The cipher suite supported by cloud-side ssl, Default: <code class="docutils literal notranslate"><span class="pre">&quot;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:</span> <span class="pre">ecdhe-ecdsa-aes256-gcm-sha384:ecdhe-rsa-chacha20-poly1305:ecdhe-psk-chacha20-poly1305:ecdhe-ecdsa-aes128-ccm:ecdhe-ecdsa-aes256-</span> <span class="pre">CCM:ECDHE-ECDSA-CHACHA20-POLY1305&quot;</span></code>.</p></li>
<li><p><strong>cert_expire_warning_time_in_day</strong> (int) - Time to prompt before the cloud-side certificate expires, Default: <code class="docutils literal notranslate"><span class="pre">90</span></code>.</p></li>
<li><p><strong>pki_verify</strong> (bool) - If <code class="docutils literal notranslate"><span class="pre">True</span></code>, authentication between server and client will be turned on. Root CA certificate, Root CA G2 certificate and mobile device CRL certificate should also be downloaded from <a class="reference external" href="https://pki.consumer.huawei.com/ca/">Huawei CBG Digital Certificate Download Management Center</a>. Note that <code class="docutils literal notranslate"><span class="pre">pki_verify</span></code> can be <code class="docutils literal notranslate"><span class="pre">True</span></code> only if the client is an Android environment with HUKS service. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>root_first_ca_path</strong> (str) - The file path of the Root CA certificate. This value needs to be set when <code class="docutils literal notranslate"><span class="pre">pki_verify</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>root_second_ca_path</strong> (str) - The file path of the Root CA G2 certificate. This value needs to be set when <code class="docutils literal notranslate"><span class="pre">pki_verify</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>equip_crl_path</strong> (str) - The file path of the mobile device CRL certificate. This value needs to be set when <code class="docutils literal notranslate"><span class="pre">pki_verify</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>replay_attack_time_diff</strong> (int) - The maximum tolerable error (in milliseconds) for certificate timestamp verification. Default: <code class="docutils literal notranslate"><span class="pre">600000</span></code>.</p></li>
<li><p><strong>http_url_prefix</strong> (str) - Sets the http path to the federal learning end cloud communication. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>.</p></li>
<li><p><strong>client_epoch_num</strong> (int) - The number of client training epochs. Default: <code class="docutils literal notranslate"><span class="pre">25</span></code>.</p></li>
<li><p><strong>client_batch_size</strong> (int) - The number of client training data batches. Default: <code class="docutils literal notranslate"><span class="pre">32</span></code>.</p></li>
<li><p><strong>client_learning_rate</strong> (float) - The client training learning rate. Default: <code class="docutils literal notranslate"><span class="pre">0.001</span></code>.</p></li>
<li><p><strong>connection_num</strong> (int) - Maximum number of tcp links that can be established on the cloud side, Default: <code class="docutils literal notranslate"><span class="pre">10000</span></code>.</p></li>
</ul>
<p>The following yaml configuration of Lenet is provided as an example reference.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">fl_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Lenet</span>
<span class="nt">fl_iteration_num</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25</span>
<span class="nt">server_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FEDERATED_LEARNING</span>
<span class="nt">enable_ssl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="nt">distributed_cache</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class="w">  </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.113.216.40:23456</span>
<span class="w">  </span><span class="nt">plugin_lib_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="nt">round</span><span class="p">:</span>
<span class="w">  </span><span class="nt">start_fl_job_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">start_fl_job_time_window</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30000</span>
<span class="w">  </span><span class="nt">update_model_ratio</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">  </span><span class="nt">update_model_time_window</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30000</span>
<span class="w">  </span><span class="nt">global_iteration_time_window</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60000</span>

<span class="nt">summary</span><span class="p">:</span>
<span class="w">  </span><span class="nt">metrics_file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;metrics.json&quot;</span>
<span class="w">  </span><span class="nt">failure_event_file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;event.txt&quot;</span>
<span class="w">  </span><span class="nt">continuous_failure_times</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">data_rate_dir</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;..&quot;</span>
<span class="w">  </span><span class="nt">participation_time_level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;5,15&quot;</span>

<span class="nt">encrypt</span><span class="p">:</span>
<span class="w">  </span><span class="nt">encrypt_train_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NOT_ENCRYPT</span>
<span class="w">  </span><span class="nt">pw_encrypt</span><span class="p">:</span>
<span class="w">    </span><span class="nt">share_secrets_ratio</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">    </span><span class="nt">cipher_time_window</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span>
<span class="w">    </span><span class="nt">reconstruct_secrets_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">dp_encrypt</span><span class="p">:</span>
<span class="w">    </span><span class="nt">dp_eps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span>
<span class="w">    </span><span class="nt">dp_delta</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">    </span><span class="nt">dp_norm_clip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">  </span><span class="nt">signds</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sign_k</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">    </span><span class="nt">sign_eps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">    </span><span class="nt">sign_thr_ratio</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>
<span class="w">    </span><span class="nt">sign_global_lr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">    </span><span class="nt">sign_dim_out</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="nt">compression</span><span class="p">:</span>
<span class="w">  </span><span class="nt">upload_compress_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NO_COMPRESS</span>
<span class="w">  </span><span class="nt">upload_sparse_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.4</span>
<span class="w">  </span><span class="nt">download_compress_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NO_COMPRESS</span>

<span class="nt">ssl</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># when ssl_config is set</span>
<span class="w">  </span><span class="c1"># for tcp/http server</span>
<span class="w">  </span><span class="nt">server_cert_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;server.p12&quot;</span>
<span class="w">  </span><span class="c1"># for tcp client</span>
<span class="w">  </span><span class="nt">client_cert_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;client.p12&quot;</span>
<span class="w">  </span><span class="c1"># common</span>
<span class="w">  </span><span class="nt">ca_cert_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ca.crt&quot;</span>
<span class="w">  </span><span class="nt">crl_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">cipher_list</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-PSK-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-CCM:ECDHE-ECDSA-AES256-CCM:ECDHE-ECDSA-CHACHA20-POLY1305&quot;</span>
<span class="w">  </span><span class="nt">cert_expire_warning_time_in_day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span>

<span class="nt">client_verify</span><span class="p">:</span>
<span class="w">  </span><span class="nt">pki_verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">root_first_ca_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">root_second_ca_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">equip_crl_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">replay_attack_time_diff</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600000</span>

<span class="nt">client</span><span class="p">:</span>
<span class="w">  </span><span class="nt">http_url_prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">client_epoch_num</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">  </span><span class="nt">client_batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
<span class="w">  </span><span class="nt">client_learning_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">  </span><span class="nt">connection_num</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="federated_server.html" class="btn btn-neutral float-left" title="Federated-Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../cross_device.html" class="btn btn-neutral float-right" title="Device-side Client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>