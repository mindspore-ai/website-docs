<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MSContext &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script>
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" /><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script><script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script><script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script><script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MSTensor" href="mstensor.html" />
    <link rel="prev" title="ModelParallelRunner" href="model_parallel_runner.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_api.html">mindspore::api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_api_utils.html">mindspore::api::utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_converter.html">mindspore::converter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset.html">mindspore::dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_config.html">mindspore::dataset::config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_text.html">mindspore::dataset::text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_transforms.html">mindspore::dataset::transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_vision.html">mindspore::dataset::vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_kernel.html">mindspore::kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_ops.html">mindspore::ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_registry.html">mindspore::registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_registry_opencl.html">mindspore::registry::opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/lite_cpp_example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JAVA API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="class_list.html">Class List</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_parallel_runner.html">ModelParallelRunner</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MSContext</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#public-member-functions">Public Member Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#init">init</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adddeviceinfo">addDeviceInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getmscontextptr">getMSContextPtr</a></li>
<li class="toctree-l2"><a class="reference internal" href="#free">free</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setthreadnum">setThreadNum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getthreadnum">getThreadNum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setinteropparallelnum">setInterOpParallelNum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getinteropparallelnum">getInterOpParallelNum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setthreadaffinity">setThreadAffinity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getthreadaffinitymode">getThreadAffinityMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setthreadaffinity-1">setThreadAffinity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getthreadaffinitycorelist">getThreadAffinityCoreList</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setenableparallel">setEnableParallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getenableparallel">getEnableParallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#devicetype">DeviceType</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#public-member-variable">Public member variable</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cpubindmode">CpuBindMode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#public-member-variable-1">Public member variable</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mstensor.html">MSTensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner_config.html">RunnerConfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="lite_java_example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mindspore_lite.html">mindspore_lite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_c/context_c.html">context_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/data_type_c.html">data_type_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/format_c.html">format_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/model_c.html">model_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/tensor_c.html">tensor_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/types_c.html">types_c</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>MSContext</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_java/mscontext.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mscontext">
<h1>MSContext<a class="headerlink" href="#mscontext" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.10/docs/lite/api/source_en/api_java/mscontext.md"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.10/resource/_static/logo_source_en.png" /></a></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.mindspore.config.MSContext</span><span class="p">;</span>
</pre></div>
</div>
<p>MSContext is defined for holding environment variables during runtime.</p>
<section id="public-member-functions">
<h2>Public Member Functions<a class="headerlink" href="#public-member-functions" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#init"><span class="std std-doc">boolean init()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#init"><span class="std std-doc">boolean init(int threadNum, int cpuBindMode)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#init"><span class="std std-doc">boolean init(int threadNum, int cpuBindMode, boolean isEnableParallel)</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#adddeviceinfo"><span class="std std-doc">boolean addDeviceInfo(int deviceType, boolean isEnableFloat16)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#adddeviceinfo"><span class="std std-doc">boolean addDeviceInfo(int deviceType, boolean isEnableFloat16, int npuFreq)</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setenableparallel"><span class="std std-doc">void setThreadNum(int threadNum)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getenableparallel"><span class="std std-doc">int getThreadNum()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setinteropparallelnum"><span class="std std-doc">void setInterOpParallelNum(int parallelNum)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getinteropparallelnum"><span class="std std-doc">int getInterOpParallelNum()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setthreadaffinity"><span class="std std-doc">void setThreadAffinity(int mode)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getthreadaffinitycorelist"><span class="std std-doc">int getThreadAffinityMode()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setthreadaffinity-1"><span class="std std-doc">void setThreadAffinity(ArrayList&lt;Integer&gt; coreList)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getthreadaffinitycorelist"><span class="std std-doc">ArrayList&lt;Integer&gt; getThreadAffinityCoreList()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setenableparallel"><span class="std std-doc">void setEnableParallel(boolean isParallel)</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getenableparallel"><span class="std std-doc">boolean getEnableParallel()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#free"><span class="std std-doc">void free()</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getmscontextptr"><span class="std std-doc">long getMSContextPtr()</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#devicetype"><span class="std std-doc">DeviceType</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cpubindmode"><span class="std std-doc">CpuBindMode</span></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="init">
<h2>init<a class="headerlink" href="#init" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span>
</pre></div>
</div>
<p>Use default parameters initialize MSContext, use two thread, no bind, no parallel.</p>
<ul>
<li><p>Returns</p>
<p>Whether the initialization is successful.</p>
</li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">threadNum</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">cpuBindMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize MSContext for cpu.</p>
<ul>
<li><p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">threadNum</span></code>: Thread number config for thread pool.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cpuBindMode</span></code>: A <strong><a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.10/mindspore/lite/java/src/main/java/com/mindspore/config/CpuBindMode.java">CpuBindMode</a></strong> <strong>enum</strong> variable.</p></li>
</ul>
</li>
<li><p>Returns</p>
<p>Whether the initialization is successful.</p>
</li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">threadNum</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">cpuBindMode</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isEnableParallel</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize MSContext.</p>
<ul>
<li><p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">threadNum</span></code>: Thread number config for thread pool.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cpuBindMode</span></code>: A <strong><a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.10/mindspore/lite/java/src/main/java/com/mindspore/config/CpuBindMode.java">CpuBindMode</a></strong> <strong>enum</strong> variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isEnableParallel</span></code>: Is enable parallel in different device.</p></li>
</ul>
</li>
<li><p>Returns</p>
<p>Whether the initialization is successful.</p>
</li>
</ul>
</section>
<section id="adddeviceinfo">
<h2>addDeviceInfo<a class="headerlink" href="#adddeviceinfo" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">addDeviceInfo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">deviceType</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isEnableFloat16</span><span class="p">)</span>
</pre></div>
</div>
<p>Add device info for mscontext.</p>
<ul>
<li><p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceType</span></code>: A <strong><a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.10/mindspore/lite/java/src/main/java/com/mindspore/config/DeviceType.java">DeviceType</a></strong> <strong>enum</strong> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isEnableFloat16</span></code>: Is enable fp16.</p></li>
</ul>
</li>
<li><p>Returns</p>
<p>Whether the device info add is successful.</p>
</li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">boolean</span><span class="w"> </span><span class="nf">addDeviceInfo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">deviceType</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isEnableFloat16</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">npuFreq</span><span class="p">)</span>
</pre></div>
</div>
<p>Add device info for mscontext.</p>
<ul>
<li><p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceType</span></code>: A <strong><a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.10/mindspore/lite/java/src/main/java/com/mindspore/config/DeviceType.java">DeviceType</a></strong> <strong>enum</strong> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isEnableFloat16</span></code>: is enable fp16.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npuFreq</span></code>: Npu frequency.</p></li>
</ul>
</li>
<li><p>Returns</p>
<p>Whether the device info add is successful.</p>
</li>
</ul>
</section>
<section id="getmscontextptr">
<h2>getMSContextPtr<a class="headerlink" href="#getmscontextptr" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">getMSContextPtr</span><span class="p">()</span>
</pre></div>
</div>
<p>Get MSContext pointer.</p>
<ul>
<li><p>Returns</p>
<p>The MSContext pointer.</p>
</li>
</ul>
</section>
<section id="free">
<h2>free<a class="headerlink" href="#free" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">free</span><span class="p">()</span>
</pre></div>
</div>
<p>Free the memory allocated for MSContext.</p>
</section>
<section id="setthreadnum">
<h2>setThreadNum<a class="headerlink" href="#setthreadnum" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setThreadNum</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">threadNum</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets the number of threads at runtime. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul class="simple">
<li><p>Parameters</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">threadNum</span></code>: Number of threads at runtime.</p></li>
</ul>
</li>
</ul>
</section>
<section id="getthreadnum">
<h2>getThreadNum<a class="headerlink" href="#getthreadnum" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getThreadNum</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the current thread number setting. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul>
<li><p>Returns</p>
<p>The current thread number setting.</p>
</li>
</ul>
</section>
<section id="setinteropparallelnum">
<h2>setInterOpParallelNum<a class="headerlink" href="#setinteropparallelnum" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setInterOpParallelNum</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">parallelNum</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the parallel number of operators at runtime. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul class="simple">
<li><p>Parameters</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">parallelNum</span></code>: the parallel number of operators at runtime.</p></li>
</ul>
</li>
</ul>
</section>
<section id="getinteropparallelnum">
<h2>getInterOpParallelNum<a class="headerlink" href="#getinteropparallelnum" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">getInterOpParallelNum</span><span class="p">()</span>
</pre></div>
</div>
<p>et the current operators parallel number setting. Only valid for Lite.
If MSContext is not initialized, this function will return -1 and output null pointer information in the log.</p>
<ul>
<li><p>Returns</p>
<p>The current operators parallel number setting.</p>
</li>
</ul>
</section>
<section id="setthreadaffinity">
<h2>setThreadAffinity<a class="headerlink" href="#setthreadaffinity" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setThreadAffinity</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the thread affinity to CPU cores. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul class="simple">
<li><p>Parameters</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code>: 0, no affinities; 1, big cores first; 2, little cores first.</p></li>
</ul>
</li>
</ul>
</section>
<section id="getthreadaffinitymode">
<h2>getThreadAffinityMode<a class="headerlink" href="#getthreadaffinitymode" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getThreadAffinityMode</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the thread affinity of CPU cores. Only valid for Lite.
If MSContext is not initialized, this function will return -1 and output null pointer information in the log.</p>
<ul>
<li><p>Returns</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Thread affinity to CPU cores. 0, no affinities; 1, big cores first; 2, little cores first.
</pre></div>
</div>
</li>
</ul>
</section>
<section id="setthreadaffinity-1">
<h2>setThreadAffinity<a class="headerlink" href="#setthreadaffinity-1" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setThreadAffinity</span><span class="p">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">coreList</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the thread lists to CPU cores, if two different <code class="docutils literal notranslate"><span class="pre">setThreadAffinity</span></code> are set for a single MSContext at the same time，only <code class="docutils literal notranslate"><span class="pre">coreList</span></code> will take effect and <code class="docutils literal notranslate"><span class="pre">mode</span></code> will not. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul class="simple">
<li><p>Parameters</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">coreList</span></code>:  An Arraylist of thread core list.</p></li>
</ul>
</li>
</ul>
</section>
<section id="getthreadaffinitycorelist">
<h2>getThreadAffinityCoreList<a class="headerlink" href="#getthreadaffinitycorelist" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getThreadAffinityCoreList</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the thread lists of CPU cores. Only valid for Lite.
If MSContext is not initialized, this function will retutn an empty Arraylist and output null pointer information in the log.</p>
<ul>
<li><p>Returns</p>
<p>An Arraylist of thread core list.</p>
</li>
</ul>
</section>
<section id="setenableparallel">
<h2>setEnableParallel<a class="headerlink" href="#setenableparallel" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setEnableParallel</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">isParallel</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the status whether to perform model inference or training in parallel. Only valid for Lite.
If MSContext is not initialized, this function will do nothing and output null pointer information in the log.</p>
<ul class="simple">
<li><p>Parameters</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">isParallel</span></code>: true, parallel; false, not in parallel.</p></li>
</ul>
</li>
</ul>
</section>
<section id="getenableparallel">
<h2>getEnableParallel<a class="headerlink" href="#getenableparallel" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">boolean</span><span class="w"> </span><span class="nf">getEnableParallel</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the status whether to perform model inference or training in parallel. Only valid for Lite.
If MSContext is not initialized, this function will return <code class="docutils literal notranslate"><span class="pre">false</span></code> and output null pointer information in the log.</p>
<ul>
<li><p>Returns</p>
<p>Bool value that indicates whether in parallel. true, parallel; false, not in parallel.</p>
</li>
</ul>
</section>
<section id="devicetype">
<h2>DeviceType<a class="headerlink" href="#devicetype" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.mindspore.config.DeviceType</span><span class="p">;</span>
</pre></div>
</div>
<p>Define device type.</p>
<section id="public-member-variable">
<h3>Public member variable<a class="headerlink" href="#public-member-variable" title="Permalink to this headline"></a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DT_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DT_GPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DT_NPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p>The value of DeviceType is 0, and the specified device type is CPU.</p>
<p>The value of DeviceType is 1, and the specified device type is GPU.</p>
<p>The value of DeviceType is 2, and the specified device type is NPU.</p>
</section>
</section>
<section id="cpubindmode">
<h2>CpuBindMode<a class="headerlink" href="#cpubindmode" title="Permalink to this headline"></a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.mindspore.config.CpuBindMode</span><span class="p">;</span>
</pre></div>
</div>
<p>Define CPU core bind mode.</p>
<section id="public-member-variable-1">
<h3>Public member variable<a class="headerlink" href="#public-member-variable-1" title="Permalink to this headline"></a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MID_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">HIGHER_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">NO_BIND</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>The value of CpuBindMode is 2, and the middle core is bound first.</p>
<p>The value of CpuBindMode is 1, and higher cores are bound first.</p>
<p>The value of CpuBindMode is 0, and no core is bound.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model_parallel_runner.html" class="btn btn-neutral float-left" title="ModelParallelRunner" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mstensor.html" class="btn btn-neutral float-right" title="MSTensor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>