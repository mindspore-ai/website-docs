<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mindspore_lite.Converter &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script>
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" /><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script><script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script><script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script><script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mindspore_lite.Model" href="mindspore_lite.Model.html" />
    <link rel="prev" title="mindspore_lite.FmkType" href="mindspore_lite.FmkType.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_api.html">mindspore::api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_api_utils.html">mindspore::api::utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_converter.html">mindspore::converter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset.html">mindspore::dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_config.html">mindspore::dataset::config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_text.html">mindspore::dataset::text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_transforms.html">mindspore::dataset::transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_dataset_vision.html">mindspore::dataset::vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_kernel.html">mindspore::kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_ops.html">mindspore::ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_registry.html">mindspore::registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/mindspore_registry_opencl.html">mindspore::registry::opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_cpp/lite_cpp_example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JAVA API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_java/class_list.html">Class List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/model_parallel_runner.html">ModelParallelRunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/mscontext.html">MSContext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/mstensor.html">MSTensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/runner_config.html">RunnerConfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/graph.html">Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/lite_java_example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../mindspore_lite.html">mindspore_lite</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../mindspore_lite.html#context">Context</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../mindspore_lite.html#converter">Converter</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mindspore_lite.FmkType.html">mindspore_lite.FmkType</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">mindspore_lite.Converter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mindspore_lite.html#model">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mindspore_lite.html#tensor">Tensor</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_c/context_c.html">context_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/data_type_c.html">data_type_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/format_c.html">format_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/model_c.html">model_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/tensor_c.html">tensor_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/types_c.html">types_c</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_c/lite_c_example.html">Example</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../mindspore_lite.html">mindspore_lite</a> &raquo;</li>
      <li>mindspore_lite.Converter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/mindspore_lite/mindspore_lite.Converter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mindspore-lite-converter">
<h1>mindspore_lite.Converter<a class="headerlink" href="#mindspore-lite-converter" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="mindspore_lite.Converter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindspore_lite.</span></span><span class="sig-name descname"><span class="pre">Converter</span></span><a class="reference internal" href="../_modules/mindspore_lite/converter.html#Converter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore_lite.Converter" title="Permalink to this definition"></a></dt>
<dd><p>Constructs a <cite>Converter</cite> class.</p>
<p>Used in the following scenarios:</p>
<ol class="arabic simple">
<li><p>Convert the third-party model into MindSpore model or MindSpore Lite model.</p></li>
<li><p>Convert MindSpore model into MindSpore model or MindSpore Lite model.</p></li>
</ol>
<p>Convert to MindSpore model is recommended. Currently, Convert to MindSpore Lite model is supported,
but it will be deprecated in the future. If you want to convert to MindSpore Lite model, please use
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/cloud_infer/converter_tool.html">converter_tool</a>  instead of
The Python interface. The Model api and ModelParallelRunner api only support MindSpore model.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please construct the <cite>Converter</cite> class first, and then generate the model by executing the Converter.convert()
method.</p>
<p>The encryption and decryption function is only valid when it is set to <cite>MSLITE_ENABLE_MODEL_ENCRYPTION=on</cite> at
compile time, and only supports Linux x86 platforms. <cite>decrypt_key</cite> and <cite>encrypt_key</cite> are string expressed in
hexadecimal. For example, if <cite>encrypt_key</cite> is set as <code class="docutils literal notranslate"><span class="pre">&quot;30313233343637383939414243444546&quot;</span></code>, the corresponding
hexadecimal expression is <code class="docutils literal notranslate"><span class="pre">(b)0123456789ABCDEF</span></code> . Linux platform users can use the’ xxd ‘tool to convert the
key expressed in bytes into hexadecimal expressions. It should be noted that the encryption and decryption
algorithm has been updated in version 1.7, resulting in the new Python interface does not support the conversion
of MindSpore Lite’s encryption exported models in version 1.6 and earlier.</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># testcase based on cloud inference package.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore_lite</span> <span class="k">as</span> <span class="nn">mslite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">Converter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The ms model may be generated only after converter.convert() is executed after the class is constructed.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">weight_fp16</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">input_shape</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;inTensor1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">input_format</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">Format</span><span class="o">.</span><span class="n">NHWC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">input_data_type</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">output_data_type</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">save_type</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">ModelType</span><span class="o">.</span><span class="n">MINDIR</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">decrypt_key</span> <span class="o">=</span> <span class="s2">&quot;30313233343637383939414243444546&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">decrypt_mode</span> <span class="o">=</span> <span class="s2">&quot;AES-GCM&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">enable_encryption</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">encrypt_key</span> <span class="o">=</span> <span class="s2">&quot;30313233343637383939414243444546&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">infer</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">optimize</span> <span class="o">=</span> <span class="s2">&quot;general&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">device</span> <span class="o">=</span> <span class="s2">&quot;Ascend&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="s2">&quot;common_quant_param&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_info_in</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;quant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;WEIGHT_QUANT&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">set_config_info</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">config_info_in</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">converter</span><span class="o">.</span><span class="n">get_config_info</span><span class="p">())</span>
<span class="go">{&#39;common_quant_param&#39;: {&#39;quant_type&#39;: &#39;WEIGHT_QUANT&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">converter</span><span class="p">)</span>
<span class="go">config_info: {&#39;common_quant_param&#39;: {&#39;quant_type&#39;: &#39;WEIGHT_QUANT&#39;}},</span>
<span class="go">weight_fp16: True,</span>
<span class="go">input_shape: {&#39;inTensor1&#39;: [1, 3, 32, 32]},</span>
<span class="go">input_format: Format.NHWC,</span>
<span class="go">input_data_type: DataType.FLOAT32,</span>
<span class="go">output_data_type: DataType.FLOAT32,</span>
<span class="go">save_type: ModelType.MINDIR,</span>
<span class="go">decrypt_key: 30313233343637383939414243444546,</span>
<span class="go">decrypt_mode: AES-GCM,</span>
<span class="go">enable_encryption: True,</span>
<span class="go">encrypt_key: 30313233343637383939414243444546,</span>
<span class="go">infer: True,</span>
<span class="go">optimize: general,</span>
<span class="go">device: Ascend.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindspore_lite.Converter.convert">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmk_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore_lite/converter.html#Converter.convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore_lite.Converter.convert" title="Permalink to this definition"></a></dt>
<dd><p>Perform conversion, and convert the third-party model to the MindSpore model or MindSpore Lite model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmk_type</strong> (<a class="reference internal" href="mindspore_lite.FmkType.html#mindspore_lite.FmkType" title="mindspore_lite.FmkType"><em>FmkType</em></a>) – Input model framework type. Options are <code class="docutils literal notranslate"><span class="pre">FmkType.TF</span></code> , <code class="docutils literal notranslate"><span class="pre">FmkType.CAFFE</span></code> ,
<code class="docutils literal notranslate"><span class="pre">FmkType.ONNX</span></code> , <code class="docutils literal notranslate"><span class="pre">FmkType.MINDIR</span></code> , <code class="docutils literal notranslate"><span class="pre">FmkType.TFLITE</span></code> , <code class="docutils literal notranslate"><span class="pre">FmkType.PYTORCH</span></code>. For details, see
<a class="reference external" href="https://mindspore.cn/lite/api/en/r2.2/mindspore_lite/mindspore_lite.FmkType.html">FmkType</a> .</p></li>
<li><p><strong>model_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the path of the input model when convert. For example,
<code class="docutils literal notranslate"><span class="pre">&quot;/home/user/model.prototxt&quot;</span></code>. Options are TF: <code class="docutils literal notranslate"><span class="pre">&quot;model.pb&quot;</span></code> , CAFFE: <code class="docutils literal notranslate"><span class="pre">&quot;model.prototxt&quot;</span></code> ,
ONNX: <code class="docutils literal notranslate"><span class="pre">&quot;model.onnx&quot;</span></code> , MINDIR: <code class="docutils literal notranslate"><span class="pre">&quot;model.mindir&quot;</span></code> , TFLITE: <code class="docutils literal notranslate"><span class="pre">&quot;model.tflite&quot;</span></code> ,
PYTORCH: <code class="docutils literal notranslate"><span class="pre">&quot;model.pt</span> <span class="pre">or</span> <span class="pre">model.pth&quot;</span></code>.</p></li>
<li><p><strong>output_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the path of the output model. The suffix .ms or .mindir can be automatically
generated. If set <cite>save_type</cite> to <code class="docutils literal notranslate"><span class="pre">ModelType.MINDIR</span></code>, then MindSpore’s model will be generated,
which uses .mindir as suffix. If set <cite>save_type</cite> to <code class="docutils literal notranslate"><span class="pre">ModelType.MINDIR_LITE</span></code>, then MindSpore Lite’s
model will be generated, which uses .ms as suffix. For example, the input model is
“/home/user/model.prototxt”, set <cite>save_type</cite> to ModelType.MINDIR, it will generate the model
named model.prototxt.mindir in /home/user/.</p></li>
<li><p><strong>weight_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Set the path of input model weight file. Required only when <cite>fmk_type</cite> is
<code class="docutils literal notranslate"><span class="pre">FmkType.CAFFE</span></code>. The Caffe model is generally divided into two files: <cite>model.prototxt</cite>
is model structure, corresponding to <cite>model_file</cite> parameter; <cite>model.Caffemodel</cite> is model weight
value file, corresponding to <cite>weight_file</cite> parameter. For example,
<code class="docutils literal notranslate"><span class="pre">&quot;/home/user/model.caffemodel&quot;</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, indicating no weight file.</p></li>
<li><p><strong>config_file</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Set the path of the configuration file of Converter can be used to
post-training, offline split op to parallel, disable op fusion ability and set plugin so path.
<cite>config_file</cite> uses the <cite>key = value</cite> method to define the related parameters.
For the configuration parameters related to post training quantization, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/post_training_quantization.html">quantization</a> .
For the configuration parameters related to extension, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/nnie.html#extension-configuration">extension</a> .
For example, “/home/user/model.cfg”. Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, indicating that no configuration file.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>fmk_type</cite> is not a FmkType.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>model_file</cite> is not a str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>output_file</cite> is not a str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>weight_file</cite> is not a str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>config_file</cite> is not a str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – <cite>model_file</cite> does not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – <cite>weight_file</cite> is not <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, but <cite>weight_file</cite> does not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – <cite>config_file</cite> is not <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, but <cite>config_file</cite> does not exist.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – convert model failed.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore_lite</span> <span class="k">as</span> <span class="nn">mslite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">Converter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">save_type</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">ModelType</span><span class="o">.</span><span class="n">MINDIR</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">mslite</span><span class="o">.</span><span class="n">FmkType</span><span class="o">.</span><span class="n">TFLITE</span><span class="p">,</span> <span class="s2">&quot;./mobilenetv2/mobilenet_v2_1.0_224.tflite&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s2">&quot;mobilenet_v2_1.0_224.tflite&quot;</span><span class="p">)</span>
<span class="go">CONVERT RESULT SUCCESS:0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># mobilenet_v2_1.0_224.tflite.mindir model will be generated.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.decrypt_key">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decrypt_key</span></span><a class="headerlink" href="#mindspore_lite.Converter.decrypt_key" title="Permalink to this definition"></a></dt>
<dd><p>Get the key used to decrypt the encrypted MindIR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, the key used to decrypt the encrypted MindIR file, expressed in hexadecimal characters. Only valid when
<cite>fmk_type</cite> is <code class="docutils literal notranslate"><span class="pre">FmkType.MINDIR</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.decrypt_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decrypt_mode</span></span><a class="headerlink" href="#mindspore_lite.Converter.decrypt_mode" title="Permalink to this definition"></a></dt>
<dd><p>Get decryption mode for the encrypted MindIR file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, decryption mode for the encrypted MindIR file. Only valid when dec_key is set.
Options are <code class="docutils literal notranslate"><span class="pre">&quot;AES-GCM&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;AES-CBC&quot;</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.device">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><a class="headerlink" href="#mindspore_lite.Converter.device" title="Permalink to this definition"></a></dt>
<dd><p>Get target device when converter model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, target device when converter model. Only valid for Ascend. The use case is when on the Ascend device,
if you need to the converted model to have the ability to use Ascend backend to perform inference,
you can set the parameter. If it is not set, the converted model will use CPU backend to perform
inference by default. Option is <code class="docutils literal notranslate"><span class="pre">&quot;Ascend&quot;</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.device_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device_id</span></span><a class="headerlink" href="#mindspore_lite.Converter.device_id" title="Permalink to this definition"></a></dt>
<dd><p>Get device id of device target.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, device id of device target.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.enable_encryption">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">enable_encryption</span></span><a class="headerlink" href="#mindspore_lite.Converter.enable_encryption" title="Permalink to this definition"></a></dt>
<dd><p>Get the status whether to encrypt the model when exporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, whether to encrypt the model when exporting. Export encryption can protect the integrity of the model,
but it will increase the initialization time at runtime.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.encrypt_key">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encrypt_key</span></span><a class="headerlink" href="#mindspore_lite.Converter.encrypt_key" title="Permalink to this definition"></a></dt>
<dd><p>Get the key used to encrypt the model when exporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, the key used to encrypt the model when exporting, expressed in hexadecimal characters. Only support to
use it when <cite>decrypt_mode</cite> is <code class="docutils literal notranslate"><span class="pre">&quot;AES-GCM&quot;</span></code>, the key length is 16.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore_lite.Converter.get_config_info">
<span class="sig-name descname"><span class="pre">get_config_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore_lite/converter.html#Converter.get_config_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore_lite.Converter.get_config_info" title="Permalink to this definition"></a></dt>
<dd><p>Get config info of converter.It is used together with <cite>set_config_info</cite> method for online converter.
Please use <cite>set_config_info</cite> method before <cite>get_config_info</cite> .</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict{str:</span> <span class="pre">dict{str:</span> <span class="pre">str}}</span></code>, the config info which has been set in converter.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore_lite</span> <span class="k">as</span> <span class="nn">mslite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">Converter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="s2">&quot;common_quant_param&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_info_in</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;quant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;WEIGHT_QUANT&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">set_config_info</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">config_info_in</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_info_out</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">get_config_info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config_info_out</span><span class="p">)</span>
<span class="go">{&#39;common_quant_param&#39;: {&#39;quant_type&#39;: &#39;WEIGHT_QUANT&#39;}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.infer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">infer</span></span><a class="headerlink" href="#mindspore_lite.Converter.infer" title="Permalink to this definition"></a></dt>
<dd><p>Get the status whether to perform pre-inference at the completion of the conversion.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, whether to perform pre-inference at the completion of the conversion.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.input_data_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_data_type</span></span><a class="headerlink" href="#mindspore_lite.Converter.input_data_type" title="Permalink to this definition"></a></dt>
<dd><p>Get the data type of the quantization model input Tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>DataType, the data type of the quantization model input Tensor. It is only valid when the quantization
parameters ( <cite>scale</cite> and <cite>zero point</cite> ) of the model input Tensor are available. The following 4
DataTypes are supported: <code class="docutils literal notranslate"><span class="pre">DataType.FLOAT32</span></code> , <code class="docutils literal notranslate"><span class="pre">DataType.INT8</span></code> , <code class="docutils literal notranslate"><span class="pre">DataType.UINT8</span></code> ,
<code class="docutils literal notranslate"><span class="pre">DataType.UNKNOWN</span></code>. For details, see
<a class="reference external" href="https://mindspore.cn/lite/api/en/r2.2/mindspore_lite/mindspore_lite.DataType.html">DataType</a> .</p>
<ul class="simple">
<li><p>DataType.FLOAT32: 32-bit floating-point number.</p></li>
<li><p>DataType.INT8:    8-bit integer.</p></li>
<li><p>DataType.UINT8:   unsigned 8-bit integer.</p></li>
<li><p>DataType.UNKNOWN: Set the Same DataType as the model input Tensor.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.input_format">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_format</span></span><a class="headerlink" href="#mindspore_lite.Converter.input_format" title="Permalink to this definition"></a></dt>
<dd><p>Get the input format of model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>Format, the input format of model. Only Valid for 4-dimensional input. The following 2 input formats are
supported: <code class="docutils literal notranslate"><span class="pre">Format.NCHW</span></code>, <code class="docutils literal notranslate"><span class="pre">Format.NHWC</span></code>. For details,
see <a class="reference external" href="https://mindspore.cn/lite/api/en/r2.2/mindspore_lite/mindspore_lite.Format.html">Format</a> .</p>
<ul class="simple">
<li><p>Format.NCHW: Store Tensor data in the order of batch N, channel C, height H and width W.</p></li>
<li><p>Format.NHWC: Store Tensor data in the order of batch N, height H, width W and channel C.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.input_shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_shape</span></span><a class="headerlink" href="#mindspore_lite.Converter.input_shape" title="Permalink to this definition"></a></dt>
<dd><p>Get the dimension of the model input.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>dict{str, list[int]}, the dimension of the model input. The order of input dimensions is consistent with the
original model. In the following scenarios, users may need to set the parameter.
For example, {“inTensor1”: [1, 32, 32, 32], “inTensor2”: [1, 1, 32, 32]}. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>,
equivalent to {}.</p>
<ul class="simple">
<li><p>Usage 1:The input of the model to be converted is dynamic shape, but prepare to use fixed shape for
inference, then set the parameter to fixed shape. After setting, when inferring on the converted
model, the default input shape is the same as the parameter setting, no need to resize.</p></li>
<li><p>Usage 2: No matter whether the original input of the model to be converted is dynamic shape or not,
but prepare to use fixed shape for inference, and the performance of the model is expected to be
optimized as much as possible, then set the parameter to fixed shape. After setting, the model
structure will be further optimized, but the converted model may lose the characteristics of dynamic
shape(some operators strongly related to shape will be merged).</p></li>
<li><p>Usage 3: When using the converter function to generate code for Micro inference execution, it is
recommended to set the parameter to reduce the probability of errors during deployment. When the model
contains a Shape ops or the input of the model to be converted is a dynamic shape, you must set the
parameter to fixed shape to support the relevant shape optimization and code generation.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.optimize">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">optimize</span></span><a class="headerlink" href="#mindspore_lite.Converter.optimize" title="Permalink to this definition"></a></dt>
<dd><p>Get the status whether avoid fusion optimization.</p>
<p>optimize is used to set the mode of optimization during the offline conversion. If this property is set to
<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, no relevant graph optimization operations will be performed during the offline conversion phase of
the model, and the relevant graph optimization operations will be performed during the execution of the
inference phase. The advantage of this property is that the converted model can be deployed directly to any
CPU/GPU/Ascend hardware backend since it is not optimized in a specific way, while the disadvantage is that
the initialization time of the model increases during inference execution. If this property is set to
<code class="docutils literal notranslate"><span class="pre">&quot;general&quot;</span></code>, general optimization will be performed, such as constant folding and operator fusion (the
converted model only supports CPU/GPU hardware backend, not Ascend backend). If this property is set to
<code class="docutils literal notranslate"><span class="pre">&quot;gpu_oriented&quot;</span></code>, the general optimization and extra optimization for GPU hardware will be performed (the
converted model only supports GPU hardware backend). If this property is set to <code class="docutils literal notranslate"><span class="pre">&quot;ascend_oriented&quot;</span></code>, the
optimization for Ascend hardware will be performed (the converted model only supports Ascend hardware backend).</p>
<p>For the MindSpore model, since it is already a <cite>mindir</cite> model, two approaches are suggested:</p>
<ol class="arabic simple">
<li><p>Inference is performed directly without offline conversion.</p></li>
</ol>
<p>2. When using offline conversion, setting optimize to <code class="docutils literal notranslate"><span class="pre">&quot;general&quot;</span></code> in <cite>CPU/GPU</cite> hardware backend (for general
optimization), setting optimize to <code class="docutils literal notranslate"><span class="pre">&quot;gpu_oriented&quot;</span></code> in <cite>GPU</cite> hardware (for GPU extra optimization based on
general optimization), setting optimize to <code class="docutils literal notranslate"><span class="pre">&quot;ascend_oriented&quot;</span></code> in <cite>Ascend</cite> hardware.
The relevant optimization is done in the offline phase to reduce the initialization time of inference execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, whether avoid fusion optimization. Options are <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code> , <code class="docutils literal notranslate"><span class="pre">&quot;general&quot;</span></code> , <code class="docutils literal notranslate"><span class="pre">&quot;gpu_oriented&quot;</span></code> ,
<code class="docutils literal notranslate"><span class="pre">&quot;ascend_oriented&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code> means fusion optimization is not allowed. <code class="docutils literal notranslate"><span class="pre">&quot;general&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;gpu_oriented&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;ascend_oriented&quot;</span></code> means fusion optimization is allowed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.output_data_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_data_type</span></span><a class="headerlink" href="#mindspore_lite.Converter.output_data_type" title="Permalink to this definition"></a></dt>
<dd><p>Get the data type of the quantization model output Tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>DataType, the data type of the quantization model output Tensor. It is only valid when the quantization
parameters ( <cite>scale</cite> and <cite>zero point</cite> ) of the model output Tensor are available. The following 4
DataTypes are supported: <code class="docutils literal notranslate"><span class="pre">DataType.FLOAT32</span></code> , <code class="docutils literal notranslate"><span class="pre">DataType.INT8</span></code> , <code class="docutils literal notranslate"><span class="pre">DataType.UINT8</span></code> ,
<code class="docutils literal notranslate"><span class="pre">DataType.UNKNOWN</span></code>.
For details, see
<a class="reference external" href="https://mindspore.cn/lite/api/en/r2.2/mindspore_lite/mindspore_lite.DataType.html">DataType</a> .</p>
<ul class="simple">
<li><p>DataType.FLOAT32: 32-bit floating-point number.</p></li>
<li><p>DataType.INT8:    8-bit integer.</p></li>
<li><p>DataType.UINT8:   unsigned 8-bit integer.</p></li>
<li><p>DataType.UNKNOWN: Set the Same DataType as the model output Tensor.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.rank_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rank_id</span></span><a class="headerlink" href="#mindspore_lite.Converter.rank_id" title="Permalink to this definition"></a></dt>
<dd><p>Get rank id of device target.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, rank id of device target.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.save_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">save_type</span></span><a class="headerlink" href="#mindspore_lite.Converter.save_type" title="Permalink to this definition"></a></dt>
<dd><p>Get the model type needs to be export.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ModelType, the model type needs to be export. Options are <code class="docutils literal notranslate"><span class="pre">ModelType.MINDIR</span></code> , <code class="docutils literal notranslate"><span class="pre">ModelType.MINDIR_LITE</span></code>.
Convert to MindSpore model is recommended. Currently, Convert to MindSpore Lite model is supported,
but it will be deprecated in the future. For details, see
<a class="reference external" href="https://mindspore.cn/lite/api/en/r2.2/mindspore_lite/mindspore_lite.ModelType.html">ModelType</a> .</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindspore_lite.Converter.set_config_info">
<span class="sig-name descname"><span class="pre">set_config_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mindspore_lite/converter.html#Converter.set_config_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindspore_lite.Converter.set_config_info" title="Permalink to this definition"></a></dt>
<dd><p>Set config info for Converter.It is used together with <cite>get_config_info</cite> method for online converter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>section</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – <p>The category of the configuration parameter.
Set the individual parameters of the configfile together with <cite>config_info</cite> .
For example, for <cite>section</cite> = <code class="docutils literal notranslate"><span class="pre">&quot;common_quant_param&quot;</span></code>, <cite>config_info</cite> = {“quant_type”: “WEIGHT_QUANT”}.
Default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> .</p>
<p>For the configuration parameters related to post training quantization, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/post_training_quantization.html">quantization</a> .</p>
<p>For the configuration parameters related to extension, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/nnie.html#extension-configuration">extension</a> .</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;common_quant_param&quot;</span></code>: Common quantization parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;mixed_bit_weight_quant_param&quot;</span></code>: Mixed bit weight quantization parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;full_quant_param&quot;</span></code>: Full quantization parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;data_preprocess_param&quot;</span></code>: Data preprocess quantization parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;registry&quot;</span></code>: Extension configuration parameter.</p></li>
</ul>
</p></li>
<li><p><strong>config_info</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict{str:</span> <span class="pre">str}</span></code>, optional) – <p>List of configuration parameters.
Set the individual parameters of the configfile together with <cite>section</cite> .
For example, for <cite>section</cite> = <code class="docutils literal notranslate"><span class="pre">&quot;common_quant_param&quot;</span></code>, <cite>config_info</cite> = {“quant_type”: “WEIGHT_QUANT”}.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> is equivalent to {}.</p>
<p>For the configuration parameters related to post training quantization, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/post_training_quantization.html">quantization</a> .</p>
<p>For the configuration parameters related to extension, please refer to
<a class="reference external" href="https://www.mindspore.cn/lite/docs/en/r2.2/use/nnie.html#extension-configuration">extension</a> .</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>section</cite> is not a str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>config_info</cite> is not a dict .</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>config_info</cite> is a dict, but the keys are not str.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – <cite>config_info</cite> is a dict, the keys are str, but the values are not str.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore_lite</span> <span class="k">as</span> <span class="nn">mslite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span> <span class="o">=</span> <span class="n">mslite</span><span class="o">.</span><span class="n">Converter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="s2">&quot;common_quant_param&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;quant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;WEIGHT_QUANT&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span><span class="o">.</span><span class="n">set_config_info</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">config_info</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindspore_lite.Converter.weight_fp16">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">weight_fp16</span></span><a class="headerlink" href="#mindspore_lite.Converter.weight_fp16" title="Permalink to this definition"></a></dt>
<dd><p>Get the status whether the model will be saved as the Float16 data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, whether the model will be saved as the Float16 data type. If it is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the const Tensor of the
Float32 in the model will be saved as the Float16 data type during Converter, and the generated model
size will be compressed. Then, according to <cite>Context.CPU</cite> ‘s <cite>precision_mode</cite> parameter determines the
inputs’ data type to perform inference. The priority of <cite>weight_fp16</cite> is very low. For example, if
quantization is enabled, for the weight of the quantized, <cite>weight_fp16</cite> will not take effect again.
<cite>weight_fp16</cite> only effective for the const Tensor in Float32 data type.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mindspore_lite.FmkType.html" class="btn btn-neutral float-left" title="mindspore_lite.FmkType" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mindspore_lite.Model.html" class="btn btn-neutral float-right" title="mindspore_lite.Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>