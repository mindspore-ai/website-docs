<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mindspore::lite &mdash; MindSpore Lite master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mindspore::session" href="session.html" />
    <link rel="prev" title="mindspore::dataset::vision" href="vision.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore Lite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="class_list.html">类列表</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindspore.html">mindspore</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html">mindspore::dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="vision.html">mindspore::dataset::vision</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindspore::lite</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#allocator">Allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#context">Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">构造函数和析构函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">~Context</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id4">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vendor-name">vendor_name_</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thread-num">thread_num_</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-list">device_list_</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model">Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">析构函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">~Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id8">公有成员函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#destroy">Destroy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#free">Free</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">静态公有成员函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#import">Import</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cpubindmode">CpuBindMode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mid-cpu">MID_CPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="#higher-cpu">HIGHER_CPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-bind">NO_BIND</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#devicetype">DeviceType</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dt-cpu">DT_CPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dt-gpu">DT_GPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dt-npu">DT_NPU</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version">Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stringstomstensor">StringsToMSTensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mstensortostrings">MSTensorToStrings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#devicecontextvector">DeviceContextVector</a></li>
<li class="toctree-l2"><a class="reference internal" href="#devicecontext">DeviceContext</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#device-type">device_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-info">device_info_</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deviceinfo">DeviceInfo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cpu-device-info">cpu_device_info_</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gpu-device-info">gpu_device_info_</a></li>
<li class="toctree-l4"><a class="reference internal" href="#npu-device-info">npu_device_info_</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cpudeviceinfo">CpuDeviceInfo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#public-attributes">Public Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable-float16">enable_float16_</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cpu-bind-mode">cpu_bind_mode_</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gpudeviceinfo">GpuDeviceInfo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id15">enable_float16_</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#npudeviceinfo">NpuDeviceInfo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#frequency">frequency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trainmodel">TrainModel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">析构函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id18">~TrainModel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id19">公有成员函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id20">Import</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exportbuf">ExportBuf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">Free</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id22">公有属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#buf-size">buf_size_</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="session.html">mindspore::session</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensor.html">mindspore::tensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="errorcode_and_metatype.html">错误码及元类型</a></li>
<li class="toctree-l1"><a class="reference internal" href="lite_cpp_example.html">样例</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JAVA API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_java/class_list.html">类列表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/lite_session.html">LiteSession</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/msconfig.html">MSConfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/mstensor.html">MSTensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_java/lite_java_example.html">样例</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore Lite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>mindspore::lite</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_cpp/lite.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mindspore-lite">
<h1>mindspore::lite<a class="headerlink" href="#mindspore-lite" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.3/docs/lite/api/source_zh_cn/api_cpp/lite.md"><img alt="查看源文件" src="https://gitee.com/mindspore/docs/raw/r1.3/resource/_static/logo_source.png" /></a></p>
<section id="allocator">
<h2>Allocator<a class="headerlink" href="#allocator" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>Allocator类定义了一个内存池，用于动态地分配和释放内存。</p>
</section>
<section id="context">
<h2>Context<a class="headerlink" href="#context" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>Context类用于保存执行中的环境变量。</p>
<section id="id1">
<h3>构造函数和析构函数<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<section id="id2">
<h4>Context<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Context</span><span class="p">()</span>
</pre></div>
</div>
<p>用默认参数构造MindSpore Lite Context 对象。</p>
</section>
<section id="id3">
<h4>~Context<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">Context</span><span class="p">()</span>
</pre></div>
</div>
<p>MindSpore Lite Context 的析构函数。</p>
</section>
</section>
<section id="id4">
<h3>公有属性<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<section id="vendor-name">
<h4>vendor_name_<a class="headerlink" href="#vendor-name" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vendor_name_</span>
</pre></div>
</div>
<p><strong>string</strong>值，芯片厂商名字，用于区别不同的芯片厂商。</p>
</section>
<section id="thread-num">
<h4>thread_num_<a class="headerlink" href="#thread-num" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">thread_num_</span>
</pre></div>
</div>
<p><strong>int</strong>值，默认为<strong>2</strong>，设置线程数。</p>
</section>
<section id="id5">
<h4>allocator<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">allocator</span>
</pre></div>
</div>
<p><strong>pointer</strong>类型，指向内存分配器 <a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#allocator"><strong>Allocator</strong></a> 的指针。</p>
</section>
<section id="device-list">
<h4>device_list_<a class="headerlink" href="#device-list" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">device_list_</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#devicecontextvector"><strong>DeviceContextVector</strong></a> 类型, 元素为 <a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#devicecontext"><strong>DeviceContext</strong></a> 的<strong>vector</strong>.</p>
<blockquote>
<div><p>现在支持CPU、GPU和NPU。如果设置了GPU设备环境变量并且设备支持GPU，优先使用GPU设备，否则优先使用CPU设备。如果设置了NPU设备环境变量并且设备支持NPU，优先使用NPU设备，否则优先使用CPU设备。</p>
</div></blockquote>
</section>
</section>
</section>
<section id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/model.h">model.h</a>&gt;</p>
<p>Model定义了MindSpore Lite中的模型，便于计算图管理。</p>
<section id="id6">
<h3>析构函数<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<section id="id7">
<h4>~Model<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">Model</span><span class="p">()</span>
</pre></div>
</div>
<p>MindSpore Lite Model的析构函数。</p>
</section>
</section>
<section id="id8">
<h3>公有成员函数<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<section id="destroy">
<h4>Destroy<a class="headerlink" href="#destroy" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">Destroy</span><span class="p">()</span>
</pre></div>
</div>
<p>释放Model内的所有过程中动态分配的内存。</p>
</section>
<section id="free">
<h4>Free<a class="headerlink" href="#free" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">Free</span><span class="p">()</span>
</pre></div>
</div>
<p>释放MindSpore Lite Model中的MetaGraph，用于减小运行时的内存。</p>
</section>
</section>
<section id="id9">
<h3>静态公有成员函数<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<section id="import">
<h4>Import<a class="headerlink" href="#import" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">Model</span><span class="w"> </span><span class="o">*</span><span class="n">Import</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">model_buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>创建Model指针的静态方法。</p>
<ul>
<li><p>参数</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_buf</span></code>: 定义了读取模型文件的缓存区。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: 定义了模型缓存区的字节数。</p></li>
</ul>
</li>
<li><p>返回值</p>
<p>指向MindSpore Lite的Model的指针。</p>
</li>
</ul>
</section>
</section>
</section>
<section id="cpubindmode">
<h2>CpuBindMode<a class="headerlink" href="#cpubindmode" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>枚举类型，设置cpu绑定策略。</p>
<section id="id10">
<h3>公有属性<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<section id="mid-cpu">
<h4>MID_CPU<a class="headerlink" href="#mid-cpu" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">MID_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
<p>优先中等CPU绑定策略。</p>
</section>
<section id="higher-cpu">
<h4>HIGHER_CPU<a class="headerlink" href="#higher-cpu" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">HIGHER_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p>优先高级CPU绑定策略。</p>
</section>
<section id="no-bind">
<h4>NO_BIND<a class="headerlink" href="#no-bind" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">NO_BIND</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</pre></div>
</div>
<p>不绑定。</p>
</section>
</section>
</section>
<section id="devicetype">
<h2>DeviceType<a class="headerlink" href="#devicetype" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>枚举类型，设置设备类型。</p>
<section id="id11">
<h3>公有属性<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<section id="dt-cpu">
<h4>DT_CPU<a class="headerlink" href="#dt-cpu" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">DT_CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</pre></div>
</div>
<p>设备为CPU。</p>
</section>
<section id="dt-gpu">
<h4>DT_GPU<a class="headerlink" href="#dt-gpu" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">DT_GPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p>设备为GPU。</p>
</section>
<section id="dt-npu">
<h4>DT_NPU<a class="headerlink" href="#dt-npu" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">DT_NPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
<p>设备为NPU。</p>
</section>
</section>
</section>
<section id="version">
<h2>Version<a class="headerlink" href="#version" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/version.h">version.h</a>&gt;</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">Version</span><span class="p">()</span>
</pre></div>
</div>
<p>全局方法，用于获取版本的字符串。</p>
<ul>
<li><p>返回值</p>
<p>MindSpore Lite版本的字符串。</p>
</li>
</ul>
</section>
<section id="stringstomstensor">
<h2>StringsToMSTensor<a class="headerlink" href="#stringstomstensor" title="Permalink to this headline"></a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">StringsToMSTensor</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">inputs</span><span class="p">,</span><span class="w"> </span><span class="n">tensor</span><span class="o">::</span><span class="n">MSTensor</span><span class="w"> </span><span class="o">*</span><span class="n">tensor</span><span class="p">)</span>
</pre></div>
</div>
<p>全局方法，用于将字符串存入MSTensor。</p>
<ul>
<li><p>返回值</p>
<p>STATUS，STATUS在errorcode.h中定义。</p>
</li>
</ul>
</section>
<section id="mstensortostrings">
<h2>MSTensorToStrings<a class="headerlink" href="#mstensortostrings" title="Permalink to this headline"></a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">MSTensorToStrings</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">tensor</span><span class="o">::</span><span class="n">MSTensor</span><span class="w"> </span><span class="o">*</span><span class="n">tensor</span><span class="p">)</span>
</pre></div>
</div>
<p>全局方法，用于从MSTensor获取字符串。</p>
<ul>
<li><p>返回值</p>
<p>字符串的vector。</p>
</li>
</ul>
</section>
<section id="devicecontextvector">
<h2>DeviceContextVector<a class="headerlink" href="#devicecontextvector" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>元素为<a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#devicecontext"><strong>DeviceContext</strong></a> 的<strong>vector</strong>。</p>
</section>
<section id="devicecontext">
<h2>DeviceContext<a class="headerlink" href="#devicecontext" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>DeviceContext类定义不同硬件设备的环境信息。</p>
<section id="id12">
<h3>公有属性<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<section id="device-type">
<h4>device_type<a class="headerlink" href="#device-type" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">device_type</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#devicetype"><strong>DeviceType</strong></a> 枚举类型。默认为<strong>DT_CPU</strong>，标明设备信息。</p>
</section>
<section id="device-info">
<h4>device_info_<a class="headerlink" href="#device-info" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">device_info_</span>
</pre></div>
</div>
<p><strong>struct</strong>类型，包含<a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#cpudeviceinfo"><strong>CpuDeviceInfo</strong></a>、<a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#gpudeviceinfo"><strong>GpuDeviceInfo</strong></a>和<a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#npudeviceinfo"><strong>NpuDeviceInfo</strong></a>。</p>
</section>
</section>
</section>
<section id="deviceinfo">
<h2>DeviceInfo<a class="headerlink" href="#deviceinfo" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p><strong>struct</strong>类型，设置不同硬件的环境变量。</p>
<section id="id13">
<h3>公有属性<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<section id="cpu-device-info">
<h4>cpu_device_info_<a class="headerlink" href="#cpu-device-info" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">cpu_device_info_</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#cpudeviceinfo"><strong>CpuDeviceInfo</strong></a> 类型，配置CPU的环境变量。</p>
</section>
<section id="gpu-device-info">
<h4>gpu_device_info_<a class="headerlink" href="#gpu-device-info" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">gpu_device_info_</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#gpudeviceinfo"><strong>GpuDeviceInfo</strong></a> 类型，配置GPU的环境变量。</p>
</section>
<section id="npu-device-info">
<h4>npu_device_info_<a class="headerlink" href="#npu-device-info" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">npu_device_info_</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#npudeviceinfo"><strong>NpuDeviceInfo</strong></a> 类型，配置NPU的环境变量。</p>
</section>
</section>
</section>
<section id="cpudeviceinfo">
<h2>CpuDeviceInfo<a class="headerlink" href="#cpudeviceinfo" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>CpuDeviceInfo类，配置CPU的环境变量。</p>
<section id="public-attributes">
<h3>Public Attributes<a class="headerlink" href="#public-attributes" title="Permalink to this headline"></a></h3>
<section id="enable-float16">
<h4>enable_float16_<a class="headerlink" href="#enable-float16" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">enable_float16_</span>
</pre></div>
</div>
<p><strong>bool</strong>值，默认为<strong>false</strong>，用于使能float16 推理。</p>
<blockquote>
<div><p>使能float16推理可能会导致模型推理精度下降，因为在模型推理的中间过程中，有些变量可能会超出float16的数值范围。</p>
</div></blockquote>
</section>
<section id="cpu-bind-mode">
<h4>cpu_bind_mode_<a class="headerlink" href="#cpu-bind-mode" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">cpu_bind_mode_</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.mindspore.cn/lite/api/zh-CN/r1.3/api_cpp/lite.html#cpubindmode"><strong>CpuBindMode</strong></a> 枚举类型，默认为<strong>MID_CPU</strong>。</p>
</section>
</section>
</section>
<section id="gpudeviceinfo">
<h2>GpuDeviceInfo<a class="headerlink" href="#gpudeviceinfo" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>GpuDeviceInfo类，用来配置GPU的环境变量。</p>
<section id="id14">
<h3>公有属性<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<section id="id15">
<h4>enable_float16_<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">enable_float16_</span>
</pre></div>
</div>
<p><strong>bool</strong>值，默认为<strong>false</strong>，用于使能float16 推理。</p>
<blockquote>
<div><p>使能float16推理可能会导致模型推理精度下降，因为在模型推理的中间过程中，有些变量可能会超出float16的数值范围。</p>
</div></blockquote>
</section>
</section>
</section>
<section id="npudeviceinfo">
<h2>NpuDeviceInfo<a class="headerlink" href="#npudeviceinfo" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/context.h">context.h</a>&gt;</p>
<p>NpuDeviceInfo类，用来配置NPU的环境变量。</p>
<section id="id16">
<h3>公有属性<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<section id="frequency">
<h4>frequency<a class="headerlink" href="#frequency" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">frequency_</span>
</pre></div>
</div>
<p><strong>int</strong>值，默认为<strong>3</strong>，用来设置NPU频率，可设置为1（低功耗）、2（均衡）、3（高性能）、4（极致性能）。</p>
</section>
</section>
</section>
<section id="trainmodel">
<h2>TrainModel<a class="headerlink" href="#trainmodel" title="Permalink to this headline"></a></h2>
<p>#include &lt;<a class="reference external" href="https://gitee.com/mindspore/mindspore/blob/r1.3/mindspore/lite/include/model.h">model.h</a>&gt;</p>
<p>继承于结构体Model，用于导入或导出训练模型。</p>
<section id="id17">
<h3>析构函数<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<section id="id18">
<h4>~TrainModel<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">TrainModel</span><span class="p">();</span>
</pre></div>
</div>
<p>虚析构函数。</p>
</section>
</section>
<section id="id19">
<h3>公有成员函数<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<section id="id20">
<h4>Import<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">TrainModel</span><span class="w"> </span><span class="o">*</span><span class="nf">Import</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">model_buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p>导入模型。</p>
<ul>
<li><p>参数</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_buf</span></code>: 指向存储读入MindSpore模型缓冲区的常量字符型指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: 缓冲区大小。</p></li>
</ul>
</li>
<li><p>返回值</p>
<p>返回一个指向MindSpore Lite训练模型(TrainModel)的指针。</p>
</li>
</ul>
</section>
<section id="exportbuf">
<h4>ExportBuf<a class="headerlink" href="#exportbuf" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ExportBuf</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="o">*</span><span class="n">len</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<p>导出模型缓冲区。</p>
<ul>
<li><p>参数</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: 指向模型导出的目标缓冲区的指针，如果指针为空则自动分配一块内存。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len</span></code>: 指向预分配缓冲区大小的指针。</p></li>
</ul>
</li>
<li><p>返回值</p>
<p>返回一个指向存储导出模型缓冲区的字符指针。</p>
</li>
</ul>
</section>
<section id="id21">
<h4>Free<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">Free</span><span class="p">()</span><span class="w"> </span><span class="k">override</span><span class="p">;</span>
</pre></div>
</div>
<p>释放计算-图的元数据。</p>
</section>
</section>
<section id="id22">
<h3>公有属性<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<section id="buf-size">
<h4>buf_size_<a class="headerlink" href="#buf-size" title="Permalink to this headline"></a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span><span class="w"> </span><span class="n">buf_size_</span><span class="p">;</span>
</pre></div>
</div>
<p>缓冲区大小。</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vision.html" class="btn btn-neutral float-left" title="mindspore::dataset::vision" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="session.html" class="btn btn-neutral float-right" title="mindspore::session" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>