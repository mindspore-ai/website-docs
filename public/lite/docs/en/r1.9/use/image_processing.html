<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preprocessing Image Data &mdash; MindSpore Lite master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script>
      <link rel="stylesheet" href="../_static/css/bootstrap.min.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/lite.css" type="text/css" /><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script><script src="../_static/js/lite.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Executing Model Inference" href="runtime.html" />
    <link rel="prev" title="Data Preprocessing" href="data_preprocessing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore Lite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Obtain MindSpore Lite</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloading MindSpore Lite</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building MindSpore Lite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/one_hour_introduction.html">Getting Started in One Hour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start_cpp.html">Experience C++ Simple Inference Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start_server_inference_cpp.html">Experience C++ Minimalist Concurrent Reasoning Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start_java.html">Experience Java Simple Inference Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start_server_inference_java.html">Experience Java Minimalist Concurrent Reasoning Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start_c.html">Expriencing Simpcified Inference Demo with C-language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/image_segmentation.html">Android Application Development Based on Java Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/train_lenet.html">Implement Device Training Based On C++ Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/train_lenet_java.html">Implement Device Training Based On Java Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Inference on Devices</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="converter_tool.html">Converting Models for Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="post_training_quantization.html">Post Training Quantization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="data_preprocessing.html">Data Preprocessing</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Preprocessing Image Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#import-image-preprocessing-function-library">Import image preprocessing function library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialize-the-image">Initialize the image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage-example">Usage example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#optional-image-preprocessing-operator">Optional image preprocessing operator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resize-image">Resize image</a></li>
<li class="toctree-l4"><a class="reference internal" href="#convert-the-image-data-type">Convert the image data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#crop-image-data">Crop image data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#normalize-image-data">Normalize image data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="runtime.html">Executing Model Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="micro.html">Performing Inference on MCU or Small Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="asic.html">Application Specific Integrated Circuit Integration Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training on Devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="converter_train.html">Creating MindSpore Lite Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime_train.html">Executing Model Training</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Server Inference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runtime_server_inference.html">Executing Server Inference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Third-party hardware docking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="register.html">Custom Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegate.html">Using Delegate to Support Third-party AI Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmark Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="cropper_tool.html">Static Library Cropper Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="visual_tool.html">Visualization Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="obfuscator_tool.html">Model Obfuscation Tool</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture_lite.html">Overall Architecture (Lite)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operator_list_lite.html">Lite Operator List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operator_list_codegen.html">Codegen Operator List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_lite.html">Model List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting_guide.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log.html">Log</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore Lite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="data_preprocessing.html">Data Preprocessing</a> &raquo;</li>
      <li>Preprocessing Image Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/use/image_processing.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="preprocessing-image-data">
<h1>Preprocessing Image Data<a class="headerlink" href="#preprocessing-image-data" title="Permalink to this headline">ÔÉÅ</a></h1>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.9/docs/lite/docs/source_en/use/image_processing.md"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/resource/_static/logo_source_en.png" /></a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">ÔÉÅ</a></h2>
<p>The main purpose of image preprocessing is to eliminate irrelevant information in the image, restore useful real information, enhance the detectability of related information and simplify data to the greatest extent, thereby improving the reliability of feature extraction, image segmentation, matching and recognition. Here, by creating a LiteMat object, the image data is processed before inference to meet the data format requirements for model inference.</p>
<p>The process is as follows:</p>
</section>
<section id="import-image-preprocessing-function-library">
<h2>Import image preprocessing function library<a class="headerlink" href="#import-image-preprocessing-function-library" title="Permalink to this headline">ÔÉÅ</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;lite_cv/lite_mat.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;lite_cv/image_process.h&quot;</span>
</pre></div>
</div>
</section>
<section id="initialize-the-image">
<h2>Initialize the image<a class="headerlink" href="#initialize-the-image" title="Permalink to this headline">ÔÉÅ</a></h2>
<p>Here, the <a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.9/generate/function_mindspore_dataset_InitFromPixel-1.html">InitFromPixel</a> function in the <code class="docutils literal notranslate"><span class="pre">image_process.h</span></code> file is used to initialize the image.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">InitFromPixel</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="w"> </span><span class="n">pixel_type</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="w"> </span><span class="n">data_type</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<section id="usage-example">
<h3>Usage example<a class="headerlink" href="#usage-example" title="Permalink to this headline">ÔÉÅ</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create the data object of the LiteMat object.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">;</span>

<span class="c1">// Initialize the lite_mat_bgr object.</span>
<span class="c1">// The image data pointer passed in by the user (The data in the Bitmap corresponding to the Android platform).</span>
<span class="n">InitFromPixel</span><span class="p">(</span><span class="n">pixel_ptr</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="o">::</span><span class="n">RGBA2GRAY</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="o">::</span><span class="n">UINT8</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">rows</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="optional-image-preprocessing-operator">
<h2>Optional image preprocessing operator<a class="headerlink" href="#optional-image-preprocessing-operator" title="Permalink to this headline">ÔÉÅ</a></h2>
<p>The image processing operators here can be used in any combination according to the actual situation.</p>
<section id="resize-image">
<h3>Resize image<a class="headerlink" href="#resize-image" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>Here we use the <a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.9/generate/function_mindspore_dataset_ResizeBilinear-1.html">ResizeBilinear</a> function in <code class="docutils literal notranslate"><span class="pre">image_process.h</span></code> to resize the image through a bilinear algorithm. Currently, the supported data type is unit8, the supported channels are 3 and 1.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">ResizeBilinear</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dst_w</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dst_h</span><span class="p">)</span>
</pre></div>
</div>
<section id="usage-example-1">
<h4>Usage example<a class="headerlink" href="#usage-example-1" title="Permalink to this headline">ÔÉÅ</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize the image data.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">;</span>
<span class="n">InitFromPixel</span><span class="p">(</span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="o">::</span><span class="n">RGBA2BGR</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="o">::</span><span class="n">UINT8</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">rows</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">);</span>

<span class="c1">// Create a resize image data object.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_resize</span><span class="p">;</span>

<span class="c1">// Resize the image.</span>
<span class="n">ResizeBilinear</span><span class="p">(</span><span class="n">lite_mat_bgr</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_resize</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="convert-the-image-data-type">
<h3>Convert the image data type<a class="headerlink" href="#convert-the-image-data-type" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>Here we use the <a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.9/generate/function_mindspore_dataset_ConvertTo-1.html">ConvertTo</a> function in <code class="docutils literal notranslate"><span class="pre">image_process.h</span></code> to convert the image data type. Currently, the conversion from uint8 to float is supported.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">ConvertTo</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<section id="usage-example-2">
<h4>Usage example<a class="headerlink" href="#usage-example-2" title="Permalink to this headline">ÔÉÅ</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize the image data.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">;</span>
<span class="n">InitFromPixel</span><span class="p">(</span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="o">::</span><span class="n">RGBA2BGR</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="o">::</span><span class="n">UINT8</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">rows</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">);</span>

<span class="c1">// Create the converted data type object.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_convert_float</span><span class="p">;</span>

<span class="c1">// Perform conversion type operations on the object. Currently, the supported conversion is to convert uint8 to float.</span>
<span class="n">ConvertTo</span><span class="p">(</span><span class="n">lite_mat_bgr</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_convert_float</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="crop-image-data">
<h3>Crop image data<a class="headerlink" href="#crop-image-data" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>Here we use the <a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.9/generate/function_mindspore_dataset_Crop-1.html">Crop</a> function in <code class="docutils literal notranslate"><span class="pre">image_process.h</span></code> to crop the image. Currently, channels 3 and 1 are supported.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">Crop</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<section id="usage-example-3">
<h4>Usage example<a class="headerlink" href="#usage-example-3" title="Permalink to this headline">ÔÉÅ</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize the image data.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">;</span>
<span class="n">InitFromPixel</span><span class="p">(</span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="o">::</span><span class="n">RGBA2BGR</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="o">::</span><span class="n">UINT8</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">rows</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">);</span>

<span class="c1">// Create the cropped object.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_cut</span><span class="p">;</span>

<span class="c1">// The image is cropped by the values of x, y, w, h.</span>
<span class="n">Crop</span><span class="p">(</span><span class="n">lite_mat_bgr</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_cut</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">224</span><span class="p">,</span><span class="w"> </span><span class="mi">224</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="normalize-image-data">
<h3>Normalize image data<a class="headerlink" href="#normalize-image-data" title="Permalink to this headline">ÔÉÅ</a></h3>
<p>In order to eliminate the dimensional influence among the data indicators and solve the comparability problem among the data indicators through standardization processing is adopted, here is the use of the <a class="reference external" href="https://www.mindspore.cn/lite/api/en/r1.9/generate/function_mindspore_dataset_SubStractMeanNormalize-1.html">SubStractMeanNormalize</a> function in <code class="docutils literal notranslate"><span class="pre">image_process.h</span></code> to normalize the image data.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">SubStractMeanNormalize</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">LiteMat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std</span><span class="p">)</span>
</pre></div>
</div>
<section id="usage-example-4">
<h4>Usage example<a class="headerlink" href="#usage-example-4" title="Permalink to this headline">ÔÉÅ</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize the image data.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">;</span>
<span class="n">InitFromPixel</span><span class="p">(</span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">LPixelType</span><span class="o">::</span><span class="n">RGBA2BGR</span><span class="p">,</span><span class="w"> </span><span class="n">LDataType</span><span class="o">::</span><span class="n">UINT8</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span><span class="w"> </span><span class="n">rgba_mat</span><span class="p">.</span><span class="n">rows</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr</span><span class="p">);</span>

<span class="c1">// The mean value of the image data.</span>
<span class="c1">// The variance of the image data.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.485</span><span class="p">,</span><span class="w"> </span><span class="mf">0.456</span><span class="p">,</span><span class="w"> </span><span class="mf">0.406</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.229</span><span class="p">,</span><span class="w"> </span><span class="mf">0.224</span><span class="p">,</span><span class="w"> </span><span class="mf">0.225</span><span class="p">};</span>

<span class="c1">// Create a normalized image object.</span>
<span class="n">LiteMat</span><span class="w"> </span><span class="n">lite_mat_bgr_norm</span><span class="p">;</span>

<span class="c1">// The image data is normalized by the mean value and variance of the image data.</span>
<span class="n">SubStractMeanNormalize</span><span class="p">(</span><span class="n">lite_mat_bgr</span><span class="p">,</span><span class="w"> </span><span class="n">lite_mat_bgr_norm</span><span class="p">,</span><span class="w"> </span><span class="n">means</span><span class="p">,</span><span class="w"> </span><span class="n">stds</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data_preprocessing.html" class="btn btn-neutral float-left" title="Data Preprocessing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="runtime.html" class="btn btn-neutral float-right" title="Executing Model Inference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, MindSpore Lite.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>