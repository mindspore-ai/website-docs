<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mindinsight.debugger &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script><script src="_static/jquery.js"></script>
        <script src="_static/js/theme.js"></script><script src="_static/underscore.js"></script><script src="_static/doctools.js"></script><script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script><script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script><script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overall Design of Training Visualization" href="training_visual_design.html" />
    <link rel="prev" title="Performance Debugging Cases" href="performance_optimization.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindinsight_install.html">MindSpore Insight Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="summary_record.html">Collecting Summary Record</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Viewing Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="lineage_and_scalars_comparison.html">Viewing Lineage and Scalars Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance_profiling.html">Performance Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugger.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="landscape.html">Training Optimization Process Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindinsight_commands.html">MindSpore Insight Commands</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tuning Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="accuracy_problem_preliminary_location.html">Guide to Locating Accuracy Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="accuracy_optimization.html">Accuracy Problem Locating and Optimization Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance_tuning_guide.html">Performance Tuning Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance_optimization.html">Performance Debugging Cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">mindinsight.debugger</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="training_visual_design.html">Overall Design of Training Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph_visual_design.html">Computational Graph Visualization Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensor_visual_design.html">Tensor Visualization Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiler_design.html">Performance Profiling Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>mindinsight.debugger</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/mindinsight.debugger.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-mindinsight.debugger">
<span id="mindinsight-debugger"></span><h1>mindinsight.debugger<a class="headerlink" href="#module-mindinsight.debugger" title="Permalink to this headline"></a></h1>
<p>MindSpore Debugger is a debugging tool for training in Graph Mode. It can be applied to visualize
and analyze the intermediate computation results of the computational graph.
In Graph Mode training, the computation results of intermediate nodes in the computational graph can not be acquired
conveniently, which makes it difficult for users to do the debugging.</p>
<p>By applying MindSpore Debugger, users can:Visualize the computational graph on the UI and analyze the output
of the graph node.Set watchpoints to monitor training exceptions (for example, tensor overflow) and trace error causes.
Visualize and analyze the change of parameters, such as weights.Visualize the nodes and code mapping relationship.</p>
<p>Debugger API is a python API interface provided for offline debugger. You need to save dump data before using it.
For the method of saving dump data, <a class="reference external" href="https://www.mindspore.cn/tutorials/experts/en/r2.2/debug/dump.html">refer to Using Dump in the Graph Mode</a> .</p>
<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.ConditionBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">ConditionBase</span></span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#ConditionBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.ConditionBase" title="Permalink to this definition"></a></dt>
<dd><p>Base class for watch conditions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If multiple checking parameters are specified for one condition instance,
a <cite>WatchpointHit</cite> happens for the parameters that the tensor triggered for the watchpoint.</p></li>
</ul>
</div>
<dl class="simple">
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="p">(</span><span class="n">TensorTooLargeCondition</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">Watchpoint</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test_condition_base</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tensors</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">watchpoint</span> <span class="o">=</span> <span class="n">Watchpoint</span><span class="p">(</span><span class="n">tensors</span><span class="o">=</span><span class="n">tensors</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">condition</span><span class="o">=</span><span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">max_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">hit</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">check_watchpoints</span><span class="p">(</span><span class="n">watchpoints</span><span class="o">=</span><span class="p">[</span><span class="n">watchpoint</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="c1"># print(hit.get_hit_detail())</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># The setting for watchpoint is abs_mean_gt = 0.0, max_gt = 0.0.</span>
<span class="gp">... </span>    <span class="c1"># The actual value of the tensor is abs_mean_gt = 0.06592023578438996, max_gt = 0.449951171875.</span>
<span class="gp">... </span>    <span class="n">watchpoint</span> <span class="o">=</span> <span class="n">Watchpoint</span><span class="p">(</span><span class="n">tensors</span><span class="o">=</span><span class="n">tensors</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">condition</span><span class="o">=</span><span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">max_gt</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1"># the check_watchpoints function start a new process needs to be called through the main entry</span>
<span class="gp">... </span>    <span class="n">hit</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">check_watchpoints</span><span class="p">(</span><span class="n">watchpoints</span><span class="o">=</span><span class="p">[</span><span class="n">watchpoint</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="c1"># print(hit.get_hit_detail())</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># The setting for watchpoint is abs_mean_gt = 0.0.</span>
<span class="gp">... </span>    <span class="c1"># The actual value of the tensor is abs_mean_gt = 0.06592023578438996.</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">test_condition_base</span><span class="p">()</span>
<span class="gp">...</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.ConditionBase.condition_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">condition_id</span></span><a class="headerlink" href="#mindinsight.debugger.ConditionBase.condition_id" title="Permalink to this definition"></a></dt>
<dd><p>Get the name for the watch condition Id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the id of the watch condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.ConditionBase.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#mindinsight.debugger.ConditionBase.name" title="Permalink to this definition"></a></dt>
<dd><p>Get the id for watch condition.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, the name of the watch condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.ConditionBase.param_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_dict</span></span><a class="headerlink" href="#mindinsight.debugger.ConditionBase.param_dict" title="Permalink to this definition"></a></dt>
<dd><p>Get the parameters list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict, the parameter dict of the watch condition.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">DebuggerTensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iteration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/debugger_tensor.html#DebuggerTensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor" title="Permalink to this definition"></a></dt>
<dd><p>The tensor with specific rank, iteration and debugging info.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#mindinsight.debugger.Node" title="mindinsight.debugger.Node"><em>Node</em></a>) – The node that outputs this tensor.</p></li>
<li><p><strong>slot</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The slot of the tensor on the node.</p></li>
<li><p><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The iteration of the tensor.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Users should not instantiate this class manually.</p></li>
<li><p>The instances of this class is immutable.</p></li>
<li><p>A <cite>DebuggerTensor</cite> is always the output tensor of a node.</p></li>
</ul>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor.iteration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">iteration</span></span><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor.iteration" title="Permalink to this definition"></a></dt>
<dd><p>Get iteration of the tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the iteration of the tensor.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tensors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iteration</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor.node">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node</span></span><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor.node" title="Permalink to this definition"></a></dt>
<dd><p>Get the node that outputs this tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Node, the node that outputs this tensor.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tensors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>
<span class="go">rank: 0</span>
<span class="go">graph_name: kernel_graph_0</span>
<span class="go">node_name: conv1.weight</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor.rank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rank</span></span><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor.rank" title="Permalink to this definition"></a></dt>
<dd><p>The rank is the logical id of the device on which the tensor is generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the rank for this tensor.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tensors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor.slot">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">slot</span></span><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor.slot" title="Permalink to this definition"></a></dt>
<dd><p>The output of the node may have several tensors. The slot refer to the index of the tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the slot of the tensor on the node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tensors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">slot</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DebuggerTensor.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/debugger_tensor.html#DebuggerTensor.value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DebuggerTensor.value" title="Permalink to this definition"></a></dt>
<dd><p>Get the value of the tensor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Union[numpy.array, None], The value could be None if failed to find data file
in relative iteration.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test_debugger_tensor</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tensors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1"># the tensors[0].value() maybe start the new process</span>
<span class="gp">... </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">tensors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">value</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">test_debugger_tensor</span><span class="p">()</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">DumpAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dump_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer" title="Permalink to this definition"></a></dt>
<dd><p>Analyzer to inspect the dump data.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dump_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The path of the dump folder.</p></li>
<li><p><strong>mem_limit</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The memory limit for checking watchpoints in MB.
Optional values: from 2048 MB to 2147483647 MB. <code class="docutils literal notranslate"><span class="pre">None</span></code> means no limit is set,
only limited by computor memory. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.check_watchpoints">
<span class="sig-name descname"><span class="pre">check_watchpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">watchpoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_on_no_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.check_watchpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.check_watchpoints" title="Permalink to this definition"></a></dt>
<dd><p>Check the given watchpoints in a batch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. For speed, all watchpoints for the iteration should be given at
the same time to avoid reading tensors len(watchpoints) times.</p>
<p>2. The <cite>check_watchpoints</cite> function start a new process when it is called, needs to be
called in <cite>if __name__ == ‘__main__’</cite> .</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>watchpoints</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#mindinsight.debugger.Watchpoint" title="mindinsight.debugger.Watchpoint"><em>Watchpoint</em></a><em>]</em>) – The list of watchpoints.</p></li>
<li><p><strong>error_on_no_value</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to report error code in watchpoint
hit when the specified tensor have no value stored in
dump_dir. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[WatchpointHit], the watchpoint hit list, sorted by tensor drop time.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="p">(</span><span class="n">TensorTooLargeCondition</span><span class="p">,</span>
<span class="gp">... </span>                                   <span class="n">Watchpoint</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test_watchpoints</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tensors</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span>
<span class="gp">... </span>                                        <span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="n">use_regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="n">iterations</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">slots</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>                                        <span class="p">)</span>
<span class="gp">... </span>    <span class="n">watchpoint</span> <span class="o">=</span> <span class="n">Watchpoint</span><span class="p">(</span><span class="n">tensors</span><span class="o">=</span><span class="n">tensors</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">condition</span><span class="o">=</span><span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1"># the check_watchpoints function start a new process needs to be called through the main entry</span>
<span class="gp">... </span>    <span class="n">hit</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">check_watchpoints</span><span class="p">(</span><span class="n">watchpoints</span><span class="o">=</span><span class="p">[</span><span class="n">watchpoint</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="c1"># print(str(hit))</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># Watchpoint TensorTooLarge triggered on tensor:</span>
<span class="gp">... </span>    <span class="c1"># rank: 0</span>
<span class="gp">... </span>    <span class="c1"># graph_name: kernel_graph_0</span>
<span class="gp">... </span>    <span class="c1"># node_name: Default/network-WithLossCell/_backbone-AlexNet/conv2-Conv2d/Conv2D-op13</span>
<span class="gp">... </span>    <span class="c1"># slot: 0</span>
<span class="gp">... </span>    <span class="c1"># iteration: 0</span>
<span class="gp">... </span>    <span class="c1"># Threshold: {&#39;abs_mean_gt&#39;: 0.0}</span>
<span class="gp">... </span>    <span class="c1"># Hit detail: the setting for watchpoint is abs_mean_gt = 0.0.</span>
<span class="gp">... </span>    <span class="c1"># The actual value of the tensor is abs_mean_gt = 0.06592023578438996.</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">test_watchpoints</span><span class="p">()</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.export_graphs">
<span class="sig-name descname"><span class="pre">export_graphs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.export_graphs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.export_graphs" title="Permalink to this definition"></a></dt>
<dd><p>Export the computational graph(s) in xlsx file(s) to the <cite>output_dir</cite> .</p>
<p>The file(s) will contain the stack info of graph nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Output directory to save the file.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means to use the current working directory. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str, The path of the generated file.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">export_graphs</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.get_input_nodes">
<span class="sig-name descname"><span class="pre">get_input_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.get_input_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.get_input_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Get the input nodes of the given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#mindinsight.debugger.Node" title="mindinsight.debugger.Node"><em>Node</em></a>) – The node of which input nodes will be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[Node], the input nodes of the specified node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_nodes</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">get_input_nodes</span><span class="p">(</span><span class="n">node_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.get_iterations">
<span class="sig-name descname"><span class="pre">get_iterations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ranks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.get_iterations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.get_iterations" title="Permalink to this definition"></a></dt>
<dd><p>Get available iterations which have data dumped in this run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ranks</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The rank(s) to select.
Get available iterations which are under the specified ranks.
The ranks refers to the number of devices to be used starting from 0
when running distributed training. This number is called rank.
For example, for an 8-card computer, only 4-7 cards are used for
specified training, so 4-7 cards correspond to the ranks 0-3 respectively..
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, return iterations of all ranks. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[int], available iterations which have dumped data, sorted in increasing order.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterations</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">get_iterations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">iterations</span><span class="p">))</span>
<span class="go">[0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.get_output_nodes">
<span class="sig-name descname"><span class="pre">get_output_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.get_output_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.get_output_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Get the nodes that use the output tensors of the given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#mindinsight.debugger.Node" title="mindinsight.debugger.Node"><em>Node</em></a>) – The specified node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[Node], output nodes of the specified node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_nodes</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">get_output_nodes</span><span class="p">(</span><span class="n">node_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.get_ranks">
<span class="sig-name descname"><span class="pre">get_ranks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.get_ranks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.get_ranks" title="Permalink to this definition"></a></dt>
<dd><p>Get the available ranks in this run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Iterable[int], the list of rank id in current dump directory.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ranks</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">get_ranks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span>
<span class="go">[0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.list_affected_nodes">
<span class="sig-name descname"><span class="pre">list_affected_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.list_affected_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.list_affected_nodes" title="Permalink to this definition"></a></dt>
<dd><p>List the nodes that use given tensor as input.</p>
<p>Affected nodes is defined as the nodes use the given tensor as input. If
a node is affected by the given tensor, the node’s output value is
likely to change when the given tensor changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> (<a class="reference internal" href="#mindinsight.debugger.DebuggerTensor" title="mindinsight.debugger.DebuggerTensor"><em>DebuggerTensor</em></a>) – The tensor of which affected nodes will be
returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[Node], the affected nodes of the specified tensor.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensor_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affected_nodes</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">list_affected_nodes</span><span class="p">(</span><span class="n">tensor_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.select_nodes">
<span class="sig-name descname"><span class="pre">select_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'node_name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.select_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.select_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Select nodes.</p>
<p>Select the matched nodes in the computational graph according to the
query_string. The nodes can be matched by “node_name” or “code_stack”,
see the parameters for detail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Query string. For a node to be selected, the
match target field must contains or matches the query string.</p></li>
<li><p><strong>use_regex</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Indicates whether query is a regex. Default:
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>select_by</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The field to search when selecting
nodes. Available values are <code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;code_stack&quot;</span></code>.
<code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code> means to search the name of the nodes in the
graph. <code class="docutils literal notranslate"><span class="pre">&quot;code_stack&quot;</span></code> means the stack info of
the node. Default: <code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code>.</p></li>
<li><p><strong>ranks</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The rank(s) to select. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all ranks will be
considered. The selected nodes must exist on the specified ranks. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>case_sensitive</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether case-sensitive when
selecting tensors. Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[Node], the matched nodes.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.select_tensor_statistics">
<span class="sig-name descname"><span class="pre">select_tensor_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.select_tensor_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.select_tensor_statistics" title="Permalink to this definition"></a></dt>
<dd><p>Select tensor statistics.</p>
<p>Select the matched tensor statistics in the directory according to the
sepicified filter condition, see the parameters for detail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The iteration(s) to select. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all dumped
iterations will be selected. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>ranks</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The rank(s) to select. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all ranks
will be selected. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Dict[TensorStatistic], the matched TensorStatistics. The format is as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;rank_id&quot;</span><span class="p">:</span>
    <span class="p">{</span>
    <span class="s2">&quot;iteration_id&quot;</span><span class="p">:</span>
        <span class="p">{</span>
        <span class="s2">&quot;tensor_name&quot;</span><span class="p">:</span>
            <span class="p">[</span><span class="n">TensorStatistic</span><span class="p">],</span>
        <span class="o">...</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">statistics</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensor_statistics</span><span class="p">(</span><span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.select_tensors">
<span class="sig-name descname"><span class="pre">select_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'node_name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.select_tensors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.select_tensors" title="Permalink to this definition"></a></dt>
<dd><p>Select tensors.</p>
<p>Select the matched tensors in the directory according to the
sepicified filter condition, see the parameters for detail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Query string. For a tensor to be selected, the
match target field must contain or match the query string.</p></li>
<li><p><strong>use_regex</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Indicates whether query is a regex. Default:
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>select_by</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The field to search when selecting
tensors. Available values are <code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;code_stack&quot;</span></code>.
<code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code> means to search the node name of the tensors in the
graph. <code class="docutils literal notranslate"><span class="pre">&quot;code_stack&quot;</span></code> means the stack info of
the node that outputs this tensor. Default: <code class="docutils literal notranslate"><span class="pre">&quot;node_name&quot;</span></code>.</p></li>
<li><p><strong>iterations</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The iteration(s) to select. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all dumped
iterations will be selected. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>ranks</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – The rank(s) to select. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all ranks
will be selected. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>slots</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – The slot of the selected tensor. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all slots will be selected.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>case_sensitive</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether case-sensitive when selecting tensors. Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[DebuggerTensor], the matched tensors.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensors</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.DumpAnalyzer.summary_statistics">
<span class="sig-name descname"><span class="pre">summary_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overflow_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">65500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/dump_analyzer.html#DumpAnalyzer.summary_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.DumpAnalyzer.summary_statistics" title="Permalink to this definition"></a></dt>
<dd><p>Summary the statistics in the different ranks and iterations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statistics</strong> (<em>Dict</em><em>[</em><em>TensorStatistic</em><em>]</em>) – The given TensorStatistic. They can be the return value of
<cite>compute_statistic</cite> or <cite>select_tensor_statistics</cite>.</p></li>
<li><p><strong>overflow_value</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The given overflow threshold, default: <code class="docutils literal notranslate"><span class="pre">65500</span></code>.</p></li>
<li><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The given output directory to save the statistics. Default: <code class="docutils literal notranslate"><span class="pre">&quot;./&quot;</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/node.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.Node" title="Permalink to this definition"></a></dt>
<dd><p>Node in the computational graph.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_feature</strong> (<em>namedtuple</em>) – <p>The node feature, including the following information:</p>
<ul>
<li><p>name (str): The node name.</p></li>
<li><p>rank (int): The rank id.</p></li>
<li><p>stack (iterable[dict]): The stack information. The format of each item is like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;line_no&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;code_line&#39;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>graph_name (str): The graph name.</p></li>
<li><p>root_graph_id (int): The root graph id.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Users should not instantiate this class manually.</p></li>
<li><p>The instances of this class is immutable.</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.get_input_tensors">
<span class="sig-name descname"><span class="pre">get_input_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/node.html#Node.get_input_tensors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.Node.get_input_tensors" title="Permalink to this definition"></a></dt>
<dd><p>Get the input tensors of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterations</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – The iterations to which the returned
tensor should belong. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all available iterations will be considered.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>slots</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – The slots in which the returned tensors
should be. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all available slots will be considered. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[DebuggerTensor], the input tensors of the node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_tensors</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_input_tensors</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">slots</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.get_output_tensors">
<span class="sig-name descname"><span class="pre">get_output_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/node.html#Node.get_output_tensors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.Node.get_output_tensors" title="Permalink to this definition"></a></dt>
<dd><p>Get the output tensors of this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterations</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – The iterations to which the returned
tensor should belong. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all available iterations will be considered.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>slots</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – The slots in which the returned tensors
should be. <code class="docutils literal notranslate"><span class="pre">None</span></code> means all available slots will be considered. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterable[DebuggerTensor], the output tensors of the node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_tensors</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_output_tensors</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">slots</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.graph_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">graph_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><span class="pre">str</span></a></em><a class="headerlink" href="#mindinsight.debugger.Node.graph_name" title="Permalink to this definition"></a></dt>
<dd><p>Get graph name of current node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, the graph name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#mindinsight.debugger.Node.name" title="Permalink to this definition"></a></dt>
<dd><p>Get the full name of this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str, the full name of the node.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">conv1.weight</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.rank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mindinsight.debugger.Node.rank" title="Permalink to this definition"></a></dt>
<dd><p>Get rank info.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the rank id to which the node belong.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;conv&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.root_graph_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_graph_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mindinsight.debugger.Node.root_graph_id" title="Permalink to this definition"></a></dt>
<dd><p>Get the root graph id to which the dumped tensor of current node will belong.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the root graph id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Node.stack">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stack</span></span><a class="headerlink" href="#mindinsight.debugger.Node.stack" title="Permalink to this definition"></a></dt>
<dd><p>Get stack info of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>iterable[dict], each item format as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;line_no&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;code_line&#39;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">my_run</span><span class="o">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s2">&quot;Conv2D-op13&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># print(node.stack)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the print result is as follows</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [{&#39;file_path&#39;: &#39;/path&#39;, &#39;line_no&#39;: 266, &#39;code_line&#39;: &#39;output = self.conv2d(x, self.weight)&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &#39;has_substack&#39;: False},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># {&#39;file_path&#39;: &#39;/path&#39;, &#39;line_no&#39;: 55, &#39;code_line&#39;: &#39;x = self.conv2(x), &#39;has_substack&#39;: False}]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.OperatorOverflowCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">OperatorOverflowCondition</span></span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#OperatorOverflowCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.OperatorOverflowCondition" title="Permalink to this definition"></a></dt>
<dd><p>Operator overflow watch condition.</p>
<p>Operator overflow whatchpoint checks whether overflow occurs during operator computation.
Only Ascend AI processor is supported.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">OperatorOverflowCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">OperatorOverflowCondition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">OperatorOverflow</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.OperatorOverflowCondition.param_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_dict</span></span><a class="headerlink" href="#mindinsight.debugger.OperatorOverflowCondition.param_dict" title="Permalink to this definition"></a></dt>
<dd><p>Get the parameters list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict, the parameter dict of the watch condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.OperatorOverflowCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.OperatorOverflowCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorAllZeroCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorAllZeroCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zero_percentage_ge</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorAllZeroCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorAllZeroCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor value is all zero .</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>zero_percentage_ge</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The threshold to check if the percentage of
zero tensor values are greater than this value.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorAllZeroCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorAllZeroCondition</span><span class="p">(</span><span class="n">zero_percentage_ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorAllZero</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorAllZeroCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorAllZeroCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorChangeAboveThresholdCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorChangeAboveThresholdCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_mean_update_ratio_gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-09</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorChangeAboveThresholdCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorChangeAboveThresholdCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor changing above threshold.</p>
<p>When the tensor changing satisfies equation <span class="math notranslate nohighlight">\(\frac {abs\_mean(current\_tensor -
previous\_tensor)} {abs\_mean(previous\_tensor)} + epsilon &gt; mean\_update\_ratio\_lt\)</span> ,
the watchpoint would be hit.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_mean_update_ratio_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The threshold value for mean update ratio,
if the mean update ratio is greater than this value the watchpoint will be triggered.</p></li>
<li><p><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Epsilon value. Default: <code class="docutils literal notranslate"><span class="pre">1e-9</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorChangeAboveThresholdCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorChangeAboveThresholdCondition</span><span class="p">(</span><span class="n">abs_mean_update_ratio_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorChangeAboveThreshold</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorChangeAboveThresholdCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorChangeAboveThresholdCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorChangeBelowThresholdCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorChangeBelowThresholdCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_mean_update_ratio_lt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-09</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorChangeBelowThresholdCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorChangeBelowThresholdCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor changing below threshold.</p>
<p>When the tensor changing satisfies equation <span class="math notranslate nohighlight">\(\frac {abs\_mean(current\_tensor
- previous\_tensor)} {abs\_mean(previous\_tensor)} + epsilon &lt; mean\_update\_ratio\_lt\)</span> ,
the watchpoint would be hit.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_mean_update_ratio_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The threshold value for mean update ration.
If the mean update ratio is less that this value the watchpoint will be triggered.</p></li>
<li><p><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Epsilon value. Default: <code class="docutils literal notranslate"><span class="pre">1e-9</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorChangeBelowThresholdCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorChangeBelowThresholdCondition</span><span class="p">(</span><span class="n">abs_mean_update_ratio_lt</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorChangeBelowThreshold</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorChangeBelowThresholdCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorChangeBelowThresholdCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorOverflowCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorOverflowCondition</span></span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorOverflowCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorOverflowCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor overflow.</p>
<p>Tensor overflow whatchpoint checks for <cite>inf</cite> and <cite>nan</cite> tensors.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorOverflowCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorOverflowCondition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorOverflow</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorOverflowCondition.param_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_dict</span></span><a class="headerlink" href="#mindinsight.debugger.TensorOverflowCondition.param_dict" title="Permalink to this definition"></a></dt>
<dd><p>Get the parameters list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict, the parameter dict of the watch condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorOverflowCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorOverflowCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorRangeCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorRangeCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">range_start_inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_end_inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_percentage_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_percentage_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_min_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_min_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorRangeCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorRangeCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor value range.</p>
<p>Set a threshold to check the tensor value range. There are four options:
<cite>range_percentage_lt</cite> , <cite>range_percentage_gt</cite> , <cite>max_min_lt</cite> and <cite>max_min_gt</cite> .
At least one of the four options should be specified.
If the threshold is set to one of the first two options,
both <cite>range_start_inclusive</cite> and <cite>range_end_inclusive</cite> must be set.
If multiple checking parameters are specified, a <cite>WatchpointHit</cite> happens for the parameters
that the tensor triggered for the watchpoint.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>range_start_inclusive</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The start of the specified range. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>range_end_inclusive</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The end of the specified range. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>range_percentage_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for the percentage of the tensor
in the range <cite>[range_start_inclusive, range_end_inclusive]</cite> . The checking condition
will be satisfied when the percentage of the tensor in the specified range is less than this value.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>range_percentage_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for the percentage of the tensor
in the range <cite>[range_start_inclusive, range_end_inclusive]</cite> . The checking condition
will be satisfied when the percentage of the tensor in the specified range is greater than this value.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>max_min_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Lowwer threshold for the difference
between the maximum and minimum values of a tensor. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>max_min_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Upper threshold for the difference
between the maximum and minimum values of a tensor. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorRangeCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorRangeCondition</span><span class="p">(</span><span class="n">max_min_gt</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorRange</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorRangeCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorRangeCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorTooLargeCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorTooLargeCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_mean_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorTooLargeCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorTooLargeCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch contion for tensor value too large. At least one parameter should be specified.</p>
<p>If multiple checking parameters are specified, a <cite>WatchpointHit</cite> happens for the parameters
that the tensor triggered for the watchpoint.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_mean_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for mean of the absolute
value of the tensor. When the actual value was greater than this
threshold, this checking condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>max_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for maximum of the tensor. When
the actual value was greater than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>min_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for minimum of the tensor. When
the actual value was greater than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>mean_gt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for mean of the tensor. When
the actual value was greater than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorTooLargeCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorTooLarge</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorTooLargeCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorTooLargeCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorTooSmallCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorTooSmallCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abs_mean_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_lt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorTooSmallCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorTooSmallCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch contion for tensor value too small. At least one parameter should be specified.</p>
<p>If multiple checking parameters are specified, a <cite>WatchpointHit</cite> happens for the parameters
that the tensor triggered for the watchpoint.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abs_mean_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for mean of the absolute
value of the tensor. When the actual value was less than this
threshold, this checking condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>max_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for maximum of the tensor. When
the actual value was less than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>min_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for minimum of the tensor. When
the actual value was less than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>mean_lt</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The threshold for mean of the tensor. When
the actual value was less than this threshold, this checking
condition would be satisfied. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorTooSmallCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorTooSmallCondition</span><span class="p">(</span><span class="n">abs_mean_lt</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorTooSmall</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorTooSmallCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorTooSmallCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorUnchangedCondition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">TensorUnchangedCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#TensorUnchangedCondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.TensorUnchangedCondition" title="Permalink to this definition"></a></dt>
<dd><p>Watch condition for tensor value unchanged.</p>
<p>Check allclose function on previous and current tensor. Only when every element in tensor
satisfies the equation <span class="math notranslate nohighlight">\(|element\_in\_current\_tensor - element\_in\_previous\_tensor|
\leq atol + rtol\times |previous\_tensor|\)</span> , this watchpoint will be hit.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rtol</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The relative tolerance parameter. Default: <code class="docutils literal notranslate"><span class="pre">1e-5</span></code>.</p></li>
<li><p><strong>atol</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – The absolute tolerance parameter. Default: <code class="docutils literal notranslate"><span class="pre">1e-8</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorUnchangedCondition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_condition</span> <span class="o">=</span> <span class="n">TensorUnchangedCondition</span><span class="p">(</span><span class="n">rtol</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">my_condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorUnchanged</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.TensorUnchangedCondition.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#mindinsight.debugger.TensorUnchangedCondition.param_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the parameter names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.Watchpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">Watchpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#Watchpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.Watchpoint" title="Permalink to this definition"></a></dt>
<dd><p>Watchpoint applies condition to specified tensors.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or delete.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensors</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#mindinsight.debugger.DebuggerTensor" title="mindinsight.debugger.DebuggerTensor"><em>DebuggerTensor</em></a><em>]</em>) – The tensors to check.</p></li>
<li><p><strong>condition</strong> (<a class="reference internal" href="#mindinsight.debugger.ConditionBase" title="mindinsight.debugger.ConditionBase"><em>ConditionBase</em></a>) – The watch condition to apply to tensors.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorTooLargeCondition</span><span class="p">,</span> <span class="n">Watchpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensor_list</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span>
<span class="gp">... </span>                                    <span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="n">use_regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="n">iterations</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                    <span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                    <span class="n">slots</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>                                    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">watchpoint</span> <span class="o">=</span> <span class="n">Watchpoint</span><span class="p">(</span><span class="n">tensors</span><span class="o">=</span><span class="n">tensor_list</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">condition</span><span class="o">=</span><span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tensor</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">watchpoint</span><span class="o">.</span><span class="n">tensors</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tensor</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">Default/network-WithLossCell/_backbone-AlexNet/conv1-Conv2d/Cast-op7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">watchpoint</span><span class="o">.</span><span class="n">condition</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">TensorTooLarge</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Watchpoint.condition">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">condition</span></span><a class="headerlink" href="#mindinsight.debugger.Watchpoint.condition" title="Permalink to this definition"></a></dt>
<dd><p>Get the watch condition to apply to tensors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ConditionBase, the watch condition to apply to tensors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.Watchpoint.tensors">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tensors</span></span><a class="headerlink" href="#mindinsight.debugger.Watchpoint.tensors" title="Permalink to this definition"></a></dt>
<dd><p>Get tensors to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Iterable[DebuggerTensor], the tensors to check.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mindinsight.debugger.</span></span><span class="sig-name descname"><span class="pre">WatchpointHit</span></span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#WatchpointHit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.WatchpointHit" title="Permalink to this definition"></a></dt>
<dd><p>Watchpoint hit.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All APIs in this class are experimental prototypes that are subject to
change or deletion.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This class is not meant to be instantiated by user.</p></li>
<li><p>The instances of this class is immutable.</p></li>
</ul>
</div>
<dl class="simple">
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">DumpAnalyzer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindinsight.debugger</span> <span class="kn">import</span> <span class="n">TensorTooLargeCondition</span><span class="p">,</span> <span class="n">Watchpoint</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test_watch_point_hit</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">my_run</span> <span class="o">=</span> <span class="n">DumpAnalyzer</span><span class="p">(</span><span class="n">dump_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/your/dump_dir_with_dump_data&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tensor_list</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">select_tensors</span><span class="p">(</span>
<span class="gp">... </span>                                        <span class="n">query_string</span><span class="o">=</span><span class="s2">&quot;Conv&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="n">use_regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="n">iterations</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">ranks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">slots</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>                                        <span class="p">)</span>
<span class="gp">... </span>    <span class="n">watchpoint</span> <span class="o">=</span> <span class="n">Watchpoint</span><span class="p">(</span><span class="n">tensors</span><span class="o">=</span><span class="n">tensor_list</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">condition</span><span class="o">=</span><span class="n">TensorTooLargeCondition</span><span class="p">(</span><span class="n">abs_mean_gt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1"># the check_watchpoints function start a new process needs to be called through the main entry</span>
<span class="gp">... </span>    <span class="n">hits</span> <span class="o">=</span> <span class="n">my_run</span><span class="o">.</span><span class="n">check_watchpoints</span><span class="p">(</span><span class="n">watchpoints</span><span class="o">=</span><span class="p">[</span><span class="n">watchpoint</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">hit</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">hits</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="c1"># print(str(hit))</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># Watchpoint TensorTooLarge triggered on tensor:</span>
<span class="gp">... </span>    <span class="c1"># rank: 0</span>
<span class="gp">... </span>    <span class="c1"># graph_name: kernel_graph_0</span>
<span class="gp">... </span>    <span class="c1"># node_name: Default/network-WithLossCell/_backbone-AlexNet/conv1-Conv2d/Cast-op7</span>
<span class="gp">... </span>    <span class="c1"># slot: 0</span>
<span class="gp">... </span>    <span class="c1"># iteration: 0</span>
<span class="gp">... </span>    <span class="c1"># Threshold: {&#39;abs_mean_gt&#39;: 0.0}</span>
<span class="gp">... </span>    <span class="c1"># Hit detail: The setting for watchpoint is abs_mean_gt = 0.0.</span>
<span class="gp">... </span>    <span class="c1"># The actual value of the tensor is abs_mean_gt = 0.007956420533235841.</span>
<span class="gp">... </span>    <span class="c1"># print(hit.error_code)</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># 0</span>
<span class="gp">... </span>    <span class="c1"># print(hit.tensor)</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># rank: 0</span>
<span class="gp">... </span>    <span class="c1"># graph_name: kernel_graph_0</span>
<span class="gp">... </span>    <span class="c1"># node_name: Default/network-WithLossCell/_backbone-AlexNet/conv1-Conv2d/Cast-op7</span>
<span class="gp">... </span>    <span class="c1"># slot: 0</span>
<span class="gp">... </span>    <span class="c1"># iteration: 0</span>
<span class="gp">... </span>    <span class="c1"># print(hit.get_hit_detail())</span>
<span class="gp">... </span>    <span class="c1"># the print result is as follows</span>
<span class="gp">... </span>    <span class="c1"># The setting for watchpoint is abs_mean_gt = 0.0.</span>
<span class="gp">... </span>    <span class="c1"># The actual value of the tensor is abs_mean_gt = 0.007956420533235841.</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">test_watch_point_hit</span><span class="p">()</span>
<span class="gp">...</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit.error_code">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">error_code</span></span><a class="headerlink" href="#mindinsight.debugger.WatchpointHit.error_code" title="Permalink to this definition"></a></dt>
<dd><p>Get the error code when checking the watchpoint if there is error.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int, the error number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit.error_msg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">error_msg</span></span><a class="headerlink" href="#mindinsight.debugger.WatchpointHit.error_msg" title="Permalink to this definition"></a></dt>
<dd><p>Get the error msg when checking the watchpoint if there is error.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str], the error message list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit.get_hit_detail">
<span class="sig-name descname"><span class="pre">get_hit_detail</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#WatchpointHit.get_hit_detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.WatchpointHit.get_hit_detail" title="Permalink to this definition"></a></dt>
<dd><p>Get the corresponding watch condition，including the actual values.
For example, if the corresponding watch condition is <cite>TensorTooLargeCondition(max_gt=None)</cite> ,
watching whether the max value of the tensor greater than 0, the <cite>get_hit_detail</cite> return
a <cite>TensorTooLargeCondition</cite> object including the max value of the tensor.
If error_code is not zero, None will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Union[ConditionBase, None], the condition with hit detail, If error_code is not zero,
None will be returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit.get_threshold">
<span class="sig-name descname"><span class="pre">get_threshold</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mindinsight/debugger/api/conditions.html#WatchpointHit.get_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mindinsight.debugger.WatchpointHit.get_threshold" title="Permalink to this definition"></a></dt>
<dd><p>Get the condition set by user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ConditionBase, the condition with user threshold.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mindinsight.debugger.WatchpointHit.tensor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tensor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#mindinsight.debugger.DebuggerTensor" title="mindinsight.debugger.api.debugger_tensor.DebuggerTensor"><span class="pre">mindinsight.debugger.api.debugger_tensor.DebuggerTensor</span></a></em><a class="headerlink" href="#mindinsight.debugger.WatchpointHit.tensor" title="Permalink to this definition"></a></dt>
<dd><p>Get the tensor for this watchpoint hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DebuggerTensor, the triggered tensor.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="performance_optimization.html" class="btn btn-neutral float-left" title="Performance Debugging Cases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="training_visual_design.html" class="btn btn-neutral float-right" title="Overall Design of Training Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>