<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FAQ &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script><script src="_static/jquery.js"></script>
        <script src="_static/js/theme.js"></script><script src="_static/underscore.js"></script><script src="_static/doctools.js"></script><script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release Notes" href="RELEASE.html" />
    <link rel="prev" title="Others" href="mindpandas.Others.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_install.html">Installing MindSpore Pandas</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_quick_start.html">Quick Start: MindSpore Pandas Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_configuration.html">MindSpore Pandas Execution Mode Introduction and Configuration Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_channel.html">Efficient Data Flow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.channel.html">mindpandas.channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.config.html">mindpandas.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.DataFrame.html">mindpandas.DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Series.html">mindpandas.Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Groupby.html">mindpandas.GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Others.html">Others</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">REFERENCES</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>FAQ</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/faq.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/master/docs/mindpandas/docs/source_en/faq.md"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/master/resource/_static/logo_source_en.png" /></a></p>
<p><font size=3><strong>Q: What should I check when I encounter an error with the message “Error: exit status 1” or “Failed to deploy basic model” when deploying a multi-process compute engine?</strong></font></p>
<p>A: There are many possibilities for the engine failure to start. Some common reasons are listed below:</p>
<ul class="simple">
<li><p>Reason 1: Redis port conflict.
Solution: You can enter <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-ef|grep</span> <span class="pre">redis</span></code> on the command line to check whether other redis services are running in the system, resulting in port conflicts. MindSpore Pandas’ redis runs on port 6379 by default. If you need to modify it, you can modify the <code class="docutils literal notranslate"><span class="pre">redis_port</span></code> field in <code class="docutils literal notranslate"><span class="pre">mindpandas/dist_executor/modules/config/config.xml</span></code> in the MindSpore Pandas installation directory to other non-conflicting ports.</p></li>
<li><p>Reason 2: etcd port conflict.
Solution: You can enter <code class="docutils literal notranslate"><span class="pre">netstat</span> <span class="pre">-tunpl|grep</span> <span class="pre">-E</span> <span class="pre">&quot;32379|32380&quot;</span></code> in the command line to check whether the etcd port is occupied. If there is a conflict, please try to release the corresponding port.</p></li>
</ul>
<br/>
<p><font size=3><strong>Q: How to solve the error “**ERROR** memory for function instances deployment is less than 0” when deploying a multi-process compute engine?</strong></font></p>
<p>A: The problem is caused by insufficient running memory. Please try to decrease the value of the <code class="docutils literal notranslate"><span class="pre">--datamem</span></code> parameter or increase the value of the <code class="docutils literal notranslate"><span class="pre">--mem</span></code> parameter when deploying.</p>
<br/>
<p><font size=3><strong>Q: What should I do if the error message “Failed to request, code:1001, message: invalid resource parameter, request resource is greater than each node’s max resource.” is reported when running a Python script using a multi-process backend?</strong></font></p>
<p>A: This error is caused by insufficient resources configured when starting the distributed compute engine. Please use larger <code class="docutils literal notranslate"><span class="pre">--cpu</span></code> and <code class="docutils literal notranslate"><span class="pre">--mem</span></code> parameter values when deploying the cluster.</p>
<br/>
<p><font size=3><strong>Q: When using a multi-process backend, what should I do if “Client number upper to the limit” is reported during the Python script?</strong></font></p>
<p>A: Please try to redeploy the cluster and reduce the value of the <code class="docutils literal notranslate"><span class="pre">--cpu</span></code> parameter.</p>
<br/>
<p><font size=3><strong>Q: What should I do if the error message “health check failed, please check port: &lt;port&gt;” is reported during the deployment of a multi-process compute engine?</strong></font></p>
<p>A: The MindSpore Pandas compute engine will start multiple processes, and each process has a corresponding port. If the ports conflict, this error will be reported. The solutions are as follows:</p>
<ul class="simple">
<li><p>To check whether the port that is reporting the error is occupied, you can use the shell command <code class="docutils literal notranslate"><span class="pre">netstat</span> <span class="pre">-tunpl|grep</span> <span class="pre">&lt;port&gt;</span></code> to check the port occupancy. If the port conflicts, there are two solutions:</p>
<ul>
<li><p>Method 1: Release the occupation of the conflicting port.</p></li>
<li><p>Method 2: Modify the port used by the compute engine. In the MindSpore Pandas installation directory <code class="docutils literal notranslate"><span class="pre">dist_executor/modules/config/config.xml</span></code>, search for the conflicting port number and change it to another available port.</p></li>
</ul>
</li>
<li><p>To check whether there is a residual process from the last startup, you can use <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-ef</span> <span class="pre">|grep</span> <span class="pre">mindpandas/dist_executor</span></code> to check the PID of the residual process, and then manually clean up the process.</p></li>
</ul>
<br/>
<p><font size=3><strong>Q: What should I do when the error message “failed to request, code:3003, put object failed, id:&lt;id&gt;,requestID:&lt;id&gt;,errr: code:[Out of memory]” is reported during using a multi-process backend?</strong></font></p>
<p>A: It may be due to insufficient shared memory space of the compute engine. Please try to stop the engine and then redeploy, and set a larger <code class="docutils literal notranslate"><span class="pre">--datamem</span></code> parameter value.</p>
<br/>
<p><font size=3><strong>Q: What should I do when the error message “Failed to request, code:1001, message: invalid resource parameter, request resource is greater than each node’s max resource” is reported during using a multi-process backend?</strong></font></p>
<p>A: It may be because the CPU and memory resources requested during deployment are too few. Please try the following solutions:</p>
<ul class="simple">
<li><p>Configure larger CPU and memory resources when deploying the engine.</p></li>
<li><p>Use a multithreaded backend.</p></li>
</ul>
<br/>
<p><font size=3><strong>Q: How to solve the “RuntimeError: system not initialized” error when running on a machine with large specifications (such as more than 100 CPU cores)?</strong></font></p>
<p>A: Data transfer in compute engine relies on file descriptors. It is required that the number of available file descriptors should be at least four times the number of CPU cores in the cluster. You can view and increase the limit on the number of file descriptors on the current machine through the <code class="docutils literal notranslate"><span class="pre">ulimit</span></code> command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">ulimit</span><span class="w"> </span>–a<span class="w">  </span><span class="c1"># Where open files is the upper limit of the file descriptor. If the value is too small, it will be raised.</span>
open<span class="w"> </span>files<span class="w">                      </span><span class="o">(</span>-n<span class="o">)</span><span class="w"> </span><span class="m">1024</span>
$<span class="w"> </span><span class="nb">ulimit</span><span class="w"> </span>-n<span class="w"> </span><span class="m">4096</span>
</pre></div>
</div>
<br/>
<p><font size=3><strong>Q: How to solve “ImportError: /lib/libc.so.6: version ‘GLIBC_2.25’ not found” when using multi-process backend?</strong></font></p>
<p>A: Please upgrade the glibc version in the environment to 2.25 or above.</p>
<br/>
<p><font size=3><strong>Q: How to solve the error “TypeError: cannot unpack non-iterable &lt;class ‘yr.exception.YRInvokeError’&gt; object” when I use the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> command to execute a script in a multi-process backend?</strong></font></p>
<p>A: Due to the execution mechanism of <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, if you use a user-defined function, please make sure that other functions called in it are Python closures.</p>
<br/>
<p><font size=3><strong>Q: How to solve the “yr.exception.YRequestError: failed to request, code:3003, message: retry etcd operation Put exceed the max times” message when running with a multi-process backend?</strong></font></p>
<p>A: The compute engine uses etcd to maintain the consistency of internal data. This error may be not working properly caused by etcd. You can use the following command to check whether the etcd process exists. If the process does not exist, you need to redeploy the compute engine.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>-ef<span class="w"> </span><span class="p">|</span>grep<span class="w"> </span>dist_executor/modules/basic/bin/etcd/etcd
</pre></div>
</div>
<br/>
<p><font size=3><strong>Q: How to solve “RuntimeError: code: [RPC unavailable], msg [ Thread ID &amp;&amp; RPC unavailable. Disconnected from worker . Line of code : 117 File : object_client_impl.cpp]” when running ?</strong></font></p>
<p>A: It may be that the module using rpc communication in the compute engine is abnormal. Please use the following command to check the corresponding process. If the number of processes found is less than 3, the compute engine needs to be redeployed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>-ef<span class="w"> </span><span class="p">|</span>grep<span class="w"> </span>dist_executor/modules/datasystem
</pre></div>
</div>
<br/>
<p><font size=3><strong>Q: How to solve the “xmllint: command not found” when a multi-process compute engine is deployed?</strong></font></p>
<p>A: Install libxml2-utils to solve this problem.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mindpandas.Others.html" class="btn btn-neutral float-left" title="Others" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="RELEASE.html" class="btn btn-neutral float-right" title="Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>