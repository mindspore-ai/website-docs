<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MindPandas Documentation &mdash; MindSpore master documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installing MindPandas" href="mindpandas_install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_install.html">Installing MindPandas</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_quick_start.html">Quick Start: MindPandas Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_configuration.html">MindPandas Execution Mode Introduction and Configuration Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.config.html">mindpandas.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.DataFrame.html">mindpandas.DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Series.html">mindpandas.Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Groupby.html">mindpandas.GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Others.html">Others</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">REFERENCES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>MindPandas Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="mindpandas-documentation">
<h1>MindPandas Documentation<a class="headerlink" href="#mindpandas-documentation" title="Permalink to this headline"></a></h1>
<p>Data processing and analysis is an important part of the AI training process, in which tabular data type is a common form of data representation. The most commonly used data analysis framework in the industry is Pandas, which provides easy-to-use and rich interfaces. However, due to its single-threaded execution mode, Pandas performs poorly when handling large amounts of data. Moreover, because it does not support distribution, it is unable to handle large amounts of data beyond the memory of a single machine. In addition, as the commonly used data analysis framework in the industry is independent of the AI framework such as MindSpore, data needs to go through steps such as disk dropping and format conversion before it can be trained, which greatly affects the use efficiency.</p>
<p>MindPandas is a data analysis framework that is compatible with the Pandas interface and provides a data analysis framework with distributed processing capabilities. MindPandas is dedicated to providing high performance tabular data processing capabilities for large volumes of data. MindPandas can be seamlessly integrated into the training process, enabling MindSpore to support the entire training process of a complete AI model.</p>
<p>The architecture diagram of MindPandas is shown below:</p>
<img src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/docs/mindpandas/docs/source_en/images/mindpandas_architecture.png" width="700px" alt="" ><ol class="arabic simple">
<li><p>The top layer provides an API that is compatible with Pandas. You can switch to MindPandas for distributed execution by modifying a small amount of code based on the existing Pandas script.</p></li>
<li><p>The Distributed Query Compiler converts the API into a distributed combination of basic normal forms (MAP/Reduce/Injective_map, etc.) to ensure the stability of the back-end logic. When new operators are implemented, it can be converted into the existing combination of general computing normal forms.</p></li>
<li><p>Parallel Execution layer provides two execution modes: multi-threaded mode and multi-process mode. Users can choose the mode according to their actual scenarios.</p></li>
<li><p>MindPandas slices the original data into multiple internal partitions. Each Partition executes the corresponding operator logic in different threads or processes to achieve parallel data processing.</p></li>
<li><p>Plug-in operator execution logic is provided at the lowest level. Currently, it mainly supports Pandas operators, and more types of operator logic will be supported in the form of plug-ins later.</p></li>
</ol>
<section id="design-features">
<h2>Design Features<a class="headerlink" href="#design-features" title="Permalink to this headline"></a></h2>
<ol class="arabic">
<li><p>MindPandas can utilize all cores on the machine</p>
<p>Compared to the single-threaded implementation of the native Pandas, which can only use one CPU core at any given time. MindPandas can effectively use all cores on a single machine or all cores in a cluster that has multiple machines. The usages are as below:</p>
<img src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/docs/mindpandas/docs/source_en/images/mindpandas_multicore.png" width="700px" alt="" ><p>MindPandas can be extended to the entire cluster, utilizing the memory as well as CPU resources of the entire cluster. The usages are as below:</p>
<img src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/docs/mindpandas/docs/source_en/images/cluster.png" width="700px" alt="" ></li>
<li><p>MindPandas is consistent with the native Pandas API in terms of interface usage. You can run scripts by setting the back-end running mode of MindPandas. Just replace the import of pandas with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pandas as pd</span>
<span class="kn">import</span> <span class="nn">mindpandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
<p>Easy to use, to_pandas interface is also compatible with existing Pandas code, in order to achieve excellent performance with small code changes.</p>
</li>
</ol>
</section>
<section id="mindpandas-performance">
<h2>MindPandas Performance<a class="headerlink" href="#mindpandas-performance" title="Permalink to this headline"></a></h2>
<p>MindPandas dramatically reduces computation time by slicing the raw data and performing distributed parallel computation base on slicing.</p>
<p>Using read_csv as an example, an 8-core CPU is used to read a 900MB csv file. The result is as follows:</p>
<p>Test scenarios:</p>
<ul class="simple">
<li><p>CPU: i7-8565u (4 cores, 8 threads)</p></li>
<li><p>memory: 16GB</p></li>
<li><p>data size: 900MB csv file</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 25%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head"><p>pandas</p></th>
<th class="head"><p>mindpandas</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>read_csv</p></td>
<td><p>11.53s</p></td>
<td><p>5.62s</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">mindpandas</span> <span class="k">as</span> <span class="nn">mpd</span>

<span class="c1"># pandas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">)</span>

<span class="c1"># MindPandas</span>
<span class="n">mdf</span> <span class="o">=</span> <span class="n">mpd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other commonly used APIs, such as fillna, use MindPandas to obtain speedups ranging from several to tens of times.</p>
<p>Test scenarios:</p>
<ul class="simple">
<li><p>CPU: i7-8565u (4 cores, 8 threads)</p></li>
<li><p>memory: 16GB</p></li>
<li><p>data size: 800MB (2,000,000 rows * 48 columns)</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head"><p>pandas</p></th>
<th class="head"><p>mindpandas</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fillna</p></td>
<td><p>0.77s</p></td>
<td><p>0.13s</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">mindpandas</span> <span class="k">as</span> <span class="nn">mpd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># The number of slices can be set according to the actual situation.</span>
<span class="n">mpd</span><span class="o">.</span><span class="n">set_partition_shape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">mdf</span> <span class="o">=</span> <span class="n">mdf</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Common statistical class APIs are also substantially improved in MindPandas by parallelizing performance, such as max, min, sum, all, and any.</p>
<p>Test scenarios:</p>
<ul class="simple">
<li><p>CPU: i7-8565u (4 cores, 8 threads)</p></li>
<li><p>memory: 16GB</p></li>
<li><p>Data size: 2GB (10,000,000 rows * 48 columns)</p></li>
</ul>
<img src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/docs/mindpandas/docs/source_en/images/performance_compare.png" width="700px" alt="" ><p>With the increase of data size, MindPandas provides more advantages for distributed parallel processing. The following figure shows the performance comparison for different data volumes:</p>
<img src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.9/docs/mindpandas/docs/source_en/images/mindpandas_fillna.png" width="700px" alt="" ><p>Note: MindPandas is set to multiprocess mode and uses a 32-core CPU.</p>
</section>
<section id="future-goals">
<h2>Future Goals<a class="headerlink" href="#future-goals" title="Permalink to this headline"></a></h2>
<p>The initial version of MindPandas contains 100+ APIs, which can be divided into four classes, DataFrame, Series, GroupBy and Other. MindPandas will support more APIs and provide efficient data flow.</p>
</section>
<section id="typical-scenarios-using-mindpandas">
<h2>Typical scenarios using MindPandas<a class="headerlink" href="#typical-scenarios-using-mindpandas" title="Permalink to this headline"></a></h2>
<ul>
<li><p>Data Processing using MindPandas</p>
<p>Since MindPandas provides the same interfaces as Pandas, distributed parallel processing of raw data can be performed by replacing the referenced package.</p>
</li>
</ul>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_install.html">Installing MindPandas</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_quick_start.html">Quick Start: MindPandas Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas_configuration.html">MindPandas Execution Mode Introduction and Configuration Instructions</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.config.html">mindpandas.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.DataFrame.html">mindpandas.DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Series.html">mindpandas.Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Groupby.html">mindpandas.GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindpandas.Others.html">Others</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">REFERENCES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release Notes</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mindpandas_install.html" class="btn btn-neutral float-right" title="Installing MindPandas" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>