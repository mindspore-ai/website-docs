<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grover search algorithm based on MindQuantum &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script><script src="_static/jquery.js"></script>
        <script src="_static/js/theme.js"></script><script src="_static/underscore.js"></script><script src="_static/doctools.js"></script><script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script><script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script><script async="async" src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Shor’s algorithm based on MindQuantum" href="shor_algorithm.html" />
    <link rel="prev" title="Quantum Phase Estimation Algorithm" href="quantum_phase_estimation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindquantum_install.html">MindQuantum Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="parameterized_quantum_circuit.html">Variational Quantum Circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial_experience_of_quantum_neural_network.html">Initial experience of quantum neural network</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_gradient_of_PQC_with_mindquantum.html">Advanced gradient calculation of variational quantum circuits</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Variational Quantum Algorithm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="classification_of_iris_by_qnn.html">Classification of iris by quantum neural network</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantum_approximate_optimization_algorithm.html">Quantum Approximate Optimization Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="qnn_for_nlp.html">The Application of Quantum Neural Network in NLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="vqe_for_quantum_chemistry.html">VQE Application in Quantum Chemistry Computing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General Quantum Algorithm</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quantum_phase_estimation.html">Quantum Phase Estimation Algorithm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Grover search algorithm based on MindQuantum</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#problem-description">Problem description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fundamentals-of-grover-search-algorithm">Fundamentals of Grover search algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constructing-a-unitary-operator-that-flips-the-phase-of-a-qubit">Constructing a unitary operator that flips the phase of a qubit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples-of-grover-search-algorithm-using-mindquantum">Examples of Grover search algorithm using MindQuantum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-1-n=3,-|\omega\rangle=|2\rangle-single-target">Example 1: <span class="math notranslate nohighlight">\(n=3\)</span>, <span class="math notranslate nohighlight">\(|\omega\rangle=|2\rangle\)</span> (single target)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2-n=5,-|\omega\rangle=|5\rangle-and-|11\rangle-multi-target">Example 2: <span class="math notranslate nohighlight">\(n=5\)</span>, <span class="math notranslate nohighlight">\(|\omega\rangle=|5\rangle\)</span> and <span class="math notranslate nohighlight">\(|11\rangle\)</span> (multi-target)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shor_algorithm.html">Shor’s algorithm based on MindQuantum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.core.html">mindquantum.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.simulator.html">mindquantum.simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.framework.html">mindquantum.framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.algorithm.html">mindquantum.algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.io.html">mindquantum.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.engine.html">mindquantum.engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="mindquantum.utils.html">mindquantum.utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Grover search algorithm based on MindQuantum</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/grover_search_algorithm.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="grover-search-algorithm-based-on-mindquantum">
<h1>Grover search algorithm based on MindQuantum<a class="headerlink" href="#grover-search-algorithm-based-on-mindquantum" title="Permalink to this headline"></a></h1>
<p>Translator: <a class="reference external" href="https://gitee.com/unseenme">unseenme</a></p>
<p><a class="reference external" href="https://gitee.com/mindspore/docs/blob/r1.7/docs/mindquantum/docs/source_en/grover_search_algorithm.md"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/r1.7/resource/_static/logo_source_en.png" /></a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>If you have heard of quantum computing, you must have heard of the Grover search algorithm. In 1996, Lov Grover [1] proposed the Grover search algorithm, which is an algorithm that uses the superposition of quantum states to perform parallel computing and achieve acceleration. The Grover search algorithm is recognized as the second large quantum algorithm after Shor algorithm, and it is also the first quantum algorithm to be fully experimentally implemented, which solves the problem of unordered database search. In 1997, Bennett [2] et al. proved that for the unstructured quantum search problem, at least <span class="math notranslate nohighlight">\(\Omega(\sqrt{N})\)</span> quantum queries are required, so the Grover search algorithm is the optimal algorithm in the asymptotic sense.</p>
<p>The Unordered Database Search problem is to find some elements that meet the requirements from an unordered database with a large number of elements. Since the number of elements in the database is huge and the elements are unordered, it is easy to verify that a given element satisfies the requirements, but conversely, it is not easy to find these elements.</p>
<p>To solve the unordered database search problem (it may be assumed that there is only one target search data), the time complexity required by the classical algorithm is <span class="math notranslate nohighlight">\(\mathcal{O}(N)\)</span>, while the time complexity required by the Grover search algorithm is only <span class="math notranslate nohighlight">\(\mathcal{O}(\sqrt{N})\)</span>, compared with the classical algorithm, it has a quadratic speedup, showing the powerful performance of quantum computing. In addition, the amplitude expansion technique used in Grover search algorithm can accelerate many heuristic classical search algorithms, so it has a wide range of applications.</p>
<p>This document will introduce the basic principles of Grover search algorithm, and show how to use MindQuantum to implement the algorithm by two specific small examples.</p>
</section>
<section id="problem-description">
<h2>Problem description<a class="headerlink" href="#problem-description" title="Permalink to this headline"></a></h2>
<p>We need to search in an unordered set of <span class="math notranslate nohighlight">\(N\)</span> elements (database). Establish one-to-one correspondence between elements in the database and indexes (integers from <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(N-1\)</span>), and we focus on searching the indices of these elements. Consider formulating this search problem as a function <span class="math notranslate nohighlight">\(f(x)\)</span> over an input <span class="math notranslate nohighlight">\(x\)</span>, where <span class="math notranslate nohighlight">\(x\)</span> is an integer between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(N-1\)</span>. Then, the function <span class="math notranslate nohighlight">\(f\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{equation}
f(x)=\begin{cases}0,x\neq x_{target}\\\\
1,x=x_{target}
\end{cases}
\end{equation}.
\end{split}\]</div>
<p>Without loss of generality, assuming <span class="math notranslate nohighlight">\(N=2^n\)</span>​, then in a quantum system, the index is in the quantum state <span class="math notranslate nohighlight">\(|0\rangle,|1\rangle,...,|N-1\rangle\)</span> (or <span class="math notranslate nohighlight">\(|00...0\rangle,|00...1\rangle,...,|11...1\rangle\)</span>), that is, we can use <span class="math notranslate nohighlight">\(n\)</span>​ qubits to store these indices.</p>
<p>At the same time, it is assumed that the search problem has only one target state <span class="math notranslate nohighlight">\(|\omega\rangle\)</span>. The goal of Grover search algorithm is to search for <span class="math notranslate nohighlight">\(|\omega\rangle\)</span> with great probability.</p>
</section>
<section id="fundamentals-of-grover-search-algorithm">
<h2>Fundamentals of Grover search algorithm<a class="headerlink" href="#fundamentals-of-grover-search-algorithm" title="Permalink to this headline"></a></h2>
<p>The basic principle of Grover search algorithm: First, a uniform superposition state is generated by the Hadamard gate, and then the Grover iteration (or <span class="math notranslate nohighlight">\(G\)</span> operator) is repeatedly called to amplify the probability amplitude of the target item and suppress the probability amplitude of the non-target item (this method is called is the amplitude amplification), and finally the final state is measured, so that the target state <span class="math notranslate nohighlight">\(|\omega\rangle\)</span>​​ can be obtained with great probability.</p>
<p>The Grover search algorithm mainly includes the following steps:</p>
<ul>
<li><p>Step 1: Database initialization</p>
<p>Perform the <span class="math notranslate nohighlight">\(H^{\otimes n}\)</span>​ operation on <span class="math notranslate nohighlight">\(|0\rangle^{\otimes n}\)</span>, so that the database is initially in a uniform superposition state, that is
$<span class="math notranslate nohighlight">\( |\psi_0\rangle=H^{\otimes n}|0\rangle^{\otimes n}=\frac{1}{\sqrt{N}}\sum_{i=0}^{N-1}|i\rangle. \)</span>$</p>
</li>
<li><p>Step 2: Grover Iteration</p>
<p>Grover iteration can be further decomposed into four steps:</p>
<ol class="arabic">
<li><p>Execute the Oracle operator <span class="math notranslate nohighlight">\(U_{\omega}\)</span>​, and flip the phase of the target state <span class="math notranslate nohighlight">\(|\omega \rangle\)</span>​​​​​</p>
<p>In order to distinguish the data to be found from other data, the easiest way is to flip the phase of the target state (add a negative sign). At this time, we need to construct an Oracle operator <span class="math notranslate nohighlight">\(U_{\omega}\)</span>, which works as follows: <span class="math notranslate nohighlight">\( \begin{equation} U_{\omega}|x\rangle=\begin{cases} &amp;|x\rangle,x\neq \omega&amp;\\\\ -&amp;|x\rangle,x=\omega&amp; \end{cases} \end{equation}. \)</span><br />
Since when <span class="math notranslate nohighlight">\(x=\omega\)</span>​, <span class="math notranslate nohighlight">\(f(\omega)=1\)</span>​, the effect of <span class="math notranslate nohighlight">\(U_{\omega}\)</span> can also be expressed as: <span class="math notranslate nohighlight">\( U_{\omega}|x\rangle=(-1)^{f(x)}|x\rangle, \)</span>
Its matrix expression is <span class="math notranslate nohighlight">\(\begin{equation}U_{\omega}=\left[\begin{array}{ccc}     (-1)^{f(0)} &amp; 0           &amp; \dots  &amp; 0            \\\\     0           &amp; (-1)^{f(1)} &amp; \dots  &amp; 0            \\\\     \vdots      &amp; \vdots      &amp; \ddots &amp; \vdots       \\\\     0           &amp; 0           &amp; \dots  &amp; (-1)^{f(N-1)}\end{array}\right]\end{equation}.\)</span></p>
</li>
<li><p>Perform <span class="math notranslate nohighlight">\(H^{\otimes n}\)</span> operation</p>
<p>Perform <span class="math notranslate nohighlight">\(H^{\otimes n}\)</span> operation on <span class="math notranslate nohighlight">\(n\)</span> qubits.</p>
</li>
<li><p>Execute conditional phase shift operator <span class="math notranslate nohighlight">\(P\)</span></p>
<p>The conditional phase shift operator <span class="math notranslate nohighlight">\(P\)</span> can reverse the phase of each state except the <span class="math notranslate nohighlight">\(|0\rangle\)</span> ​state, and its effect is as follows:   <span class="math notranslate nohighlight">\(\begin{equation}P|x\rangle=\begin{cases}&amp;|0\rangle,x= 0&amp;\\\\-&amp;|x\rangle,x\neq0&amp;\end{cases}\end{equation}.\)</span>
Its matrix expression is <span class="math notranslate nohighlight">\(\begin{equation}P = 2(|0\rangle\langle0|)^{\otimes n} - I_n =\left[\begin{array}{ccc}     1      &amp; 0      &amp; \dots  &amp; 0            \\\\     0      &amp; -1     &amp; \dots  &amp; 0            \\\\     \vdots &amp; \vdots &amp; \ddots &amp; \vdots       \\\\     0      &amp; 0      &amp; \dots  &amp; -1\end{array}\right]\end{equation}.\)</span></p>
</li>
<li><p>Perform <span class="math notranslate nohighlight">\(H^{\otimes n}\)</span> operation again</p>
<p>So far, the complete <span class="math notranslate nohighlight">\(G\)</span> operator can be expressed as <span class="math notranslate nohighlight">\( G = H^{\otimes n} [2(|0\rangle\langle0|)^{\otimes n} - I_n] H^{\otimes n} U_{\omega}. \)</span>
Note: The number of iterations required for the <span class="math notranslate nohighlight">\(G\)</span> operator is r = \left[ \frac{\pi}{4} \sqrt{\frac{N}{M}} \right] \sim O(\sqrt{N}),
where, M represents the number of target states.</p>
</li>
</ol>
</li>
<li><p>Step 3: Measurement</p>
<p>By performing <span class="math notranslate nohighlight">\(\{|0\rangle,|1\rangle\}\)</span> basis measurements on the final state, the target state <span class="math notranslate nohighlight">\(|\omega \rangle\)</span> can be obtained with great probability.</p>
</li>
</ul>
<p>The complete quantum circuit model of Grover search algorithm is shown below:</p>
<p><img alt="grover algorithm circuit" src="_images/grover_algorithm_circuit.png" /></p>
</section>
<section id="constructing-a-unitary-operator-that-flips-the-phase-of-a-qubit">
<h2>Constructing a unitary operator that flips the phase of a qubit<a class="headerlink" href="#constructing-a-unitary-operator-that-flips-the-phase-of-a-qubit" title="Permalink to this headline"></a></h2>
<p>By the above introduction, we found that the most critical part of the Grover search algorithm is that there is a unitary operator that can flip the phase of the qubit, the Oracle operator <span class="math notranslate nohighlight">\(U_{\omega}\)</span> can flip the phase of the target state, and the conditional phase shift operator <span class="math notranslate nohighlight">\(P\)</span> can flip the phase of every state except <span class="math notranslate nohighlight">\(|0\rangle\)</span> state.</p>
<p>Next, we will construct a unitary operator that can flip the phase of a qubit, defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bitphaseflip_operator</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">):</span>   <span class="c1"># Define a function that flips the phase of a qubit</span>
    <span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n_qubits</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">phase_inversion_qubit</span><span class="p">:</span>
        <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
            <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">circuit</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">()</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">cz</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">cz</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">current</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">current</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">cz</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
                <span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">current</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">&amp;</span> <span class="n">j</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cz</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">circuit</span> <span class="o">+=</span> <span class="n">Z</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">circuit</span> <span class="o">+=</span> <span class="n">Z</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">circuit</span>
</pre></div>
</div>
<p>Now, the <code class="docutils literal notranslate"><span class="pre">bitphaseflip_operator()</span></code> function can flip the phase of a qubit, and users only need to input the target quantum state and the total number of qubits that need to flip the phase.</p>
<p>As an example, we now generate a uniform superposition of 3 qubits by running the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="kn">from</span> <span class="nn">mindquantum</span> <span class="kn">import</span> <span class="n">Circuit</span><span class="p">,</span> <span class="n">UN</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">Z</span>
<span class="kn">from</span> <span class="nn">mindquantum.simulator</span> <span class="kn">import</span> <span class="n">Simulator</span>

<span class="n">n_qubits</span> <span class="o">=</span> <span class="mi">3</span>                                 <span class="c1"># Set the number of qubits to 3</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="s1">&#39;projectq&#39;</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>        <span class="c1"># Use the projectq simulator, named sim</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">()</span>                          <span class="c1"># Initialize the quantum circuit, named circuit</span>
<span class="n">circuit</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>                   <span class="c1"># H-gate operations are performed on each qubit</span>

<span class="n">sim</span><span class="o">.</span><span class="n">apply_circuit</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>                   <span class="c1"># Run the built quantum circuit circuit by the simulator sim</span>

<span class="n">circuit</span>                                      <span class="c1"># Print the quantum circuit circuit at this time</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>q0: ──H──

q1: ──H──

q2: ──H──
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">get_qs</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>                      <span class="c1"># Print the final state after running the quantum circuit circuit in the simulator sim</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>√2/4¦000⟩
√2/4¦001⟩
√2/4¦010⟩
√2/4¦011⟩
√2/4¦100⟩
√2/4¦101⟩
√2/4¦110⟩
√2/4¦111⟩
</pre></div>
</div>
<p>From the running results, we can see the quantum circuit at this time, and a uniform superposition state of 3 qubits has been generated successfully.</p>
<p>Suppose we need to flip the phase of the <span class="math notranslate nohighlight">\(|4\rangle\)</span> state, just call the <code class="docutils literal notranslate"><span class="pre">bitphaseflip_operator()</span></code> function we defined and run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="n">sim</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>                                                      <span class="c1"># Reset the quantum state maintained by the simulator sim so that the initialized quantum state is |000&gt;</span>

<span class="n">phase_inversion_qubit</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>                                      <span class="c1"># Invert the phase of the |4&gt; state</span>
<span class="n">operator</span> <span class="o">=</span> <span class="n">bitphaseflip_operator</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span><span class="c1"># Call our defined bitphaseflip_operator() function</span>

<span class="n">circuit</span> <span class="o">+=</span> <span class="n">operator</span>                                              <span class="c1"># Add the quantum gate required to flip the phase of the |4&gt; state in the quantum circuit circuit</span>

<span class="n">sim</span><span class="o">.</span><span class="n">apply_circuit</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>                                       <span class="c1"># Run the built quantum circuit circuit again by the simulator sim</span>

<span class="n">circuit</span>                                                          <span class="c1"># Print the quantum circuit circuit at this time</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>q0: ──H─────────●─────────●──
                │         │
q1: ──H─────────┼────●────●──
                │    │    │
q2: ──H────Z────Z────Z────Z──
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">get_qs</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>                                          <span class="c1"># Print the final state after running the quantum circuit circuit in the simulator sim</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>√2/4¦000⟩
√2/4¦001⟩
√2/4¦010⟩
√2/4¦011⟩
-√2/4¦100⟩
√2/4¦101⟩
√2/4¦110⟩
√2/4¦111⟩
</pre></div>
</div>
<p>From the running results, we can see that the quantum circuit at this time, and the phase of <span class="math notranslate nohighlight">\(|100\rangle\)</span> is flipped to -1, run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
<p>It can be seen from the running results that the <span class="math notranslate nohighlight">\(|100\rangle\)</span> state where the phase is reversed is the <span class="math notranslate nohighlight">\(|4\rangle\)</span> state we want the phase to reverse.</p>
<p>Assuming we need to flip the phase of every state except the <span class="math notranslate nohighlight">\(|0\rangle\)</span> state, run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="n">n_qubits</span> <span class="o">=</span> <span class="mi">3</span>                                                     <span class="c1"># Set the number of qubits to 3</span>
<span class="n">sim1</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="s1">&#39;projectq&#39;</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>                           <span class="c1"># Use the projectq simulator, named sim1</span>

<span class="n">operator1</span> <span class="o">=</span> <span class="n">bitphaseflip_operator</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">))],</span> <span class="n">n_qubits</span><span class="p">)</span> <span class="c1"># Call our defined bitphaseflip_operator() function to flip the phase of each state except |0&gt; state, named operator1</span>

<span class="n">circuit1</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">()</span>                                             <span class="c1"># Initialize the quantum circuit, named circuit1</span>
<span class="n">circuit1</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>                                      <span class="c1"># H-gate operations are performed on each qubit</span>
<span class="n">circuit1</span> <span class="o">+=</span> <span class="n">operator1</span>                                            <span class="c1"># Add the quantum gates required to flip the phase of each state except the |0&gt; state in the quantum circuit circuit1</span>

<span class="n">sim1</span><span class="o">.</span><span class="n">apply_circuit</span><span class="p">(</span><span class="n">circuit1</span><span class="p">)</span>                                     <span class="c1"># Run the built quantum circuit circuit1 by the simulator sim1</span>

<span class="n">circuit1</span>                                                         <span class="c1"># Print the quantum circuit circuit1 at this time</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>q0: ──H────Z────●────●─────────●──
                │    │         │
q1: ──H────Z────Z────┼────●────●──
                     │    │    │
q2: ──H────Z─────────Z────Z────Z──
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sim1</span><span class="o">.</span><span class="n">get_qs</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>                                         <span class="c1"># Print the final state after running the quantum circuit circuit1 in the simulator sim1</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>√2/4¦000⟩
-√2/4¦001⟩
-√2/4¦010⟩
-√2/4¦011⟩
-√2/4¦100⟩
-√2/4¦101⟩
-√2/4¦110⟩
-√2/4¦111⟩
</pre></div>
</div>
<p>From the running results, we can see the quantum circuit at this time, and we successfully flip the phase of every state except the <span class="math notranslate nohighlight">\(|0\rangle\)</span> state.</p>
<p>That is to say, the function bitphaseflip_operator() we define can implement the Oracle operator <span class="math notranslate nohighlight">\(U_{\omega}\)</span> and the conditional phase shift operator <span class="math notranslate nohighlight">\(P\)</span> in the Grover search algorithm.</p>
</section>
<section id="examples-of-grover-search-algorithm-using-mindquantum">
<h2>Examples of Grover search algorithm using MindQuantum<a class="headerlink" href="#examples-of-grover-search-algorithm-using-mindquantum" title="Permalink to this headline"></a></h2>
<section id="example-1-n=3,-|\omega\rangle=|2\rangle-single-target">
<h3>Example 1: <span class="math notranslate nohighlight">\(n=3\)</span>, <span class="math notranslate nohighlight">\(|\omega\rangle=|2\rangle\)</span> (single target)<a class="headerlink" href="#example-1-n=3,-|\omega\rangle=|2\rangle-single-target" title="Permalink to this headline"></a></h3>
<p>First, we need to define the <span class="math notranslate nohighlight">\(G\)</span> operator and run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">G</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">):</span>           <span class="c1"># Define the G operator in Grover search algorithm</span>
    <span class="n">operator</span> <span class="o">=</span> <span class="n">bitphaseflip_operator</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>
    <span class="n">operator</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>
    <span class="n">operator</span> <span class="o">+=</span> <span class="n">bitphaseflip_operator</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">))],</span> <span class="n">n_qubits</span><span class="p">)</span>
    <span class="n">operator</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">operator</span>
</pre></div>
</div>
<p>Then, we build the corresponding quantum circuit in MindQuantum according to the quantum circuit model of Grover search algorithm:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sqrt</span>

<span class="n">n_qubits</span> <span class="o">=</span> <span class="mi">3</span>                                      <span class="c1"># Set the number of qubits to 3</span>
<span class="n">phase_inversion_qubit</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>                       <span class="c1"># Set the target state that needs to flip the phase, and flip the phase of the |2&gt; state here</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">n_qubits</span><span class="p">)</span>                               <span class="c1"># Calculate the total number of elements in the database</span>
<span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">)</span>                    <span class="c1"># Calculate the total number of target states</span>

<span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">N</span> <span class="o">/</span> <span class="n">M</span><span class="p">))</span>                     <span class="c1"># Set the number of iterations of the G operator to r</span>

<span class="n">sim2</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="s1">&#39;projectq&#39;</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>            <span class="c1"># Use the projectq simulator, named sim2</span>

<span class="n">circuit2</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">()</span>                              <span class="c1"># Initialize the quantum circuit, named circuit2</span>
<span class="n">circuit2</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>                       <span class="c1"># H-gate operations are performed on each qubit</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>                                <span class="c1"># Execute the G operator r times in a loop</span>
    <span class="n">circuit2</span> <span class="o">+=</span> <span class="n">G</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>

<span class="n">sim2</span><span class="o">.</span><span class="n">apply_circuit</span><span class="p">(</span><span class="n">circuit2</span><span class="p">)</span>                      <span class="c1"># Run the built quantum circuit circuit2 by the simulator sim2</span>

<span class="n">circuit2</span>                                          <span class="c1"># Print the quantum circuit circuit2 at this time</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>q0: ──H─────────●─────────●────H────Z────●────●─────────●────H─────────●─────────●────H────Z────●────●─────────●────H──
                │         │              │    │         │              │         │              │    │         │
q1: ──H────Z────Z────●────●────H────Z────Z────┼────●────●────H────Z────Z────●────●────H────Z────Z────┼────●────●────H──
                     │    │                   │    │    │                   │    │                   │    │    │
q2: ──H──────────────Z────Z────H────Z─────────Z────Z────Z────H──────────────Z────Z────H────Z─────────Z────Z────Z────H──
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sim2</span><span class="o">.</span><span class="n">get_qs</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>                          <span class="c1"># Print the final state after running the quantum circuit circuit2 in the simulator sim2</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-√2/16¦000⟩
-√2/16¦001⟩
0.9722718241315036¦010⟩
-√2/16¦011⟩
-√2/16¦100⟩
-√2/16¦101⟩
-√2/16¦110⟩
-√2/16¦111⟩
</pre></div>
</div>
<p>From the results of the operation, we can see that the amplitude of the <span class="math notranslate nohighlight">\(|010\rangle\)</span> state is 0.9722718241315036, which is a very large amplitude compared to other quantum states, that is to say, if we measure the state at this time, it will be with a great probability get the target state <span class="math notranslate nohighlight">\(|010\rangle\)</span>, run the following code to measure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="kn">from</span> <span class="nn">mindquantum</span> <span class="kn">import</span> <span class="n">Measure</span>

<span class="n">sim2</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>                                      <span class="c1"># Reset the quantum state maintained by the simulator sim2, so that the initialized quantum state is |000&gt;</span>

<span class="n">circuit2</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">Measure</span><span class="p">(),</span> <span class="n">circuit2</span><span class="o">.</span><span class="n">n_qubits</span><span class="p">)</span>      <span class="c1"># Add a measurement gate to each qubit in the quantum circuit circuit2</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sim2</span><span class="o">.</span><span class="n">sampling</span><span class="p">(</span><span class="n">circuit2</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>      <span class="c1"># Sampling the quantum circuit circuit2 1000 times by the simulator sim2</span>
<span class="n">result</span>                                            <span class="c1"># print sampling results</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>shots: 1000
Keys: q2 q1 q0│0.00     0.2         0.4         0.6         0.8         1.0
──────────────┼───────────┴───────────┴───────────┴───────────┴───────────┴
           000│▒
              │
           001│▒
              │
           010│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
              │
           011│▒
              │
           100│▒
              │
           101│▒
              │
           110│▒
              │
           111│▒
              │
{&#39;000&#39;: 9, &#39;001&#39;: 10, &#39;010&#39;: 947, &#39;011&#39;: 4, &#39;100&#39;: 8, &#39;101&#39;: 8, &#39;110&#39;: 8, &#39;111&#39;: 6}
</pre></div>
</div>
<p>It can be seen from the running results that 947 of the 1000 samples have the sampling result of 010. Convert it to a decimal number and run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;010&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
<p>It can be seen from the running results that we successfully search for the <span class="math notranslate nohighlight">\(|2\rangle\)</span> state.</p>
</section>
<section id="example-2-n=5,-|\omega\rangle=|5\rangle-and-|11\rangle-multi-target">
<h3>Example 2: <span class="math notranslate nohighlight">\(n=5\)</span>, <span class="math notranslate nohighlight">\(|\omega\rangle=|5\rangle\)</span> and <span class="math notranslate nohighlight">\(|11\rangle\)</span> (multi-target)<a class="headerlink" href="#example-2-n=5,-|\omega\rangle=|5\rangle-and-|11\rangle-multi-target" title="Permalink to this headline"></a></h3>
<p>In Example 1, single-target search is implemented, and now we try to achieve multi-target search. First, the <span class="math notranslate nohighlight">\(G\)</span> operator has been defined. We only need to set the number of qubits and the target state that needs to flip the phase, and then build the corresponding quantum circuit. Run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="n">n_qubits</span> <span class="o">=</span> <span class="mi">5</span>                                      <span class="c1"># Set the number of qubits to 5</span>
<span class="n">phase_inversion_qubit</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>                   <span class="c1"># Set the target state to be phase-flipped, and flip the phases of the |5&gt; state and |11&gt; state here</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">n_qubits</span><span class="p">)</span>                               <span class="c1"># Calculate the total number of elements in the database</span>
<span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">)</span>                    <span class="c1"># Calculate the total number of target states</span>

<span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">N</span> <span class="o">/</span> <span class="n">M</span><span class="p">))</span>                     <span class="c1"># Set the number of iterations of the G operator to r</span>

<span class="n">sim3</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="s1">&#39;projectq&#39;</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>            <span class="c1"># Use the projectq simulator, named sim3</span>

<span class="n">circuit3</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">()</span>                              <span class="c1"># Initialize the quantum circuit, named circuit3</span>
<span class="n">circuit3</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>                       <span class="c1"># H-gate operations are performed on each qubit</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>                                <span class="c1"># Execute the G operator r times in a loop</span>
    <span class="n">circuit3</span> <span class="o">+=</span> <span class="n">G</span><span class="p">(</span><span class="n">phase_inversion_qubit</span><span class="p">,</span> <span class="n">n_qubits</span><span class="p">)</span>

<span class="n">sim3</span><span class="o">.</span><span class="n">apply_circuit</span><span class="p">(</span><span class="n">circuit3</span><span class="p">)</span>                      <span class="c1"># Run the built quantum circuit circuit3 by the simulator sim3</span>

<span class="n">circuit3</span>                                          <span class="c1"># Print the quantum circuit circuit3 at this time</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>q0: ──H────●────●────●────●────●────●────●────●────H────Z────●────●─────────●────●─────────●─────────●─────────●────●─────────●─────────●─────────●─────────●─────────●─────────●─────────●────H────●────●────●────●────●────●────●────●────H────Z────●────●─────────●────●─────────●─────────●─────────●────●─────────●─────────●─────────●─────────●─────────●─────────●─────────●────H────●────●────●────●────●────●────●────●────H────Z────●────●─────────●────●─────────●─────────●─────────●────●─────────●─────────●─────────●─────────●─────────●─────────●─────────●────H──
           │    │    │    │    │    │    │    │              │    │         │    │         │         │         │    │         │         │         │         │         │         │         │         │    │    │    │    │    │    │    │              │    │         │    │         │         │         │    │         │         │         │         │         │         │         │         │    │    │    │    │    │    │    │              │    │         │    │         │         │         │    │         │         │         │         │         │         │         │
q1: ──H────┼────●────●────┼────┼────●────●────┼────H────Z────Z────┼────●────●────┼────●────●─────────┼────●────●────┼────●────●─────────┼────●────●─────────┼────●────●─────────┼────●────●────H────┼────●────●────┼────┼────●────●────┼────H────Z────Z────┼────●────●────┼────●────●─────────┼────●────●────┼────●────●─────────┼────●────●─────────┼────●────●─────────┼────●────●────H────┼────●────●────┼────┼────●────●────┼────H────Z────Z────┼────●────●────┼────●────●─────────┼────●────●────┼────●────●─────────┼────●────●─────────┼────●────●─────────┼────●────●────H──
           │    │    │    │    │    │    │    │                   │    │    │    │    │    │         │    │    │    │    │    │         │    │    │         │    │    │         │    │    │         │    │    │    │    │    │    │    │                   │    │    │    │    │    │         │    │    │    │    │    │         │    │    │         │    │    │         │    │    │         │    │    │    │    │    │    │    │                   │    │    │    │    │    │         │    │    │    │    │    │         │    │    │         │    │    │         │    │    │
q2: ──H────Z────Z────┼────●────●────●────┼────●────H────Z─────────Z────Z────Z────┼────┼────┼────●────●────●────●────┼────┼────┼────●────●────●────●─────────┼────┼────┼────●────●────●────●────H────Z────Z────┼────●────●────●────┼────●────H────Z─────────Z────Z────Z────┼────┼────┼────●────●────●────●────┼────┼────┼────●────●────●────●─────────┼────┼────┼────●────●────●────●────H────Z────Z────┼────●────●────●────┼────●────H────Z─────────Z────Z────Z────┼────┼────┼────●────●────●────●────┼────┼────┼────●────●────●────●─────────┼────┼────┼────●────●────●────●────H──
                     │    │    │    │    │    │                                  │    │    │    │    │    │    │    │    │    │    │    │    │    │         │    │    │    │    │    │    │                   │    │    │    │    │    │                                  │    │    │    │    │    │    │    │    │    │    │    │    │    │         │    │    │    │    │    │    │                   │    │    │    │    │    │                                  │    │    │    │    │    │    │    │    │    │    │    │    │    │         │    │    │    │    │    │    │
q3: ──H──────────────Z────Z────┼────┼────●────●────H────Z────────────────────────Z────Z────Z────Z────Z────Z────Z────┼────┼────┼────┼────┼────┼────┼────●────●────●────●────●────●────●────●────H──────────────Z────Z────┼────┼────●────●────H────Z────────────────────────Z────Z────Z────Z────Z────Z────Z────┼────┼────┼────┼────┼────┼────┼────●────●────●────●────●────●────●────●────H──────────────Z────Z────┼────┼────●────●────H────Z────────────────────────Z────Z────Z────Z────Z────Z────Z────┼────┼────┼────┼────┼────┼────┼────●────●────●────●────●────●────●────●────H──
                               │    │    │    │                                                                     │    │    │    │    │    │    │    │    │    │    │    │    │    │    │                             │    │    │    │                                                                     │    │    │    │    │    │    │    │    │    │    │    │    │    │    │                             │    │    │    │                                                                     │    │    │    │    │    │    │    │    │    │    │    │    │    │    │
q4: ──H────────────────────────Z────Z────Z────Z────H────Z───────────────────────────────────────────────────────────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────H────────────────────────Z────Z────Z────Z────H────Z───────────────────────────────────────────────────────────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────H────────────────────────Z────Z────Z────Z────H────Z───────────────────────────────────────────────────────────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────Z────H──
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sim3</span><span class="o">.</span><span class="n">get_qs</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>                          <span class="c1"># Print the final state after running the quantum circuit circuit3 in the simulator sim3</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-0.03590776623212942¦00000⟩
-0.03590776623212939¦00001⟩
-0.03590776623212932¦00010⟩
-0.03590776623212946¦00011⟩
-0.03590776623212935¦00100⟩
0.6932961018664991¦00101⟩
-0.035907766232129434¦00110⟩
-0.03590776623212945¦00111⟩
-0.035907766232129434¦01000⟩
-0.03590776623212945¦01001⟩
-0.03590776623212935¦01010⟩
0.6932961018664991¦01011⟩
-0.03590776623212932¦01100⟩
-0.03590776623212946¦01101⟩
-0.03590776623212939¦01110⟩
-0.03590776623212939¦01111⟩
-0.0359077662321294¦10000⟩
-0.03590776623212941¦10001⟩
-0.035907766232129414¦10010⟩
-0.035907766232129434¦10011⟩
-0.03590776623212944¦10100⟩
-0.035907766232129434¦10101⟩
-0.03590776623212944¦10110⟩
-0.035907766232129434¦10111⟩
-0.03590776623212943¦11000⟩
-0.035907766232129434¦11001⟩
-0.03590776623212943¦11010⟩
-0.035907766232129434¦11011⟩
-0.0359077662321294¦11100⟩
-0.035907766232129434¦11101⟩
-0.035907766232129414¦11110⟩
-0.03590776623212941¦11111⟩
</pre></div>
</div>
<p>It can be seen from the running results that the amplitudes of the <span class="math notranslate nohighlight">\(|00101\rangle\)</span> ​​and <span class="math notranslate nohighlight">\(|01011\rangle\)</span> states are both 0.6932961018664989, which are extremely large amplitudes compared to other quantum states, that is, if we measure the current state, the target states <span class="math notranslate nohighlight">\(|00101\rangle\)</span> ​​and <span class="math notranslate nohighlight">\(|01011\rangle\)</span> ​​states will be obtained with a great probability, run the following code to measure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pylint: disable=W0104</span>
<span class="n">sim3</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>                                      <span class="c1"># Reset the quantum state maintained by the simulator sim3 so that the initialized quantum state is |00000&gt;</span>

<span class="n">circuit3</span> <span class="o">+=</span> <span class="n">UN</span><span class="p">(</span><span class="n">Measure</span><span class="p">(),</span> <span class="n">circuit3</span><span class="o">.</span><span class="n">n_qubits</span><span class="p">)</span>      <span class="c1"># Add a measurement gate to each qubit in the quantum circuit circuit3</span>

<span class="n">result1</span> <span class="o">=</span> <span class="n">sim3</span><span class="o">.</span><span class="n">sampling</span><span class="p">(</span><span class="n">circuit3</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>     <span class="c1"># The quantum circuit circuit3 is sampled 1000 times by the simulator sim3</span>
<span class="n">result1</span>                                           <span class="c1"># print sampling results</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>shots: 1000
Keys: q4 q3 q2 q1 q0│0.00   0.126       0.251       0.377       0.503       0.629
────────────────────┼───────────┴───────────┴───────────┴───────────┴───────────┴
               00000│▒
                    │
               00001│▒
                    │
               00100│▒
                    │
               00101│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
                    │
               00110│▒
                    │
               00111│▒
                    │
               01000│▒
                    │
               01001│▒
                    │
               01010│▒
                    │
               01011│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
                    │
               01100│▒
                    │
               01101│▒
                    │
               01111│▒
                    │
               10000│▒
                    │
               10001│▒
                    │
               10011│▒
                    │
               10100│▒
                    │
               10101│▒
                    │
               10111│▒
                    │
               11000│▒
                    │
               11011│▒
                    │
               11100│▒
                    │
               11101│▒
                    │
               11111│▒
                    │
{&#39;00000&#39;: 2, &#39;00001&#39;: 2, &#39;00100&#39;: 1, &#39;00101&#39;: 463, &#39;00110&#39;: 2, &#39;00111&#39;: 3, &#39;01000&#39;: 1,
&#39;01001&#39;: 1, &#39;01010&#39;: 1, &#39;01011&#39;: 503, &#39;01100&#39;: 1, &#39;01101&#39;: 1, &#39;01111&#39;: 1, &#39;10000&#39;: 1,
&#39;10001&#39;: 1, &#39;10011&#39;: 2, &#39;10100&#39;: 2, &#39;10101&#39;: 2, &#39;10111&#39;: 1, &#39;11000&#39;: 3, &#39;11011&#39;: 1, &#39;11100&#39;:
2, &#39;11101&#39;: 2, &#39;11111&#39;: 1}
</pre></div>
</div>
<p>It can be seen from the running results that 463 of the 1000 samplings have the sampling result of 00101 and 503 samplings have the result of 01011. Convert it to a decimal number and run the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;00101&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;01011&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>5
11
</pre></div>
</div>
<p>It can be seen from the running results that we successfully search for the <span class="math notranslate nohighlight">\(|5\rangle\)</span> and <span class="math notranslate nohighlight">\(|11\rangle\)</span> ​​​​​states.</p>
<p>So far, we have introduced the basic principles of Grover search algorithm, and shown how to use MindQuantum to implement the algorithm by two specific small examples! Hurry up and experience the fun of quantum programming!</p>
<p>To find out more about MindQuantum’s API, please click: <a class="reference external" href="https://mindspore.cn/mindquantum/">https://mindspore.cn/mindquantum/</a></p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline"></a></h2>
<p>[1] L. K. Grover, A fast quantum mechanical algorithm for database search[C]// Proceedings of the twenty-eighth annual ACM symposium on Theory of computing. ACM, 1996: 212-219.</p>
<p>[2] G. Brassard, P. Hoyer, M. Mosca, et al. Quantum amplitude amplification and estimation[J]. Contemporary Mathematics, 2002, 305: 53-74.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quantum_phase_estimation.html" class="btn btn-neutral float-left" title="Quantum Phase Estimation Algorithm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="shor_algorithm.html" class="btn btn-neutral float-right" title="Shor’s algorithm based on MindQuantum" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>