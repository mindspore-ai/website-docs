<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sponge.colvar.Center &mdash; MindSpore master documentation</title><script>;(()=>{const e=localStorage.getItem("ms-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e?"dark"===e:t)&&document.documentElement.setAttribute("data-o-theme","dark")})();</script><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
        <script src="../_static/js/theme.js"></script><script src="../_static/underscore.js"></script><script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sponge.colvar.Group" href="sponge.colvar.Group.html" />
    <link rel="prev" title="sponge.colvar.BatchedAtoms" href="sponge.colvar.BatchedAtoms.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MindSpore
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Molecular Simulation Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/physics_driven.html">Physics Driven</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/data_driven.html">Data Driven</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/physics_plus_data_driven.html">Physics Data Fusion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/simulation.html">Molecular Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/structure_prediction.html">Molecular Structure Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/property_prediction.html">Molecular Properties Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/design.html">Molecular Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/basic.html">Molecular Foundation Model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../mindsponge.cell.html">mindsponge.cell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindsponge.common.html">mindsponge.common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindsponge.data_transform.html">mindsponge.data_transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mindsponge.metrics.html">mindsponge.metrics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sponge.colvar.html">sponge.colvar</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.AllAtoms.html">sponge.colvar.AllAtoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.AtomsBase.html">sponge.colvar.AtomsBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Atoms.html">sponge.colvar.Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.BatchedAtoms.html">sponge.colvar.BatchedAtoms</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">sponge.colvar.Center</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Group.html">sponge.colvar.Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Position.html">sponge.colvar.Position</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.BatchedPosition.html">sponge.colvar.BatchedPosition</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Vector.html">sponge.colvar.Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Angle.html">sponge.colvar.Angle</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.ConstantValue.html">sponge.colvar.ConstantValue</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Distance.html">sponge.colvar.Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Torsion.html">sponge.colvar.Torsion</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Volume.html">sponge.colvar.Volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.CombineCV.html">sponge.colvar.CombineCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.ColvarCombine.html">sponge.colvar.ColvarCombine</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.CosCV.html">sponge.colvar.CosCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.FunctionCV.html">sponge.colvar.FunctionCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.SinCV.html">sponge.colvar.SinCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.TransformCV.html">sponge.colvar.TransformCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.Colvar.html">sponge.colvar.Colvar</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.ColvarGroup.html">sponge.colvar.ColvarGroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.get_colvar.html">sponge.colvar.get_colvar</a></li>
<li class="toctree-l2"><a class="reference internal" href="sponge.colvar.get_atoms.html">sponge.colvar.get_atoms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.control.html">sponge.control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.core.html">sponge.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.function.html">sponge.function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.optimizer.html">sponge.optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.potential.html">sponge.potential</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.system.html">sponge.system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.metrics.html">sponge.metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponge.partition.html">sponge.partition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../constant.html">Constants</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RELEASE NOTES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../sponge.colvar.html">sponge.colvar</a> &raquo;</li>
      <li>sponge.colvar.Center</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/colvar/sponge.colvar.Center.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sponge-colvar-center">
<h1>sponge.colvar.Center<a class="headerlink" href="#sponge-colvar-center" title="Permalink to this headline"></a></h1>
<a class="reference external image-reference" href="https://gitee.com/mindspore/mindscience/blob/master/MindSPONGE/src/sponge/colvar/atoms/center.py"><img alt="View Source On Gitee" src="https://mindspore-website.obs.cn-north-4.myhuaweicloud.com/website-images/master/resource/_static/logo_source_en.svg" /></a>
<dl class="py class">
<dt class="sig sig-object py" id="sponge.colvar.Center">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sponge.colvar.</span></span><span class="sig-name descname"><span class="pre">Center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="sponge.colvar.AtomsBase.html#sponge.colvar.AtomsBase" title="sponge.colvar.AtomsBase"><span class="pre">AtomsBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_in_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'atoms_center'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sponge/colvar/atoms/center.html#Center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sponge.colvar.Center" title="Permalink to this definition"></a></dt>
<dd><p>Center of specific atoms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>Union</em><em>[</em><a class="reference internal" href="sponge.colvar.AtomsBase.html#sponge.colvar.AtomsBase" title="sponge.colvar.AtomsBase"><em>AtomsBase</em></a><em>, </em><em>Tensor</em><em>, </em><em>ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>]</em>) – Specific atoms or virtual atoms of shape (…, G, D).
<cite>G</cite> means number of the group of atoms to be averaged.
<cite>D</cite> means spatial dimension of the simulation system. Usually is 3.</p></li>
<li><p><strong>mass</strong> (<em>Union</em><em>[</em><em>Tensor</em><em>, </em><em>ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>]</em>) – Array of the mass of the atoms to calculate the center of mass (COM).
The shape of Tensor is (…, G) or (B, …, G), and the data type is float.
If it is None, the geometric center of coordinate will be calculated.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>. <cite>B</cite> means Batchsize, i.e. number of walkers in simulation.</p></li>
<li><p><strong>batched</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether the first dimension of index and mass is the batch size.
Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>keep_in_box</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether to displace the coordinate in PBC box.
Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>keepdims</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If this is set to True, the axis which is reduced will be left,
and the shape the center will be (…, 1, D).
If this is set to False, the shape of the center will be (…, D).
if None, its value will be determined according to the rank (number of dimension) of
the input atoms: False if the rank is greater than 2, otherwise True.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Axis along which the average of position are coumputed. Default: -2</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the Colvar. Default: ‘atoms_center’</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Supported Platforms:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mindspore</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindspore</span> <span class="kn">import</span> <span class="n">Tensor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sponge.colvar</span> <span class="kn">import</span> <span class="n">Center</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crd</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">ms</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">ms</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span> <span class="o">=</span> <span class="n">Center</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">mass</span><span class="p">[</span><span class="n">atoms</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span><span class="p">(</span><span class="n">crd</span><span class="p">)</span>
<span class="go">Tensor(shape=[1, 3], dtype=Float32, value=</span>
<span class="go">[[ 7.61003494e-01,  6.70868099e-01,  5.67968249e-01]])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sponge.colvar.Center.set_mass">
<span class="sig-name descname"><span class="pre">set_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sponge/colvar/atoms/center.html#Center.set_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sponge.colvar.Center.set_mass" title="Permalink to this definition"></a></dt>
<dd><p>set the mass of atoms</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sponge.colvar.BatchedAtoms.html" class="btn btn-neutral float-left" title="sponge.colvar.BatchedAtoms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sponge.colvar.Group.html" class="btn btn-neutral float-right" title="sponge.colvar.Group" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright MindSpore.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
</body>
</html>