

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Converting Dataset to MindRecord &mdash; MindSpore master documentation</title>
  

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Optimizing Data Processing" href="optimize_data_processing.html" />
    <link rel="prev" title="Publishing Models using MindSpore Hub" href="../use/publish_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> MindSpore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start.html">Implementing an Image Classification Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/linear_regression.html">Implementing Simple Linear Function Fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_video.html">Hands-on Installation and Experience</a></li>
</ul>
<p class="caption"><span class="caption-text">Basic Use</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../use/data_preparation.html">Loading Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use/defining_the_network.html">Defining the Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use/save_model.html">Saving Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use/load_model_for_inference_and_transfer.html">Loading a Model for Inference and Transfer Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use/publish_model.html">Publishing Models using MindSpore Hub</a></li>
</ul>
<p class="caption"><span class="caption-text">Process Data</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Converting Dataset to MindRecord</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-concepts">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Converting Dataset to MindRecord</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-mindrecord-dataset">Loading MindRecord Dataset</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="optimize_data_processing.html">Optimizing Data Processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Build Networks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="custom_operator.html">Custom Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrate_script.html">Migrating Training Scripts from Third Party Frameworks</a></li>
</ul>
<p class="caption"><span class="caption-text">Model Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug_in_pynative_mode.html">Debugging in PyNative Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_debugging_info.html">Custom Debugging Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization_tutorials.html">Training Process Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="enable_auto_augmentation.html">Auto Augmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluate_the_model_during_training.html">Evaluating the Model during Training</a></li>
</ul>
<p class="caption"><span class="caption-text">Performance Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="distributed_training_tutorials.html">Distributed Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="enable_mixed_precision.html">Enabling Mixed Precision</a></li>
<li class="toctree-l1"><a class="reference internal" href="enable_graph_kernel_fusion.html">Enabling Graph Kernel Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="apply_gradient_accumulation.html">Applying Gradient Accumulation Algorithm</a></li>
</ul>
<p class="caption"><span class="caption-text">Model Compression</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="apply_quantization_aware_training.html">Applying Quantization Aware Training</a></li>
</ul>
<p class="caption"><span class="caption-text">Model Security and Privacy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="improve_model_security_nad.html">Improving Model Security with NAD Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="protect_user_privacy_with_differential_privacy.html">Protecting User Privacy with Differential Privacy Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_model_security_fuzzing.html">Testing Model Security Using Fuzz Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cv.html">Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp.html">Natural Language Processing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MindSpore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Converting Dataset to MindRecord</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/advanced_use/convert_dataset.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="converting-dataset-to-mindrecord">
<h1>Converting Dataset to MindRecord<a class="headerlink" href="#converting-dataset-to-mindrecord" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Linux</span></code> <code class="docutils literal notranslate"><span class="pre">Ascend</span></code> <code class="docutils literal notranslate"><span class="pre">GPU</span></code> <code class="docutils literal notranslate"><span class="pre">CPU</span></code> <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Preparation</span></code> <code class="docutils literal notranslate"><span class="pre">Intermediate</span></code> <code class="docutils literal notranslate"><span class="pre">Expert</span></code></p>
<!-- TOC --><ul class="simple">
<li><p><a class="reference external" href="#converting-dataset-to-mindrecord">Converting Dataset to MindRecord</a></p>
<ul>
<li><p><a class="reference external" href="#overview">Overview</a></p></li>
<li><p><a class="reference external" href="#basic-concepts">Basic Concepts</a></p></li>
<li><p><a class="reference external" href="#converting-dataset-to-mindrecord-1">Converting Dataset to MindRecord</a></p></li>
<li><p><a class="reference external" href="#loading-mindrecord-dataset">Loading MindRecord Dataset</a></p></li>
</ul>
</li>
</ul>
<!-- /TOC --><p><a href="https://gitee.com/mindspore/docs/blob/r1.0/tutorials/training/source_en/advanced_use/convert_dataset.md" target="_blank"><img src="../_static/logo_source.png"></a></p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Users can convert non-standard datasets and common datasets into the MindSpore data format, MindRecord, so that they can be easily loaded to MindSpore for training. In addition, the performance of MindSpore in some scenarios is optimized, which delivers better user experience when you use datasets in the MindSpore data format.</p>
<p>The MindSpore data format has the following features:</p>
<ol class="simple">
<li><p>Unified storage and access of user data are implemented, simplifying training data loading.</p></li>
<li><p>Data is aggregated for storage, which can be efficiently read, managed and moved.</p></li>
<li><p>Data encoding and decoding are efficient and transparent to users.</p></li>
<li><p>The partition size is flexibly controlled to implement distributed training.</p></li>
</ol>
<p>The MindSpore data format aims to normalize the datasets of users to MindRecord, which can be further loaded through the <code class="docutils literal notranslate"><span class="pre">MindDataset</span></code> and used in the training procedure.</p>
<p><img alt="data_conversion_concept" src="../_images/data_conversion_concept.png" /></p>
</div>
<div class="section" id="basic-concepts">
<h2>Basic Concepts<a class="headerlink" href="#basic-concepts" title="Permalink to this headline">¶</a></h2>
<p>A MindRecord file consists of data files and index files. Data files and index files do not support renaming for now.</p>
<ul>
<li><p>Data file</p>
<p>A data file contains a file header, scalar data pages and block data pages for storing normalized training data. It is recommended that the size of a single MindRecord file does not exceed 20 GB. Users can break up a large dataset and store the dataset into multiple MindRecord files.</p>
</li>
<li><p>Index file</p>
<p>An index file contains the index information generated based on scalar data (such as image labels and image file names), used for convenient data fetching and storing statistical data about the dataset.</p>
</li>
</ul>
<p><img alt="mindrecord" src="../_images/mindrecord.png" /></p>
<p>A data file consists of the following key parts:</p>
<ul>
<li><p>File Header</p>
<p>The file header stores the file header size, scalar data page size, block data page size, schema, index fields, statistics, file partition information, and mapping between scalar data and block data. It is the metadata of the MindRecord file.</p>
</li>
<li><p>Scalar data page</p>
<p>The scalar data page is used to store integer, string and floating point data, such as the label of an image, file name of an image, and length, width of an image. The information suitable for storage with scalars is stored here.</p>
</li>
<li><p>Block data page</p>
<p>The block data page is used to store data such as binary strings and NumPy arrays. Additional examples include converted python dictionaries generated from texts and binary image files.</p>
</li>
</ul>
</div>
<div class="section" id="id1">
<h2>Converting Dataset to MindRecord<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The following tutorial demonstrates how to convert image data and its annotations to MindRecord.</p>
<ol>
<li><p>Import the <code class="docutils literal notranslate"><span class="pre">FileWriter</span></code> class for file writing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mindspore.mindrecord</span> <span class="kn">import</span> <span class="n">FileWriter</span>
</pre></div>
</div>
</li>
<li><p>Define a dataset schema which defines dataset fields and field types.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cv_schema_json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;int32&quot;</span><span class="p">},</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">}}</span>
</pre></div>
</div>
<p>Schema mainly contains <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: field names, consist of letters, digits and underscores.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: field types, include int32, int64, float32, float64, string and bytes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: [-1] for one-dimensional array, [m, n, …] for higher dimensional array in which m and n represent the dimensions.</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>The type of a field with the <code class="docutils literal notranslate"><span class="pre">shape</span></code> attribute can only be int32, int64, float32, or float64.</p></li>
<li><p>If the field has the <code class="docutils literal notranslate"><span class="pre">shape</span></code> attribute, only data in <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> type can be transferred to the <code class="docutils literal notranslate"><span class="pre">write_raw_data</span></code> API.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Prepare the data sample list to be written based on the user-defined schema format. Binary data of the images is transferred below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;1.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x10</span><span class="s2">c</span><span class="se">\xb3</span><span class="s2">w</span><span class="se">\xa8\xee</span><span class="s2">$o&amp;&lt;q</span><span class="se">\x8c\x8e</span><span class="s2">(</span><span class="se">\xa2\x90\x90\x96\xbc\xb1\x1e\xd4</span><span class="s2">QER</span><span class="se">\x13</span><span class="s2">?</span><span class="se">\xff\xd9</span><span class="s2">&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;2.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">56</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xe6\xda\xd1\xae\x07\xb8</span><span class="s2">&gt;</span><span class="se">\xd4\x00\xf8\x12</span><span class="s2">9</span><span class="se">\x15\xd9\xf2</span><span class="s2">q</span><span class="se">\xc0\xa2\x91</span><span class="s2">YFUO</span><span class="se">\x1d</span><span class="s2">sE1</span><span class="se">\x1e</span><span class="s2">p&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;3.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xaf\xaf</span><span class="s2">U&lt;</span><span class="se">\xb8</span><span class="s2">|6</span><span class="se">\xbd</span><span class="s2">}</span><span class="se">\xc1\x99</span><span class="s2">[</span><span class="se">\xea</span><span class="s2">j+</span><span class="se">\x8f\x84\xd3\xcc\xa0</span><span class="s2">,i</span><span class="se">\xbb\xb9</span><span class="s2">-</span><span class="se">\xcd</span><span class="s2">z</span><span class="se">\xec</span><span class="s2">p{T</span><span class="se">\xb1\xdb</span><span class="s2">&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</li>
<li><p>Adding index fields can accelerate data loading. This step is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">FileWriter</span></code> object, transfer the file name and number of slices, add the schema and index, call the <code class="docutils literal notranslate"><span class="pre">write_raw_data</span></code> API to write data, and call the <code class="docutils literal notranslate"><span class="pre">commit</span></code> API to generate a local data file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">writer</span> <span class="o">=</span> <span class="n">FileWriter</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;test.mindrecord&quot;</span><span class="p">,</span> <span class="n">shard_num</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">add_schema</span><span class="p">(</span><span class="n">cv_schema_json</span><span class="p">,</span> <span class="s2">&quot;test_schema&quot;</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">add_index</span><span class="p">(</span><span class="n">indexes</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">write_raw_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
<p>This example will generate <code class="docutils literal notranslate"><span class="pre">test.mindrecord0</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord0.db</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord1</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord1.db</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord2</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord2.db</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord3</span></code>, <code class="docutils literal notranslate"><span class="pre">test.mindrecord3.db</span></code>, totally eight files, called MindRecord datasets. <code class="docutils literal notranslate"><span class="pre">test.mindrecord0</span></code> and <code class="docutils literal notranslate"><span class="pre">test.mindrecord0.db</span></code> are collectively referred to as a MindRecord file, where <code class="docutils literal notranslate"><span class="pre">test.mindrecord0</span></code> is the data file and <code class="docutils literal notranslate"><span class="pre">test.mindrecord0.db</span></code> is the index file.</p>
<p><strong>Interface Description:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">write_raw_data</span></code>: write data to memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commit</span></code>: write data in memory to disk.</p></li>
</ul>
</li>
<li><p>For adding data to the existing data format file, call the <code class="docutils literal notranslate"><span class="pre">open_for_append</span></code> API to open the existing data file, call the <code class="docutils literal notranslate"><span class="pre">write_raw_data</span></code> API to write new data, and then call the <code class="docutils literal notranslate"><span class="pre">commit</span></code> API to generate a local data file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">writer</span> <span class="o">=</span> <span class="n">FileWriter</span><span class="o">.</span><span class="n">open_for_append</span><span class="p">(</span><span class="s2">&quot;test.mindrecord0&quot;</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">write_raw_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="loading-mindrecord-dataset">
<h2>Loading MindRecord Dataset<a class="headerlink" href="#loading-mindrecord-dataset" title="Permalink to this headline">¶</a></h2>
<p>The following tutorial briefly demonstrates how to load the MindRecord dataset using the <code class="docutils literal notranslate"><span class="pre">MindDataset</span></code>.</p>
<ol>
<li><p>Import the <code class="docutils literal notranslate"><span class="pre">dataset</span></code> for dataset loading.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mindspore.dataset</span> <span class="k">as</span> <span class="nn">ds</span>
</pre></div>
</div>
</li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">MindDataset</span></code> to load the MindRecord dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">MindDataset</span><span class="p">(</span><span class="n">dataset_file</span><span class="o">=</span><span class="s2">&quot;test.mindrecord0&quot;</span><span class="p">)</span>     <span class="c1"># read full dataset</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data_set</span><span class="o">.</span><span class="n">create_dict_iterator</span><span class="p">(</span><span class="n">output_numpy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sample: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Got </span><span class="si">{}</span><span class="s2"> samples&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
</pre></div>
</div>
<p>The output is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mi">175</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span>  <span class="mi">85</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span>  <span class="mi">54</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">193</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span>  <span class="mi">91</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span>  <span class="mi">43</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">211</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span>  <span class="mi">44</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">187</span><span class="p">,</span> <span class="mi">185</span><span class="p">,</span>  <span class="mi">45</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span>  <span class="mi">84</span><span class="p">,</span> <span class="mi">177</span><span class="p">,</span> <span class="mi">219</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;3.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mi">230</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">174</span><span class="p">,</span>   <span class="mi">7</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span>  <span class="mi">62</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span>  <span class="mi">18</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span>  <span class="mi">89</span><span class="p">,</span>  <span class="mi">70</span><span class="p">,</span>  <span class="mi">85</span><span class="p">,</span>  <span class="mi">79</span><span class="p">,</span>  <span class="mi">29</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span>  <span class="mi">69</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span> <span class="mi">112</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;2.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span> <span class="mi">16</span><span class="p">,</span>  <span class="mi">99</span><span class="p">,</span> <span class="mi">179</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">238</span><span class="p">,</span>  <span class="mi">36</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span>  <span class="mi">38</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">188</span><span class="p">,</span> <span class="mi">177</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span>  <span class="mi">81</span><span class="p">,</span>  <span class="mi">69</span><span class="p">,</span>  <span class="mi">82</span><span class="p">,</span>  <span class="mi">19</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">217</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;1.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span> <span class="mi">16</span><span class="p">,</span>  <span class="mi">99</span><span class="p">,</span> <span class="mi">179</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">238</span><span class="p">,</span>  <span class="mi">36</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span>  <span class="mi">38</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">188</span><span class="p">,</span> <span class="mi">177</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span>  <span class="mi">81</span><span class="p">,</span>  <span class="mi">69</span><span class="p">,</span>  <span class="mi">82</span><span class="p">,</span>  <span class="mi">19</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">217</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;1.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mi">175</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span>  <span class="mi">85</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span>  <span class="mi">54</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">193</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span>  <span class="mi">91</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span>  <span class="mi">43</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">211</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span>  <span class="mi">44</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">187</span><span class="p">,</span> <span class="mi">185</span><span class="p">,</span>  <span class="mi">45</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span>  <span class="mi">84</span><span class="p">,</span> <span class="mi">177</span><span class="p">,</span> <span class="mi">219</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;3.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">sample</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mi">230</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">174</span><span class="p">,</span>   <span class="mi">7</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span>  <span class="mi">62</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span>  <span class="mi">18</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span>  <span class="mi">89</span><span class="p">,</span>  <span class="mi">70</span><span class="p">,</span>  <span class="mi">85</span><span class="p">,</span>  <span class="mi">79</span><span class="p">,</span>  <span class="mi">29</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span>  <span class="mi">69</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span> <span class="mi">112</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
    <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;2.jpg&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;|S5&#39;</span><span class="p">),</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)}</span>
<span class="n">Got</span> <span class="mi">6</span> <span class="n">samples</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="optimize_data_processing.html" class="btn btn-neutral float-right" title="Optimizing Data Processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../use/publish_model.html" class="btn btn-neutral float-left" title="Publishing Models using MindSpore Hub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, MindSpore

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>